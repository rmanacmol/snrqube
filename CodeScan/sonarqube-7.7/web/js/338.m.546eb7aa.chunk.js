(window.webpackJsonp=window.webpackJsonp||[]).push([[338],{1666:function(e,t,n){"use strict";n.r(t);var r=n(354),o=n(360);class a extends r.Component{render(){const e=window.SonarGovernance.CreateForm;return r.createElement(e,Object.assign({},this.props))}}var i=n(377),c=n(359);function l({className:e,fill:t="currentColor",size:n}){return r.createElement(c.a,{className:e,size:n},r.createElement("path",{d:"M1,7L7,7L7,1L9,1L9,7L15,7L15,9L9,9L9,15L7,15L7,9L1,9L1,7Z",style:{fill:t}}))}var s=n(583),u=n(563),p=n(0),f=n(13),h=n(362),m=n(380);n.d(t,"GlobalNavPlus",function(){return d});class d extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={createPortfolio:!1,governanceReady:!1},this.handleNewProjectClick=(e=>{e.preventDefault(),this.props.openProjectOnboarding()}),this.openCreatePortfolioForm=(()=>{this.setState({createPortfolio:!0})}),this.closeCreatePortfolioForm=(()=>{this.setState({createPortfolio:!1})}),this.handleNewPortfolioClick=(e=>{e.preventDefault(),e.currentTarget.blur(),this.openCreatePortfolioForm()}),this.handleCreatePortfolio=(({key:e,qualifier:t})=>Object(u.a)({component:e}).then(n=>{n.configuration&&n.configuration.extensions&&n.configuration.extensions.find(e=>"governance/console"===e.key)?this.props.router.push(Object(h.t)(e,t)):this.props.router.push(Object(h.u)(e)),this.closeCreatePortfolioForm()}))}componentDidMount(){this.mounted=!0,this.props.appState.qualifiers.includes("VW")&&Object(s.a)("governance/console").then(()=>{this.mounted&&this.setState({governanceReady:!0})},()=>{})}componentWillUnmount(){this.mounted=!1}renderCreateProject(e){return e?r.createElement("li",null,r.createElement("a",{className:"js-new-project",href:"#",onClick:this.handleNewProjectClick},Object(f.isSonarCloud)()?Object(p.l)("provisioning.analyze_new_project"):Object(p.l)("my_account.create_new.TRK"))):null}renderCreateOrganization(e){return e?r.createElement("li",null,r.createElement(o.Link,{className:"js-new-organization",to:"/create-organization"},Object(p.l)("my_account.create_new_organization"))):null}renderCreatePortfolio(e,t){return this.props.appState.qualifiers.includes("VW")&&e?r.createElement("li",null,r.createElement("a",{className:"js-new-portfolio",href:"#",onClick:this.handleNewPortfolioClick},t?Object(p.l)("my_account.create_new",t):Object(p.l)("my_account.create_new_portfolio_application"))):null}render(){const e=this.props.currentUser,t=Object(m.a)(e,"applicationcreator"),n=Object(f.isSonarCloud)(),o=Object(m.a)(e,"portfoliocreator"),c=Object(f.isSonarCloud)()||Object(m.a)(e,"provisioning");if(!(c||t||o||n))return null;let s;return t?o||(s="APP"):s="VW",r.createElement(r.Fragment,null,r.createElement(i.b,{overlay:r.createElement("ul",{className:"menu"},this.renderCreateProject(c),this.renderCreateOrganization(n),this.renderCreatePortfolio(t||o,s)),tagName:"li"},r.createElement("a",{className:"navbar-icon navbar-plus",href:"#",title:Object(f.isSonarCloud)()?Object(p.l)("my_account.create_new_project_or_organization"):Object(p.l)("my_account.create_new_project_portfolio_or_application")},r.createElement(l,null))),this.state.governanceReady&&this.state.createPortfolio&&r.createElement(a,{defaultQualifier:s,onClose:this.closeCreatePortfolioForm,onCreate:this.handleCreatePortfolio}))}}t.default=Object(o.withRouter)(d)},379:function(e,t,n){var r=n(390),o=1/0,a=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}},414:function(e,t){var n=Math.max,r=Math.min;e.exports=function(e,t,o){return e>=r(t,o)&&e<n(t,o)}},434:function(e,t,n){var r=n(414),o=n(379),a=n(390);e.exports=function(e,t,n){return t=o(t),void 0===n?(n=t,t=0):n=o(n),e=a(e),r(e,t,n)}},563:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c});var r=n(4),o=n(372);function a(e){return Object(r.getJSON)("/api/navigation/component",e).catch(o.a)}function i(){return Object(r.getJSON)("/api/navigation/marketplace").catch(o.a)}function c(){return Object(r.getJSON)("/api/navigation/settings").catch(o.a)}}}]);
//# sourceMappingURL=338.m.546eb7aa.chunk.js.map
{"version":3,"sources":["webpack:///./src/main/js/apps/issues/styles.css?1ee7","webpack:///./src/main/js/apps/issues/styles.css","webpack:///./src/main/js/apps/issues/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/issues/components/ComponentBreadcrumbs.tsx","webpack:///./src/main/js/apps/issues/components/ListItem.tsx","webpack:///./src/main/js/apps/issues/components/IssuesList.tsx","webpack:///./src/main/js/apps/issues/components/IssuesSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/MyIssuesFilter.tsx","webpack:///./src/main/js/apps/issues/components/NoIssues.tsx","webpack:///./src/main/js/apps/issues/components/NoMyIssues.tsx","webpack:///./src/main/js/apps/issues/components/IssuesCounter.tsx","webpack:///./src/main/js/apps/issues/components/TotalEffort.tsx","webpack:///./src/main/js/apps/issues/components/PageActions.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationBadge.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocations.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigatorLocation.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/CrossFileLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueBox.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueComponent.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssue.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesList.tsx","webpack:///./src/main/js/components/controls/BackButton.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesListHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/AssigneeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/AuthorFacet.tsx","webpack:///./src/main/js/components/charts/BarChart.tsx","webpack:///./src/main/js/apps/issues/sidebar/CreationDateFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/DirectoryFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/FileFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ProjectFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ResolutionFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/RuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/SeverityFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StatusFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TagFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TypeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/issues/actions.ts","webpack:///./src/main/js/apps/issues/components/App.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/helpers/pages.ts","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/helpers/path.ts","webpack:///./node_modules/date-fns/add_months/index.js","webpack:///./node_modules/date-fns/get_days_in_month/index.js","webpack:///./src/main/js/api/rules.ts","webpack:///./src/main/js/app/utils/handleRequiredAuthentication.ts","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/icons-components/ChevronDownIcon.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./node_modules/date-fns/set_month/index.js","webpack:///./src/main/js/components/icons-components/OpenCloseIcon.tsx","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./node_modules/date-fns/set_year/index.js","webpack:///./node_modules/date-fns/sub_months/index.js","webpack:///./src/main/js/components/icons-components/ChevronLeftIcon.tsx","webpack:///./src/main/js/components/controls/styles.css?a36c","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/helpers/search.tsx","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./node_modules/lodash/range.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./src/main/js/components/controls/DayPicker.css?da9e","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/search-navigator.css?f3f4","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/icons-components/CalendarIcon.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/components/shared/Organization.tsx","webpack:///./src/main/js/components/charts/BarChart.css?d69c","webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/main/js/components/controls/DateRangeInput.tsx","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/common/EmptySearch.css?d20a","webpack:///./src/main/js/components/icons-components/StatusIcon.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/components/icons-components/EllipsisIcon.tsx","webpack:///./src/main/js/components/controls/Radio.tsx","webpack:///./src/main/js/apps/securityReports/utils.ts","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?7370","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/components/common/LocationIndex.css?97f1","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/issue/Issue.css?0f03","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/LocationMessage.css?faa2","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./node_modules/lodash/max.js","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","AssigneeSelect","SearchSelect","TagSelect","MAX_PAGE_SIZE","BulkChangeModal_BulkChangeModal","index_js_exposed","[object Object]","props","super","this","mounted","loadIssues","fetchIssues","additionalFields","ps","getDefaultAssignee","currentUser","issues","state","Object","users","filter","issue","assignee","login","length","avatar","label","name","value","l10n","handleAssigneeSearch","query","utils","organization","then","results","map","r","handleAssigneeSelect","setState","handleTagsSearch","api_issues","q","tags","tag","handleTagsSelect","field","handleFieldCheck","checked","handleRadioTransitionChange","transition","handleCommentChange","event","comment","currentTarget","handleSelectFieldChange","data","handleSubmit","preventDefault","pickBy_default","add_tags","addTags","t","join","assign","do_transition","remove_tags","removeTags","sendNotifications","notifications","set_severity","severity","set_type","type","x","issueKeys","key","submitting","onDone","error","throwGlobalError","renderLoading","className","buttons","onClick","onClose","renderAffected","affected","renderField","input","id","htmlFor","renderAssigneeOption","option","Avatar","hash","size","renderAssigneeField","hasAction","clearable","defaultOptions","onSearch","onSelect","renderOption","resetOnBlur","renderTypeField","optionRenderer","IssueTypeIcon","Select","onChange","searchable","valueRenderer","renderSeverityField","SeverityHelper","renderTagOption","renderTagsField","allowCreate","initialTags","canCreate","minimumQueryLength","multi","onMultiSelect","promptTextCreator","promptCreateTag","renderTransitionsField","transitions","getAvailableTransitions","Radio","onCheck","count","renderCommentField","HelpTooltip","overlay","rows","MarkdownTips","renderNotificationsField","Checkbox","right","renderForm","_this$state","paging","limitReached","total","onSubmit","classnames","modal-container","Alert","variant","index_es","defaultMessage","values","max","disabled","component","loading","Promise","all","slice","forEach","sortBy_default","keys","Modal","contentLabel","onRequestClose","action","actions","includes","ComponentBreadcrumbs","selectedFlowIndex","selectedLocationIndex","displayOrganization","qualifier","displayProject","displaySubProject","selectedLocation","componentName","componentLongName","Organization","link","organizationKey","title","projectName","helpers_path","subProject","subProjectName","ListItem_ListItem","similarIssues","handleFilter","property","onFilterChange","issuesReset","startsWith","substr","types","severities","statuses","status","resolution","resolved","resolutions","assigned","assignees","rules","rule","projects","projectKey","subProjectUuid","modules","files","componentUuid","_this$props","branchLike","previousIssue","displayComponent","Issue","displayLocationsLink","onFilter","onPopupToggle","openPopup","selected","IssuesList_IssuesList","selectedIssue","index","onIssueChange","onIssueCheck","onIssueClick","IssuesSourceViewer_IssuesSourceViewer","scrollToIssue","smooth","node","element","querySelector","openIssue","handleScroll","offset","window","innerHeight","scrolling","topOffset","bottomOffset","handleLoaded","prevProps","shouldScrollBackToIssue","_this$props2","locations","aroundLine","textRange","startLine","endLine","highlightedLocations","location","highlightedLocationMessage","locationsNavigator","text","msg","allMessagesEmpty","every","resolve","ref","SourceViewer","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","onIssueSelect","onLoaded","onLocationSelect","scroll","MyIssuesFilter_MyIssuesFilter","handleClick","myIssues","onMyIssuesChange","NoIssues","NoMyIssues","IssuesCounter","PageCounter","current","TotalEffort","effort","0","measures","PageActions_PageActions","effortTotal","selectedIndex","renderShortcuts","ReloadButton","onReload","canSetHome","HomePageSelect","currentPage","system","ConciseIssueLocationBadge","Tooltip","mouseEnterDelay","LocationIndex","LIMIT","ConciseIssueLocations_ConciseIssueLocations","collapsed","handleExpandClick","href","_this$props$issue","secondaryLocations","flows","badges","flow","onFlowSelect","renderExpandButton","ConciseIssueLocationsNavigatorLocation_ConciseIssueLocationsNavigatorLocation","LocationMessage","message","CrossFileLocationsNavigator_CrossFileLocationsNavigator","handleMoreLocationsClick","blur","groupByFile","groups","currentComponent","currentComponentName","currentLocations","currentFirstLocationIndex","firstLocationIndex","renderLocation","renderGroup","group","groupIndex","onlyFirst","onlyLast","lastLocationIndex","nextProps","nextLocations","firstGroup","lastGroup","ConciseIssueLocationsNavigator_ConciseIssueLocationsNavigator","locationComponents","uniq_default","ConciseIssueBox_ConciseIssueBox","rootElement","messageElement","clickAttributesMain","role","tabIndex","clickAttributesTitle","TypeHelper","ConciseIssueComponent","path","ConciseIssue_ConciseIssue","ConciseIssuesList_ConciseIssuesList","scrollableElement","document","parent","BackButton_BackButton","renderIcon","height","viewBox","width","d","fill","theme","_this$props$tooltip","tooltip","cursor-not-allowed","ConciseIssuesListHeader","_props$displayBackBut","displayBackButton","onBackClick","AssigneeFacet_AssigneeFacet","handleSearch","page","handleItemClick","itemValue","multiple","newValue","without_default","handleClear","getAssigneeName","user","referencedUsers","loadSearchResultCount","getSortedItems","_this$props$stats","stats","renderFacetItem","renderSearchResult","result","search","ListStyleFacet","facetHeader","fetching","getFacetItemText","getSearchResultKey","getSearchResultText","onClear","onItemClick","onToggle","open","omit_default","searchPlaceholder","SEARCH_SIZE","AuthorFacet_AuthorFacet","identity","author","_page","project","authors","maxResults","term","BarChart_BarChart","point","onBarClick","renderXTicks","xScale","yScale","_this$props$xTicks","xTicks","ticks","tick","Math","round","bandwidth","y","range","dy","style","cursor","renderXValues","_this$props2$xValues","xValues","renderBars","bars","maxY","rect","barsWidth","_this$props3","_this$props3$padding","padding","availableWidth","availableHeight","innerPadding","relativeInnerPadding","src","d3_scale_src","domain","paddingInner","CreationDateFacet_CreationDateFacet","hasValue","createdAfter","createdAt","createdBefore","createdInLast","sinceLeakPeriod","handleHeaderClick","resetTo","changes","handleBarClick","handlePeriodChange","from","to","handlePeriodClick","period","handleLeakPeriodClick","formatDate","intl","DateFormatter","periods","start","startDate","dates","endDate","setDate","getDate","tooltipEndDate","Date","floor","maxValue","max_default","DateTimeFormatter","date","DateFromNow","DateRangeInput","_this$props4","FacetItem","active","renderExactDate","renderBarChart","renderPeriodSelectors","renderPredefinedPeriods","FacetBox","FacetHeader","getValues","DeferredSpinner","renderInner","defaultProps","sidebar_CreationDateFacet","DirectoryFacet_DirectoryFacet","directory","components","componentKey","qualifiers","p","directories","renderDirectory","QualifierIcon","minSearchLength","FileFacet_FileFacet","getFile","file","referencedComponents","renderFile","sidebar_LanguageFacet","es","installedLanguages","rootReducer","getLanguageName","language","referencedLanguages","getAllPossibleOptions","toLowerCase","pageIndex","pageSize","uniqBy_default","languages","ProjectFacet_ProjectFacet","refKey","getProjectName","renderProject","RESOLUTIONS","ResolutionFacet_ResolutionFacet","orderBy_default","renderItem","isFacetItemActive","stat","getStat","halfWidth","getFacetItemName","clearLabel","FacetItemsList","MultipleSelectionHint","RuleFacet_RuleFacet","f","s","include_external","response","getRuleName","ruleKey","referencedRules","formatRuleName","langName","SEVERITIES","SeverityFacet_SeverityFacet","StandardFacet_StandardFacet","cweQuery","standards","owaspTop10","sansTop25","cwe","loadStandards","e","bind","default","item","securityReports_utils","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","prop","items","handleOwaspTop10ItemClick","handleSansTop25ItemClick","handleCWESearch","loadCWESearchResultCount","categories","renderList","statsProp","valuesProp","renderName","renderFacetItemsList","renderTooltip","category","renderHint","owaspTop10Open","fetchingOwaspTop10","renderOwaspTop10List","renderOwaspTop10Hint","sansTop25Open","fetchingSansTop25","renderSansTop25List","renderSansTop25Hint","fetchingCwe","cweOpen","cweStats","renderSubFacets","STATUSES","StatusFacet_StatusFacet","StatusHelper","TagFacet_SEARCH_SIZE","TagFacet_TagFacet","getTagName","renderTag","TagsIcon","TypeFacet_TypeFacet","constants","Sidebar_Sidebar","facets","loadingFacets","openFacets","commonProps","onFacetToggle","referencedComponentsById","hideAuthorFacet","displayProjectsFacet","displayAuthorFacet","owaspTop10Stats","sansTop25Stats","referencedComponentsByKey","renderComponentFacets","enableLocationsNavigator","disableLocationsNavigator","selectNextLocation","lastLocationIdx","selectPreviousLocation","selectNextFlow","selectPreviousFlow","DEFAULT_QUERY","App_App","handleKeyDown","keymaster","keyCode","altKey","handleKeyUp","getOpenIssue","find","selectNextIssue","getSelectedIndex","selectPreviousIssue","issueKey","pathname","branches","scrollToSelectedIssue","router","replace","closeIssue","openSelectedIssue","additional","requestFacets","requestOrganizations","facet","parameters","componentKeys","sort","asc","Boolean","multiOrganizations","fetchIssuesPage","fetchIssuesUntil","done","recursiveFetch","fetchMoreIssues","checkAll","loadingMore","fetchIssuesForComponent","_component","_from","_this$state2","reject","isSameComponent","lastIssue","nextIssues","fetchFacet","_a","other","__rest","keyBy_default","isFiltered","serialized","getCheckedIssues","getButtonLabel","min","handleFilterChange","handleMyIssuesChange","closeFacet","_this$state3","handleFacetToggle","handleReset","handlePopupToggle","popupName","samePopup","handleIssueCheck","handleIssueChange","candidate","handleOpenBulkChange","bulkChangeModal","handleCloseBulkChange","handleBulkChangeDone","fetchFirstIssues","handleReload","onBranchesChange","handleReloadAndOpenFirst","selectLocation","nextIndex","handleCheckAll","selectFlow","isLoggedIn","pages","attachShortcuts","handleRequiredAuthentication","prevState","prevQuery","detachShortcuts","addEventListener","removeEventListener","_this$state4","_this$state4$issues","findIndex","_this$state5","isAllChecked","thirdState","isChecked","userOrganizations","userOrganization","o","FiltersHeader","displayReset","onReset","_this$state6","ListFooter","loadMore","ScreenPositionHelper","top","renderConciseIssuesList","renderFacets","_this$state7","noIssuesMessage","common_EmptySearch","hasSeveralFlows","_this$state8","branch","pullRequest","_this$state9","Suggestions","suggestions","Helmet_default","a","renderSide","renderBulkChange","renderShortcutsForLocations","renderPage","__webpack_exports__","withRouter","toNumber","INFINITY","MAX_INTEGER","addSideBarClass","addWhitePageClass","removeSideBarClass","removeWhitePageClass","CLASS_SIDEBAR_PAGE","CLASS_WHITE_PAGE","toggleBodyClass","force","body","classList","toggle","documentElement","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","collapsePath","limit","tokens","split","head","tail","middle","cut","shift","collapsedDirFromPath","fileFromPath","splitPath","limitComponentName","str","parse","getDaysInMonth","dirtyDate","dirtyAmount","amount","Number","desiredMonth","getMonth","dateWithDesiredMonth","setFullYear","getFullYear","setHours","daysInMonth","setMonth","year","monthIndex","lastDayOfMonth","getRulesApp","searchRules","takeFacet","getRuleDetails","getRuleTags","createRule","deleteRule","updateRule","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","catch","_getHistory__WEBPACK_IMPORTED_MODULE_0__","history","returnTo","return_to","react__WEBPACK_IMPORTED_MODULE_0__","classnames__WEBPACK_IMPORTED_MODULE_1__","data-property","children","_icons_components_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_1__","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","helper","showClearButton","renderHelper","renderValueIndicator","ctrlKey","metaKey","search-navigator-facet-half","data-facet","renderValue","ChevronDownIcon","_Icon__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1__","getPosition","containerPos","container","getBoundingClientRect","pageYOffset","left","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","dirtyMonth","month","day","OpenCloseIcon","_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_1__","_ChevronRightcon__WEBPACK_IMPORTED_MODULE_2__","ListStyleFacetFooter_ListStyleFacetFooter","handleShowMoreClick","showMore","handleShowLessClick","showLess","hasMore","allShown","ListStyleFacet_ListStyleFacet","autoFocus","searching","searchResultsCounts","showFullList","stopSearching","loadCountsForSearchResults","searchMaxResults","searchResults","searchPaging","searchMore","_this$props$loadSearc","resultsToLoad","hideFullList","helpers_query","maxInitialItems","sortedItems","limitedList","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","SearchBox","minLength","placeholder","ready","loadingResults","showList","search-navigator-facet-box-forbidden","disabledHelper","renderSearch","renderSearchResults","dirtyYear","addMonths","ChevronLeftIcon","highlightTerm","pos","indexOf","substring","isSymbol","array","comparator","computed","createRange","baseRange","isIterateeCall","toFinite","fromRight","end","step","nativeCeil","ceil","nativeMax","Array","CalendarIcon","Icon","DateInput_DayPicker","lazyLoad","DateInput_DateInput","focus","openCalendar","handleResetClick","closeCalendar","currentMonth","lastHovered","handleDayClick","modifiers","handleDayMouseEnter","handleCurrentMonthChange","set_month","handleCurrentYearChange","set_year","handlePreviousMonthClick","sub_months","handleNextMonthClick","add_months","highlightFrom","highlightTo","minDate","after","maxDate","months","range_default","years","selectedDays","lastHoveredOrValue","highlighted","weekdaysLong","weekdaysShort","OutsideClickHandler","onClickOutside","InputWrapper","inputClassName","is-filled","innerRef","onFocus","readOnly","color","ClearIcon","String","ChevronRightcon","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","formattedValue","_lazyLoad__WEBPACK_IMPORTED_MODULE_0__","baseOrderBy","iteratees","orders","guard","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","navigator","userAgent","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","_ui_OrganizationLink__WEBPACK_IMPORTED_MODULE_3__","_props$link","shouldBeDisplayed","linkClassName","ownProps","_DateInput__WEBPACK_IMPORTED_MODULE_2__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","handleFromChange","setTimeout","toDateInput","handleToChange","data-test","leading","clickAttributes","is-leading","statusIcons","icons_components_Icon","confirmed","reopened","closed","StatusIcon","EllipsisIcon","aria-checked","is-checked","renderOwaspTop10Category","withPrefix","record","addPrefix","toUpperCase","renderCWECategory","renderSansTop25Category","prefix","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","_ui_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","baseExtremum","baseGt","EmptySearch","updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","IssueChangelogDiff","diff","oldValue","ChangelogPopup_ChangelogPopup","changelogs","loadChangelog","Dropdown","placement","popups","BottomRight","creationDate","idx","userName","diffs","IssueChangelog_IssueChangelog","toggleChangelog","togglePopup","handleClose","Toggler","isOpen","DropdownIcon","IssueMessage_IssueMessage","openRule","aria-label","engine","manualVulnerability","SelectListItem_SelectListItem","handleSelect","handleHover","onHover","classnames_default","onMouseOver","renderLink","SelectList_SelectList","previousKeyScope","previousFilter","currentKeyScope","uniqueId_default","tagName","target","srcElement","isInput","selectNextElement","selectPreviousElement","renderChild","child","currentItem","hasChildren","SimilarIssuesPopup_SimilarIssuesPopup","noPadding","assigneeAvatar","assigneeName","ruleName","componentQualifier","SimilarIssuesFilter_SimilarIssuesFilter","FilterIcon","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","reduce","sum","locationsBadge","displayLocations","displayLocationsCount","issueUrl","urls","context","Consumer","externalRuleEngine","fromHotspot","currentPopup","LinkIcon","LIST_SIZE","popups_SetAssigneePopup","react_redux_es","searchMembers","organizations","projectOrganization","handleSearchResult","searchUsers","handleSearchChange","defaultUsersArray","helpers_users","map_default","marginLeft","IssueAssign_IssueAssign","toggleAssign","canAssign","closeOnEscape","onAssign","renderAssignee","CommentPopup_CommentPopup","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","handleKeyboard","stopPropagation","markdown","autoTriggered","onKeyDown","IssueCommentAction_IssueCommentAction","addComment","closeOnClickOutside","commentAutoTriggered","commentPlaceholder","SEVERITY","SetSeverityPopup","SeverityIcon","IssueSeverity_IssueSeverity","toggleSetSeverity","setSeverity","setIssueProperty","canSetSeverity","SetIssueTagsPopup_LIST_SIZE","SetIssueTagsPopup_SetIssueTagsPopup","searchResult","selectedTags","setTags","onUnselect","availableTags","difference_default","TagsSelector","listSize","IssueTags_IssueTags","toggleSetTags","_issue$tags","canSetTags","TagsList","allowUpdate","SetTransitionPopup","IssueTransition_IssueTransition","setTransition","toggleSetTransition","hasTransitions","TYPES","SetTypePopup","IssueType_IssueType","toggleSetType","setType","canSetType","IssueActionsBar_IssueActionsBar","popup","apiCall","handleTransition","canComment","isSecurityHotspot","CommentDeletePopup","onDelete","IssueCommentLine_IssueCommentLine","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","closePopups","authorName","authorAvatar","dangerouslySetInnerHTML","__html","htmlText","updatable","IssueView_IssueView","handleCheck","_checked","isClickable","parentElement","editComment","deleteComment","hasCheckbox","issueClass","issue-with-checkbox","data-issue","comments","Issue_Issue","handleAssignement","bindShortcuts","unbindShortcuts"],"mappings":"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","file":"js/272.m.1ceb3b23.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.issues-main-header .component-name {\\n  line-height: 24px;\\n}\\n\\n.issues-main-header-spinner {\\n  margin-right: 2px;\\n}\\n\\n.concise-issues-list-header-inner {\\n  width: 260px;\\n  text-align: center;\\n}\\n\\n.concise-issues-list-header .spinner {\\n  margin-top: 4px;\\n  margin-left: 1px;\\n  margin-right: 1px;\\n}\\n\\n.concise-issues-list-header-button {\\n  border: none;\\n}\\n\\n.concise-issues-list-header-button path {\\n  fill: #777;\\n  transition: fill 0.3s ease;\\n}\\n\\n.concise-issues-list-header-button:hover path {\\n  fill: #4b9fd5;\\n}\\n\\n.concise-issue-component {\\n  margin-top: 16px;\\n  margin-bottom: 4px;\\n  padding-left: 8px;\\n  padding-right: 8px;\\n}\\n\\n.concise-issue-box {\\n  position: relative;\\n  z-index: 1;\\n  margin-bottom: 4px;\\n  padding: 8px;\\n  border: 1px solid #e6e6e6;\\n  background-color: #fff;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease, border-color 0.3s ease;\\n}\\n\\n.concise-issue-box:hover {\\n  background-color: #ffeaea;\\n}\\n\\n.concise-issue-box:focus {\\n  outline: none;\\n}\\n\\n.concise-issue-box.selected {\\n  z-index: 2;\\n  border-color: #dd4040;\\n  background-color: #ffeaea;\\n  cursor: default;\\n}\\n\\n.concise-issue-box-message {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  font-weight: bold;\\n}\\n\\n.concise-issue-box-message:focus {\\n  outline: none;\\n}\\n\\n.concise-issue-box.selected .concise-issue-box-message {\\n  cursor: pointer;\\n}\\n\\n.concise-issue-box-attributes {\\n  margin-top: 8px;\\n  line-height: 16px;\\n  font-size: 12px;\\n}\\n\\n.concise-issue-box:not(.selected) .location-index {\\n  background-color: #ccc;\\n}\\n\\n.concise-issue-locations {\\n  margin-right: -4px;\\n  margin-bottom: -4px;\\n}\\n\\n.concise-issue-locations .location-index {\\n  margin-right: 4px;\\n  margin-bottom: 4px;\\n}\\n\\n.concise-issue-locations-navigator-location {\\n  position: relative;\\n  z-index: 3;\\n  display: inline-flex;\\n  align-items: flex-start;\\n  max-width: 100%;\\n  border: none;\\n}\\n\\n.concise-issue-locations-navigator-file {\\n  position: relative;\\n}\\n\\n.concise-issue-locations-navigator-file + .concise-issue-locations-navigator-file {\\n  margin-top: 12px;\\n}\\n\\n.concise-issue-locations-navigator-file:not(:last-child)::before {\\n  position: absolute;\\n  display: block;\\n  width: 0;\\n  top: 13px;\\n  bottom: -16px;\\n  left: 4px;\\n  border-left: 1px dotted #d18582;\\n  content: '';\\n}\\n\\n.concise-issue-location-file {\\n  height: 16px;\\n  padding-bottom: 4px;\\n  font-size: 12px;\\n  font-weight: bold;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.concise-issue-location-file-circle,\\n.concise-issue-location-file-circle-multiple,\\n.concise-issue-location-file-circle-multiple::before,\\n.concise-issue-location-file-circle-multiple::after {\\n  position: relative;\\n  top: 1px;\\n  display: inline-block;\\n  width: 9px;\\n  height: 9px;\\n  border: 1px solid #d18582;\\n  border-radius: 100%;\\n  box-sizing: border-box;\\n  background-color: #ffeaea;\\n}\\n\\n.concise-issue-location-file-circle-multiple {\\n  top: -2px;\\n}\\n\\n.concise-issue-location-file-circle-multiple::before {\\n  position: absolute;\\n  z-index: 7;\\n  top: 2px;\\n  left: -1px;\\n  content: '';\\n}\\n\\n.concise-issue-location-file-circle-multiple::after {\\n  position: absolute;\\n  z-index: 8;\\n  top: 5px;\\n  left: -1px;\\n  content: '';\\n}\\n\\n.concise-issue-location-file-locations {\\n  padding-left: 16px;\\n}\\n\\n.concise-issue-location-file-more {\\n  border-color: rgba(209, 133, 130, 0.2);\\n  color: rgb(209, 133, 130) !important;\\n  font-style: italic;\\n  font-weight: normal;\\n}\\n\\n.concise-issue-location-file-more:hover,\\n.concise-issue-location-file-more:focus {\\n  border-color: rgba(209, 133, 130, 0.6);\\n}\\n\\n.issues-my-issues-filter {\\n  margin-bottom: 24px;\\n  text-align: center;\\n}\\n\\n.issues-page-actions {\\n  display: inline-block;\\n  min-width: 80px;\\n  text-align: right;\\n}\\n\\n.issues .issue-list {\\n  /* no math, just a good guess */\\n  min-width: 640px;\\n  width: 800px;\\n}\\n\\n.issues .issue {\\n  border: 1px solid transparent;\\n  cursor: pointer;\\n}\\n\\n.issues .issue:hover {\\n  border: 1px dashed #dd4040;\\n  transition: all 0.3s ease;\\n}\\n\\n.issues .issue:focus {\\n  outline: none;\\n}\\n\\n@media (max-width: 1320px) {\\n  .issues .issue-list {\\n    width: calc(60vw - 40px);\\n  }\\n}\\n\\n.issues-workspace-list-component {\\n  padding: 10px 10px 6px;\\n}\\n\\n.issues-workspace-list-item + .issues-workspace-list-item {\\n  margin-top: 5px;\\n}\\n\\n.issues-workspace-list-component + .issues-workspace-list-item {\\n  margin-top: 10px;\\n}\\n\\n.issues-workspace-list-item:first-child .issues-workspace-list-component {\\n  padding-top: 0;\\n}\\n\\n.issues-workspace-list-component + .issues-workspace-list-item {\\n  margin-top: 0;\\n}\\n\\n.issues-predefined-periods {\\n  display: flex;\\n}\\n\\n.issues-predefined-periods .search-navigator-facet {\\n  width: auto;\\n  margin-right: 4px;\\n}\\n\\n.bulk-change-radio-button {\\n  margin: 0 -4px;\\n  padding: 0 4px;\\n}\\n\\n.bulk-change-radio-button:hover {\\n  background-color: #f3f3f3;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport { pickBy, sortBy } from 'lodash';\nimport { searchAssignees } from '../utils';\nimport Avatar from '../../../components/ui/Avatar';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport HelpTooltip from '../../../components/controls/HelpTooltip';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport Modal from '../../../components/controls/Modal';\nimport Radio from '../../../components/controls/Radio';\nimport SearchSelect from '../../../components/controls/SearchSelect';\nimport Select from '../../../components/controls/Select';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport { Alert } from '../../../components/ui/Alert';\nimport { searchIssueTags, bulkChangeIssues } from '../../../api/issues';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { isLoggedIn } from '../../../helpers/users';\n\ninterface AssigneeOption {\n  avatar?: string;\n  email?: string;\n  label: string;\n  value: string;\n}\n\ninterface TagOption {\n  label: string;\n  value: string;\n}\n\ninterface Props {\n  component: T.Component | undefined;\n  currentUser: T.CurrentUser;\n  fetchIssues: (x: {}) => Promise<{ issues: T.Issue[]; paging: T.Paging }>;\n  onClose: () => void;\n  onDone: () => void;\n  organization: { key: string } | undefined;\n}\n\ninterface FormFields {\n  addTags?: Array<{ label: string; value: string }>;\n  assignee?: AssigneeOption;\n  comment?: string;\n  notifications?: boolean;\n  organization?: string;\n  removeTags?: Array<{ label: string; value: string }>;\n  severity?: string;\n  transition?: string;\n  type?: string;\n}\n\ninterface State extends FormFields {\n  initialTags: Array<{ label: string; value: string }>;\n  issues: T.Issue[];\n  // used for initial loading of issues\n  loading: boolean;\n  paging?: T.Paging;\n  // used when submitting a form\n  submitting: boolean;\n}\n\ntype AssigneeSelectType = new () => SearchSelect<AssigneeOption>;\nconst AssigneeSelect = SearchSelect as AssigneeSelectType;\n\ntype TagSelectType = new () => SearchSelect<TagOption>;\nconst TagSelect = SearchSelect as TagSelectType;\n\nexport const MAX_PAGE_SIZE = 500;\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    let organization = props.component && props.component.organization;\n    if (props.organization && !organization) {\n      organization = props.organization.key;\n    }\n    this.state = { initialTags: [], issues: [], loading: true, submitting: false, organization };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    Promise.all([\n      this.loadIssues(),\n      searchIssueTags({ organization: this.state.organization })\n    ]).then(\n      ([{ issues, paging }, tags]) => {\n        if (this.mounted) {\n          if (issues.length > MAX_PAGE_SIZE) {\n            issues = issues.slice(0, MAX_PAGE_SIZE);\n          }\n\n          this.setState({\n            initialTags: tags.map(tag => ({ label: tag, value: tag })),\n            issues,\n            loading: false,\n            paging\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadIssues = () => {\n    return this.props.fetchIssues({ additionalFields: 'actions,transitions', ps: MAX_PAGE_SIZE });\n  };\n\n  getDefaultAssignee = () => {\n    const { currentUser } = this.props;\n    const { issues } = this.state;\n    const options = [];\n\n    if (isLoggedIn(currentUser)) {\n      const canBeAssignedToMe =\n        issues.filter(issue => issue.assignee !== currentUser.login).length > 0;\n      if (canBeAssignedToMe) {\n        options.push({\n          avatar: currentUser.avatar,\n          label: currentUser.name,\n          value: currentUser.login\n        });\n      }\n    }\n\n    const canBeUnassigned = issues.filter(issue => issue.assignee).length > 0;\n    if (canBeUnassigned) {\n      options.push({ label: translate('unassigned'), value: '' });\n    }\n\n    return options;\n  };\n\n  handleAssigneeSearch = (query: string) => {\n    return searchAssignees(query, this.state.organization).then(({ results }) =>\n      results.map(r => ({ avatar: r.avatar, label: r.name, value: r.login }))\n    );\n  };\n\n  handleAssigneeSelect = (assignee: AssigneeOption) => {\n    this.setState({ assignee });\n  };\n\n  handleTagsSearch = (query: string) => {\n    return searchIssueTags({ organization: this.state.organization, q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleTagsSelect = (field: 'addTags' | 'removeTags') => (\n    options: Array<{ label: string; value: string }>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: options });\n  };\n\n  handleFieldCheck = (field: keyof FormFields) => (checked: boolean) => {\n    if (!checked) {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    } else if (field === 'notifications') {\n      this.setState<keyof FormFields>({ [field]: true });\n    }\n  };\n\n  handleRadioTransitionChange = (transition: string) => {\n    this.setState({ transition });\n  };\n\n  handleCommentChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) => {\n    this.setState({ comment: event.currentTarget.value });\n  };\n\n  handleSelectFieldChange = (field: 'severity' | 'type') => (data: { value: string } | null) => {\n    if (data) {\n      this.setState<keyof FormFields>({ [field]: data.value });\n    } else {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    }\n  };\n\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const query = pickBy(\n      {\n        add_tags: this.state.addTags && this.state.addTags.map(t => t.value).join(),\n        assign: this.state.assignee ? this.state.assignee.value : null,\n        comment: this.state.comment,\n        do_transition: this.state.transition,\n        remove_tags: this.state.removeTags && this.state.removeTags.map(t => t.value).join(),\n        sendNotifications: this.state.notifications,\n        set_severity: this.state.severity,\n        set_type: this.state.type\n      },\n      x => x !== undefined\n    );\n\n    const issueKeys = this.state.issues.map(issue => issue.key);\n\n    this.setState({ submitting: true });\n    bulkChangeIssues(issueKeys, query).then(\n      () => {\n        this.setState({ submitting: false });\n        this.props.onDone();\n      },\n      error => {\n        this.setState({ submitting: false });\n        throwGlobalError(error);\n      }\n    );\n  };\n\n  getAvailableTransitions(issues: T.Issue[]) {\n    const transitions: { [x: string]: number } = {};\n    issues.forEach(issue => {\n      if (issue.transitions) {\n        issue.transitions.forEach(t => {\n          if (transitions[t] !== undefined) {\n            transitions[t]++;\n          } else {\n            transitions[t] = 1;\n          }\n        });\n      }\n    });\n    return sortBy(Object.keys(transitions)).map(transition => ({\n      transition,\n      count: transitions[transition]\n    }));\n  }\n\n  renderLoading = () => (\n    <div>\n      <div className=\"modal-head\">\n        <h2>{translate('bulk_change')}</h2>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n      <div className=\"modal-foot\">\n        <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n      </div>\n    </div>\n  );\n\n  renderAffected = (affected: number) => (\n    <div className=\"pull-right note\">\n      ({translateWithParameters('issue_bulk_change.x_issues', affected)})\n    </div>\n  );\n\n  renderField = (\n    field: 'addTags' | 'assignee' | 'removeTags' | 'severity' | 'type',\n    label: string,\n    affected: number | undefined,\n    input: React.ReactNode\n  ) => (\n    <div className=\"modal-field\" id={`issues-bulk-change-${field}`}>\n      <label htmlFor={field}>{translate(label)}</label>\n      {input}\n      {affected !== undefined && this.renderAffected(affected)}\n    </div>\n  );\n\n  renderAssigneeOption = (option: AssigneeOption) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar className=\"spacer-right\" hash={option.avatar} name={option.label} size={16} />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderAssigneeField = () => {\n    const affected = this.state.issues.filter(hasAction('assign')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <AssigneeSelect\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.getDefaultAssignee()}\n        onSearch={this.handleAssigneeSearch}\n        onSelect={this.handleAssigneeSelect}\n        renderOption={this.renderAssigneeOption}\n        resetOnBlur={false}\n        value={this.state.assignee}\n      />\n    );\n\n    return this.renderField('assignee', 'issue.assign.formlink', affected, input);\n  };\n\n  renderTypeField = () => {\n    const affected = this.state.issues.filter(hasAction('set_type')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const types: T.IssueType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const options = types.map(type => ({ label: translate('issue.type', type), value: type }));\n\n    const optionRenderer = (option: { label: string; value: string }) => (\n      <span>\n        <IssueTypeIcon className=\"little-spacer-right\" query={option.value} />\n        {option.label}\n      </span>\n    );\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('type')}\n        optionRenderer={optionRenderer}\n        options={options}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={optionRenderer}\n      />\n    );\n\n    return this.renderField('type', 'issue.set_type', affected, input);\n  };\n\n  renderSeverityField = () => {\n    const affected = this.state.issues.filter(hasAction('set_severity')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const severities = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    const options = severities.map(severity => ({\n      label: translate('severity', severity),\n      value: severity\n    }));\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('severity')}\n        optionRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n        options={options}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n      />\n    );\n\n    return this.renderField('severity', 'issue.set_severity', affected, input);\n  };\n\n  renderTagOption = (option: TagOption) => {\n    return <span>{option.label}</span>;\n  };\n\n  renderTagsField = (field: 'addTags' | 'removeTags', label: string, allowCreate: boolean) => {\n    const { initialTags } = this.state;\n    const affected = this.state.issues.filter(hasAction('set_tags')).length;\n\n    if (initialTags === undefined || affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <TagSelect\n        canCreate={allowCreate}\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.state.initialTags}\n        minimumQueryLength={0}\n        multi={true}\n        onMultiSelect={this.handleTagsSelect(field)}\n        onSearch={this.handleTagsSearch}\n        promptTextCreator={promptCreateTag}\n        renderOption={this.renderTagOption}\n        resetOnBlur={false}\n        value={this.state[field]}\n      />\n    );\n\n    return this.renderField(field, label, affected, input);\n  };\n\n  renderTransitionsField = () => {\n    const transitions = this.getAvailableTransitions(this.state.issues);\n\n    if (transitions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label>{translate('issue.transition')}</label>\n        {transitions.map(transition => (\n          <span\n            className=\"bulk-change-radio-button display-flex-center display-flex-space-between\"\n            key={transition.transition}>\n            <Radio\n              checked={this.state.transition === transition.transition}\n              onCheck={this.handleRadioTransitionChange}\n              value={transition.transition}>\n              {translate('issue.transition', transition.transition)}\n            </Radio>\n            {this.renderAffected(transition.count)}\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  renderCommentField = () => {\n    const affected = this.state.issues.filter(hasAction('comment')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label htmlFor=\"comment\">\n          <span className=\"text-middle\">{translate('issue.comment.formlink')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('issue_bulk_change.comment.help')}\n          />\n        </label>\n        <textarea\n          id=\"comment\"\n          onChange={this.handleCommentChange}\n          rows={4}\n          value={this.state.comment || ''}\n        />\n        <MarkdownTips className=\"modal-field-descriptor text-right\" />\n      </div>\n    );\n  };\n\n  renderNotificationsField = () => (\n    <Checkbox\n      checked={this.state.notifications !== undefined}\n      className=\"display-inline-block spacer-top\"\n      id=\"send-notifications\"\n      onCheck={this.handleFieldCheck('notifications')}\n      right={true}>\n      <strong className=\"little-spacer-right\">{translate('issue.send_notifications')}</strong>\n    </Checkbox>\n  );\n\n  renderForm = () => {\n    const { issues, paging, submitting } = this.state;\n\n    const limitReached = paging && paging.total > MAX_PAGE_SIZE;\n\n    return (\n      <form id=\"bulk-change-form\" onSubmit={this.handleSubmit}>\n        <div className=\"modal-head\">\n          <h2>{translateWithParameters('issue_bulk_change.form.title', issues.length)}</h2>\n        </div>\n\n        <div className={classNames('modal-body', { 'modal-container': limitReached })}>\n          {limitReached && (\n            <Alert variant=\"warning\">\n              <FormattedMessage\n                defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                id=\"issue_bulk_change.max_issues_reached\"\n                values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n              />\n            </Alert>\n          )}\n\n          {this.renderAssigneeField()}\n          {this.renderTypeField()}\n          {this.renderSeverityField()}\n          {this.renderTagsField('addTags', 'issue.add_tags', true)}\n          {this.renderTagsField('removeTags', 'issue.remove_tags', false)}\n          {this.renderTransitionsField()}\n          {this.renderCommentField()}\n          {issues.length > 0 && this.renderNotificationsField()}\n          {issues.length === 0 && (\n            <Alert variant=\"warning\">{translate('issue_bulk_change.no_match')}</Alert>\n          )}\n        </div>\n\n        <div className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          <SubmitButton disabled={submitting || issues.length === 0} id=\"bulk-change-submit\">\n            {translate('apply')}\n          </SubmitButton>\n          <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n        </div>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <Modal contentLabel=\"modal\" onRequestClose={this.props.onClose} size={'small'}>\n        {this.state.loading ? this.renderLoading() : this.renderForm()}\n      </Modal>\n    );\n  }\n}\n\nfunction hasAction(action: string) {\n  return (issue: T.Issue) => issue.actions && issue.actions.includes(action);\n}\n\nfunction promptCreateTag(label: string) {\n  return `+ ${label}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getSelectedLocation } from '../utils';\nimport Organization from '../../../components/shared/Organization';\nimport { collapsePath, limitComponentName } from '../../../helpers/path';\n\ninterface Props {\n  component?: T.Component;\n  issue: Pick<\n    T.Issue,\n    | 'component'\n    | 'componentLongName'\n    | 'flows'\n    | 'organization'\n    | 'project'\n    | 'projectName'\n    | 'secondaryLocations'\n    | 'subProject'\n    | 'subProjectName'\n  >;\n  link?: boolean;\n  organization: { key: string } | undefined;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nexport default function ComponentBreadcrumbs({\n  component,\n  issue,\n  organization,\n  selectedFlowIndex,\n  selectedLocationIndex\n}: Props) {\n  const displayOrganization =\n    !organization && (!component || ['VW', 'SVW'].includes(component.qualifier));\n  const displayProject = !component || !['TRK', 'BRC', 'DIR'].includes(component.qualifier);\n  const displaySubProject = !component || !['BRC', 'DIR'].includes(component.qualifier);\n\n  const selectedLocation = getSelectedLocation(issue, selectedFlowIndex, selectedLocationIndex);\n  const componentName = selectedLocation ? selectedLocation.componentName : issue.componentLongName;\n\n  return (\n    <div className=\"component-name text-ellipsis\">\n      {displayOrganization && <Organization link={false} organizationKey={issue.organization} />}\n\n      {displayProject && (\n        <span title={issue.projectName}>\n          {limitComponentName(issue.projectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {displaySubProject &&\n        issue.subProject !== undefined &&\n        issue.subProjectName !== undefined && (\n          <span title={issue.subProjectName}>\n            {limitComponentName(issue.subProjectName)}\n            <span className=\"slash-separator\" />\n          </span>\n        )}\n\n      {collapsePath(componentName || '')}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\nimport { Query } from '../utils';\nimport Issue from '../../../components/issue/Issue';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  checked: boolean;\n  component: T.Component | undefined;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck: ((issueKey: string) => void) | undefined;\n  onClick: (issueKey: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: string | undefined;\n  organization: { key: string } | undefined;\n  previousIssue: T.Issue | undefined;\n  selected: boolean;\n}\n\ninterface State {\n  similarIssues: boolean;\n}\n\nexport default class ListItem extends React.PureComponent<Props, State> {\n  state: State = { similarIssues: false };\n\n  handleFilter = (property: string, issue: T.Issue) => {\n    const { onFilterChange } = this.props;\n\n    const issuesReset = { issues: [] };\n\n    if (property.startsWith('tag###')) {\n      const tag = property.substr(6);\n      onFilterChange({ ...issuesReset, tags: [tag] });\n    } else {\n      switch (property) {\n        case 'type':\n          onFilterChange({ ...issuesReset, types: [issue.type] });\n          break;\n        case 'severity':\n          onFilterChange({ ...issuesReset, severities: [issue.severity] });\n          break;\n        case 'status':\n          onFilterChange({ ...issuesReset, statuses: [issue.status] });\n          break;\n        case 'resolution':\n          if (issue.resolution) {\n            onFilterChange({ ...issuesReset, resolved: true, resolutions: [issue.resolution] });\n          } else {\n            onFilterChange({ ...issuesReset, resolved: false, resolutions: [] });\n          }\n          break;\n        case 'assignee':\n          if (issue.assignee) {\n            onFilterChange({ ...issuesReset, assigned: true, assignees: [issue.assignee] });\n          } else {\n            onFilterChange({ ...issuesReset, assigned: false, assignees: [] });\n          }\n          break;\n        case 'rule':\n          onFilterChange({ ...issuesReset, rules: [issue.rule] });\n          break;\n        case 'project':\n          onFilterChange({ ...issuesReset, projects: [issue.projectKey] });\n          break;\n        case 'module':\n          if (issue.subProjectUuid) {\n            onFilterChange({ ...issuesReset, modules: [issue.subProjectUuid] });\n          }\n          break;\n        case 'file':\n          onFilterChange({ ...issuesReset, files: [issue.componentUuid] });\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component, issue, previousIssue } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div className=\"issues-workspace-list-item\">\n        {displayComponent && (\n          <div className=\"issues-workspace-list-component note\">\n            <ComponentBreadcrumbs\n              component={component}\n              issue={this.props.issue}\n              organization={this.props.organization}\n            />\n          </div>\n        )}\n        <Issue\n          branchLike={branchLike}\n          checked={this.props.checked}\n          displayLocationsLink={false}\n          issue={issue}\n          onChange={this.props.onChange}\n          onCheck={this.props.onCheck}\n          onClick={this.props.onClick}\n          onFilter={this.handleFilter}\n          onPopupToggle={this.props.onPopupToggle}\n          openPopup={this.props.openPopup}\n          selected={this.props.selected}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ListItem from './ListItem';\nimport { Query } from '../utils';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  checked: string[];\n  component: T.Component | undefined;\n  issues: T.Issue[];\n  onFilterChange: (changes: Partial<Query>) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueCheck: ((issueKey: string) => void) | undefined;\n  onIssueClick: (issueKey: string) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: { issue: string; name: string } | undefined;\n  organization: { key: string } | undefined;\n  selectedIssue: T.Issue | undefined;\n}\n\nexport default class IssuesList extends React.PureComponent<Props> {\n  render() {\n    const { branchLike, checked, component, issues, openPopup, selectedIssue } = this.props;\n\n    return (\n      <div>\n        {issues.map((issue, index) => (\n          <ListItem\n            branchLike={branchLike}\n            checked={checked.includes(issue.key)}\n            component={component}\n            issue={issue}\n            key={issue.key}\n            onChange={this.props.onIssueChange}\n            onCheck={this.props.onIssueCheck}\n            onClick={this.props.onIssueClick}\n            onFilterChange={this.props.onFilterChange}\n            onPopupToggle={this.props.onPopupToggle}\n            openPopup={openPopup && openPopup.issue === issue.key ? openPopup.name : undefined}\n            organization={this.props.organization}\n            previousIssue={index > 0 ? issues[index - 1] : undefined}\n            selected={selectedIssue != null && selectedIssue.key === issue.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocations, getSelectedLocation } from '../utils';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { scrollToElement } from '../../../helpers/scrolling';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  loadIssues: (component: string, from: number, to: number) => Promise<T.Issue[]>;\n  locationsNavigator: boolean;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  openIssue: T.Issue;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class IssuesSourceViewer extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidUpdate(prevProps: Props) {\n    const { openIssue, selectedLocationIndex } = this.props;\n\n    // Scroll back to the issue when the selected location is set to -1\n    const shouldScrollBackToIssue =\n      selectedLocationIndex === -1 && selectedLocationIndex !== prevProps.selectedLocationIndex;\n    if (\n      prevProps.openIssue.component === openIssue.component &&\n      (prevProps.openIssue !== openIssue || shouldScrollBackToIssue)\n    ) {\n      this.scrollToIssue();\n    }\n  }\n\n  scrollToIssue = (smooth = true) => {\n    if (this.node) {\n      const element = this.node.querySelector(`[data-issue=\"${this.props.openIssue.key}\"]`);\n      if (element) {\n        this.handleScroll(element, smooth);\n      }\n    }\n  };\n\n  handleScroll = (element: Element, smooth = true) => {\n    const offset = window.innerHeight / 2;\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth });\n  };\n\n  handleLoaded = () => {\n    this.scrollToIssue(false);\n  };\n\n  render() {\n    const { openIssue, selectedFlowIndex, selectedLocationIndex } = this.props;\n\n    const locations = getLocations(openIssue, selectedFlowIndex);\n    const selectedLocation = getSelectedLocation(\n      openIssue,\n      selectedFlowIndex,\n      selectedLocationIndex\n    );\n\n    const component = selectedLocation ? selectedLocation.component : openIssue.component;\n\n    // if location is selected, show (and load) code around it\n    // otherwise show code around the open issue\n    const aroundLine = selectedLocation\n      ? selectedLocation.textRange.startLine\n      : openIssue.textRange && openIssue.textRange.endLine;\n\n    // replace locations in another file with `undefined` to keep the same location indexes\n    const highlightedLocations = locations.map(\n      location => (location.component === component ? location : undefined)\n    );\n\n    const highlightedLocationMessage =\n      this.props.locationsNavigator && selectedLocationIndex !== undefined\n        ? selectedLocation && { index: selectedLocationIndex, text: selectedLocation.msg }\n        : undefined;\n\n    const allMessagesEmpty = locations !== undefined && locations.every(location => !location.msg);\n\n    // do not load issues when open another file for a location\n    const loadIssues =\n      component === openIssue.component ? this.props.loadIssues : () => Promise.resolve([]);\n    const selectedIssue = component === openIssue.component ? openIssue.key : undefined;\n\n    return (\n      <div ref={node => (this.node = node)}>\n        <SourceViewer\n          aroundLine={aroundLine}\n          branchLike={this.props.branchLike}\n          component={component}\n          displayAllIssues={true}\n          displayIssueLocationsCount={false}\n          displayIssueLocationsLink={false}\n          displayLocationMarkers={!allMessagesEmpty}\n          highlightedLocationMessage={highlightedLocationMessage}\n          highlightedLocations={highlightedLocations}\n          loadIssues={loadIssues}\n          onIssueChange={this.props.onIssueChange}\n          onIssueSelect={this.props.onIssueSelect}\n          onLoaded={this.handleLoaded}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.handleScroll}\n          selectedIssue={selectedIssue}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  myIssues: boolean;\n  onMyIssuesChange: (myIssues: boolean) => void;\n}\n\nexport default class MyIssuesFilter extends React.PureComponent<Props> {\n  handleClick = (myIssues: boolean) => () => {\n    this.props.onMyIssuesChange(myIssues);\n  };\n\n  render() {\n    const { myIssues } = this.props;\n\n    return (\n      <div className=\"issues-my-issues-filter\">\n        <div className=\"button-group\">\n          <Button\n            className={myIssues ? 'button-active' : undefined}\n            onClick={this.handleClick(true)}>\n            {translate('issues.my_issues')}\n          </Button>\n          <Button\n            className={myIssues ? undefined : 'button-active'}\n            onClick={this.handleClick(false)}>\n            {translate('all')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoMyIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_my_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport PageCounter from '../../../components/common/PageCounter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  current: number | undefined;\n  total: number;\n}\n\nexport default function IssuesCounter(props: Props) {\n  return (\n    <PageCounter\n      className=\"spacer-left flash flash-heavy\"\n      current={props.current}\n      label={translate('issues.issues')}\n      total={props.total}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\nexport default function TotalEffort({ effort }: { effort: number }) {\n  return (\n    <div className=\"display-inline-block bordered-left spacer-left\">\n      <div className=\"spacer-left\">\n        <FormattedMessage\n          defaultMessage={translate('issue.x_effort')}\n          id=\"issue.x_effort\"\n          values={{ 0: <strong>{formatMeasure(effort, 'WORK_DUR')}</strong> }}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssuesCounter from './IssuesCounter';\nimport TotalEffort from './TotalEffort';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport ReloadButton from '../../../components/controls/ReloadButton';\nimport { translate } from '../../../helpers/l10n';\nimport { isSonarCloud } from '../../../helpers/system';\n\ninterface Props {\n  canSetHome: boolean;\n  effortTotal: number | undefined;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default class PageActions extends React.PureComponent<Props> {\n  renderShortcuts() {\n    return (\n      <span className=\"note big-spacer-right\">\n        <span className=\"big-spacer-right\">\n          <span className=\"shortcut-button little-spacer-right\">↑</span>\n          <span className=\"shortcut-button little-spacer-right\">↓</span>\n          {translate('issues.to_select_issues')}\n        </span>\n\n        <span>\n          <span className=\"shortcut-button little-spacer-right\">←</span>\n          <span className=\"shortcut-button little-spacer-right\">→</span>\n          {translate('issues.to_navigate')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    const { effortTotal, paging, selectedIndex } = this.props;\n\n    return (\n      <div className=\"pull-right\">\n        {this.renderShortcuts()}\n\n        <div className=\"issues-page-actions\">\n          <ReloadButton onClick={this.props.onReload} />\n          {paging != null && (\n            <IssuesCounter className=\"spacer-left\" current={selectedIndex} total={paging.total} />\n          )}\n          {effortTotal !== undefined && <TotalEffort effort={effortTotal} />}\n        </div>\n\n        {this.props.canSetHome && (\n          <HomePageSelect\n            className=\"huge-spacer-left\"\n            currentPage={isSonarCloud() ? { type: 'MY_ISSUES' } : { type: 'ISSUES' }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  count: number;\n  onClick?: () => void;\n  selected: boolean;\n}\n\nexport default function ConciseIssueLocationBadge(props: Props) {\n  return (\n    <Tooltip\n      mouseEnterDelay={0.5}\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(props.count, 'INT')\n      )}>\n      <LocationIndex onClick={props.onClick} selected={props.selected}>\n        {'+'}\n        {props.count}\n      </LocationIndex>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueLocationBadge from './ConciseIssueLocationBadge';\n\ninterface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>;\n  onFlowSelect: (index: number) => void;\n  selectedFlowIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\nconst LIMIT = 3;\n\nexport default class ConciseIssueLocations extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  handleExpandClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ collapsed: false });\n  };\n\n  renderExpandButton() {\n    return (\n      <a className=\"little-spacer-left link-no-underline\" href=\"#\" onClick={this.handleExpandClick}>\n        ...\n      </a>\n    );\n  }\n\n  render() {\n    const { secondaryLocations, flows } = this.props.issue;\n\n    const badges: JSX.Element[] = [];\n\n    if (secondaryLocations.length > 0) {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={secondaryLocations.length}\n          key=\"-1\"\n          selected={!this.props.selectedFlowIndex}\n        />\n      );\n    }\n\n    flows.forEach((flow, index) => {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={flow.length}\n          key={index}\n          onClick={() => this.props.onFlowSelect(index)}\n          selected={index === this.props.selectedFlowIndex}\n        />\n      );\n    });\n\n    return this.state.collapsed ? (\n      <div className=\"concise-issue-locations pull-right\">\n        {badges.slice(0, LIMIT)}\n        {badges.length > LIMIT && this.renderExpandButton()}\n      </div>\n    ) : (\n      <div className=\"concise-issue-locations spacer-top\">{badges}</div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport LocationMessage from '../../../components/common/LocationMessage';\n\ninterface Props {\n  index: number;\n  message: string | undefined;\n  onClick: (index: number) => void;\n  scroll: (element: Element) => void;\n  selected: boolean;\n}\n\nexport default class ConciseIssueLocationsNavigatorLocation extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.index);\n  };\n\n  render() {\n    return (\n      <div className=\"little-spacer-top\" ref={node => (this.node = node)}>\n        <a\n          className=\"concise-issue-locations-navigator-location\"\n          href=\"#\"\n          onClick={this.handleClick}>\n          <LocationIndex selected={this.props.selected}>{this.props.index + 1}</LocationIndex>\n          <LocationMessage selected={this.props.selected}>{this.props.message}</LocationMessage>\n        </a>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  issue: Pick<T.Issue, 'key'>;\n  locations: T.FlowLocation[];\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedLocationIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\ninterface LocationGroup {\n  component: string | undefined;\n  componentName: string | undefined;\n  firstLocationIndex: number;\n  locations: T.FlowLocation[];\n}\n\nexport default class CrossFileLocationsNavigator extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.issue.key !== this.props.issue.key) {\n      this.setState({ collapsed: true });\n    }\n\n    // expand locations list as soon as a location in the middle of the list is selected\n    const { locations: nextLocations } = nextProps;\n    if (\n      nextProps.selectedLocationIndex &&\n      nextProps.selectedLocationIndex > 0 &&\n      nextLocations !== undefined &&\n      nextProps.selectedLocationIndex < nextLocations.length - 1\n    ) {\n      this.setState({ collapsed: false });\n    }\n  }\n\n  handleMoreLocationsClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ collapsed: false });\n  };\n\n  groupByFile = (locations: T.FlowLocation[]) => {\n    const groups: LocationGroup[] = [];\n\n    let currentLocations: T.FlowLocation[] = [];\n    let currentComponent: string | undefined;\n    let currentComponentName: string | undefined;\n    let currentFirstLocationIndex = 0;\n\n    for (let index = 0; index < locations.length; index++) {\n      const location = locations[index];\n      if (location.component === currentComponent) {\n        currentLocations.push(location);\n      } else {\n        if (currentLocations.length > 0) {\n          groups.push({\n            component: currentComponent,\n            componentName: currentComponentName,\n            firstLocationIndex: currentFirstLocationIndex,\n            locations: currentLocations\n          });\n        }\n        currentLocations = [location];\n        currentComponent = location.component;\n        currentComponentName = location.componentName;\n        currentFirstLocationIndex = index;\n      }\n    }\n\n    if (currentLocations.length > 0) {\n      groups.push({\n        component: currentComponent,\n        componentName: currentComponentName,\n        firstLocationIndex: currentFirstLocationIndex,\n        locations: currentLocations\n      });\n    }\n\n    return groups;\n  };\n\n  renderLocation = (index: number, message: string | undefined) => {\n    return (\n      <ConciseIssueLocationsNavigatorLocation\n        index={index}\n        key={index}\n        message={message}\n        onClick={this.props.onLocationSelect}\n        scroll={this.props.scroll}\n        selected={index === this.props.selectedLocationIndex}\n      />\n    );\n  };\n\n  renderGroup = (\n    group: LocationGroup,\n    groupIndex: number,\n    { onlyFirst = false, onlyLast = false } = {}\n  ) => {\n    const { firstLocationIndex } = group;\n    const lastLocationIndex = group.locations.length - 1;\n    return (\n      <div className=\"concise-issue-locations-navigator-file\" key={groupIndex}>\n        <div className=\"concise-issue-location-file\">\n          <i className=\"concise-issue-location-file-circle little-spacer-right\" />\n          {collapsePath(group.componentName || '', 15)}\n        </div>\n        {group.locations.length > 0 && (\n          <div className=\"concise-issue-location-file-locations\">\n            {onlyFirst && this.renderLocation(firstLocationIndex, group.locations[0].msg)}\n\n            {onlyLast &&\n              this.renderLocation(\n                firstLocationIndex + lastLocationIndex,\n                group.locations[lastLocationIndex].msg\n              )}\n\n            {!onlyFirst &&\n              !onlyLast &&\n              group.locations.map((location, index) =>\n                this.renderLocation(firstLocationIndex + index, location.msg)\n              )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { locations } = this.props;\n    const groups = this.groupByFile(locations);\n\n    if (locations.length > 2 && groups.length > 1 && this.state.collapsed) {\n      const firstGroup = groups[0];\n      const lastGroup = groups[groups.length - 1];\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {this.renderGroup(firstGroup, 0, { onlyFirst: true })}\n          <div className=\"concise-issue-locations-navigator-file\">\n            <div className=\"concise-issue-location-file\">\n              <i className=\"concise-issue-location-file-circle-multiple little-spacer-right\" />\n              <a\n                className=\"concise-issue-location-file-more\"\n                href=\"#\"\n                onClick={this.handleMoreLocationsClick}>\n                {translateWithParameters('issues.x_more_locations', locations.length - 2)}\n              </a>\n            </div>\n          </div>\n          {this.renderGroup(lastGroup, groups.length - 1, { onlyLast: true })}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {groups.map((group, groupIndex) => this.renderGroup(group, groupIndex))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniq } from 'lodash';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport CrossFileLocationsNavigator from './CrossFileLocationsNavigator';\nimport { getLocations } from '../utils';\n\ninterface Props {\n  issue: Pick<T.Issue, 'component' | 'key' | 'flows' | 'secondaryLocations'>;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueLocationsNavigator extends React.PureComponent<Props> {\n  render() {\n    const locations = getLocations(this.props.issue, this.props.selectedFlowIndex);\n\n    if (!locations || locations.length === 0 || locations.every(location => !location.msg)) {\n      return null;\n    }\n\n    const locationComponents = [\n      this.props.issue.component,\n      ...locations.map(location => location.component)\n    ];\n    const isCrossFile = uniq(locationComponents).length > 1;\n\n    if (isCrossFile) {\n      return (\n        <CrossFileLocationsNavigator\n          issue={this.props.issue}\n          locations={locations}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selectedLocationIndex={this.props.selectedLocationIndex}\n        />\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {locations.map((location, index) => (\n            <ConciseIssueLocationsNavigatorLocation\n              index={index}\n              key={index}\n              message={location.msg}\n              onClick={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selected={index === this.props.selectedLocationIndex}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ConciseIssueLocations from './ConciseIssueLocations';\nimport ConciseIssueLocationsNavigator from './ConciseIssueLocationsNavigator';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport TypeHelper from '../../../components/shared/TypeHelper';\n\ninterface Props {\n  issue: T.Issue;\n  onClick: (issueKey: string) => void;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element, bottomOffset?: number) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueBox extends React.PureComponent<Props> {\n  messageElement?: HTMLElement | null;\n  rootElement?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  handleScroll = () => {\n    const { selectedFlowIndex } = this.props;\n    const { flows, secondaryLocations } = this.props.issue;\n\n    const locations =\n      selectedFlowIndex !== undefined\n        ? flows[selectedFlowIndex]\n        : flows.length > 0\n          ? flows[0]\n          : secondaryLocations;\n\n    if (!locations || locations.length < 15) {\n      // if there are no locations, or there are just few\n      // then ensuse that the whole box is visible\n      if (this.rootElement) this.props.scroll(this.rootElement);\n    } else if (this.messageElement) {\n      // otherwise scroll until the the message element is located on top\n      this.props.scroll(this.messageElement, window.innerHeight - 250);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.issue.key);\n  };\n\n  render() {\n    const { issue, selected } = this.props;\n\n    const clickAttributesMain = selected\n      ? {}\n      : { onClick: this.handleClick, role: 'listitem', tabIndex: 0 };\n\n    const clickAttributesTitle = selected\n      ? { onClick: this.handleClick, role: 'listitem', tabIndex: 0 }\n      : {};\n\n    return (\n      <div\n        className={classNames('concise-issue-box', 'clearfix', { selected })}\n        ref={node => (this.rootElement = node)}\n        {...clickAttributesMain}>\n        <div\n          className=\"concise-issue-box-message\"\n          {...clickAttributesTitle}\n          ref={node => (this.messageElement = node)}>\n          {issue.message}\n        </div>\n        <div className=\"concise-issue-box-attributes\">\n          <TypeHelper type={issue.type} />\n          <SeverityHelper className=\"big-spacer-left\" severity={issue.severity} />\n          <ConciseIssueLocations\n            issue={issue}\n            onFlowSelect={this.props.onFlowSelect}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n          />\n        </div>\n        {selected && (\n          <ConciseIssueLocationsNavigator\n            issue={issue}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.props.scroll}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  path: string;\n}\n\nexport default function ConciseIssueComponent(props: Props) {\n  return (\n    <div className=\"concise-issue-component note text-ellipsis\">{collapsePath(props.path, 20)}</div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueBox from './ConciseIssueBox';\nimport ConciseIssueComponent from './ConciseIssueComponent';\n\ninterface Props {\n  issue: T.Issue;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  onSelect: (issueKey: string) => void;\n  previousIssue: T.Issue | undefined;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssue extends React.PureComponent<Props> {\n  render() {\n    const { issue, previousIssue, selected } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div>\n        {displayComponent && <ConciseIssueComponent path={issue.componentLongName} />}\n        <ConciseIssueBox\n          issue={issue}\n          onClick={this.props.onSelect}\n          onFlowSelect={this.props.onFlowSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selected={selected}\n          selectedFlowIndex={selected ? this.props.selectedFlowIndex : undefined}\n          selectedLocationIndex={selected ? this.props.selectedLocationIndex : undefined}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssue from './ConciseIssue';\nimport { scrollToElement } from '../../../helpers/scrolling';\n\ninterface Props {\n  issues: T.Issue[];\n  onFlowSelect: (index: number) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  selected: string | undefined;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssuesList extends React.PureComponent<Props> {\n  handleScroll = (element: Element, bottomOffset = 100) => {\n    const scrollableElement = document.querySelector('.layout-page-side');\n    if (element && scrollableElement) {\n      scrollToElement(element, { topOffset: 150, bottomOffset, parent: scrollableElement });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.issues.map((issue, index) => (\n          <ConciseIssue\n            issue={issue}\n            key={issue.key}\n            onFlowSelect={this.props.onFlowSelect}\n            onLocationSelect={this.props.onLocationSelect}\n            onSelect={this.props.onIssueSelect}\n            previousIssue={index > 0 ? this.props.issues[index - 1] : undefined}\n            scroll={this.handleScroll}\n            selected={issue.key === this.props.selected}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport * as theme from '../../app/theme';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  disabled?: boolean;\n  tooltip?: string;\n  onClick: () => void;\n}\n\nexport default class BackButton extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (!this.props.disabled) {\n      this.props.onClick();\n    }\n  };\n\n  renderIcon = () => (\n    <svg height=\"24\" viewBox=\"0 0 21 24\" width=\"21\">\n      <path\n        d=\"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\"\n        fill={this.props.disabled ? theme.disableGrayText : theme.secondFontColor}\n      />\n    </svg>\n  );\n\n  render() {\n    const { tooltip = translate('issues.return_to_list') } = this.props;\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames(\n            'link-no-underline',\n            { 'cursor-not-allowed': this.props.disabled },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleClick}>\n          {this.renderIcon()}\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BackButton from '../../../components/controls/BackButton';\nimport ReloadButton from '../../../components/controls/ReloadButton';\nimport IssuesCounter from '../components/IssuesCounter';\n\ninterface Props {\n  displayBackButton?: boolean;\n  loading: boolean;\n  onBackClick: () => void;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default function ConciseIssuesListHeader(props: Props) {\n  const { displayBackButton = true, paging, selectedIndex } = props;\n\n  return (\n    <header className=\"layout-page-header-panel concise-issues-list-header\">\n      <div className=\"layout-page-header-panel-inner concise-issues-list-header-inner\">\n        {displayBackButton && (\n          <BackButton className=\"pull-left\" disabled={props.loading} onClick={props.onBackClick} />\n        )}\n        {props.loading ? (\n          <i className=\"spinner pull-right\" />\n        ) : (\n          <ReloadButton className=\"pull-right\" onClick={props.onReload} />\n        )}\n        {paging && <IssuesCounter current={selectedIndex} total={paging.total} />}\n      </div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit, sortBy, without } from 'lodash';\nimport { searchAssignees, Query, ReferencedUser, SearchedAssignee, Facet } from '../utils';\nimport Avatar from '../../../components/ui/Avatar';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\n\nexport interface Props {\n  assigned: boolean;\n  assignees: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: { [x: string]: number } | undefined;\n  referencedUsers: { [login: string]: ReferencedUser };\n}\n\nexport default class AssigneeFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page?: number) => {\n    return searchAssignees(query, this.props.organization, page);\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { assignees } = this.props;\n    if (itemValue === '') {\n      // unassigned\n      this.props.onChange({ assigned: !this.props.assigned, assignees: [] });\n    } else if (multiple) {\n      const newValue = sortBy(\n        assignees.includes(itemValue) ? without(assignees, itemValue) : [...assignees, itemValue]\n      );\n      this.props.onChange({ assigned: true, assignees: newValue });\n    } else {\n      this.props.onChange({\n        assigned: true,\n        assignees: assignees.includes(itemValue) && assignees.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleClear = () => {\n    this.props.onChange({ assigned: true, assignees: [] });\n  };\n\n  getAssigneeName = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    } else {\n      const user = this.props.referencedUsers[assignee];\n      return user ? user.name : assignee;\n    }\n  };\n\n  loadSearchResultCount = (assignees: SearchedAssignee[]) => {\n    return this.props.loadSearchResultCount('assignees', {\n      assigned: undefined,\n      assignees: assignees.map(assignee => assignee.login)\n    });\n  };\n\n  getSortedItems = () => {\n    const { stats = {} } = this.props;\n    return sortBy(\n      Object.keys(stats),\n      // put \"not assigned\" first\n      key => (key === '' ? 0 : 1),\n      // the sort by number\n      key => -stats[key]\n    );\n  };\n\n  renderFacetItem = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    }\n\n    const user = this.props.referencedUsers[assignee];\n    return user ? (\n      <>\n        <Avatar className=\"little-spacer-right\" hash={user.avatar} name={user.name} size={16} />\n        {user.name}\n      </>\n    ) : (\n      assignee\n    );\n  };\n\n  renderSearchResult = (result: SearchedAssignee, query: string) => {\n    return (\n      <>\n        {result.avatar !== undefined && (\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={result.avatar}\n            name={result.name}\n            size={16}\n          />\n        )}\n        {highlightTerm(result.name, query)}\n      </>\n    );\n  };\n\n  render() {\n    const values = [...this.props.assignees];\n    if (!this.props.assigned) {\n      values.push('');\n    }\n\n    return (\n      <ListStyleFacet<SearchedAssignee>\n        facetHeader={translate('issues.facet.assignees')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getAssigneeName}\n        getSearchResultKey={user => user.login}\n        getSearchResultText={user => user.name}\n        // put \"not assigned\" item first\n        getSortedItems={this.getSortedItems}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onClear={this.handleClear}\n        onItemClick={this.handleItemClick}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"assignees\"\n        query={omit(this.props.query, 'assigned', 'assignees')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_users')}\n        stats={this.props.stats}\n        values={values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport { Query, Facet } from '../utils';\nimport { translate } from '../../../helpers/l10n';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { searchIssueAuthors } from '../../../api/issues';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: { [x: string]: number } | undefined;\n  authors: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class AuthorFacet extends React.PureComponent<Props> {\n  identity = (author: string) => {\n    return author;\n  };\n\n  handleSearch = (query: string, _page: number) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueAuthors({\n      organization: this.props.organization,\n      project,\n      ps: SEARCH_SIZE, // maximum\n      q: query\n    }).then(authors => ({ maxResults: authors.length === SEARCH_SIZE, results: authors }));\n  };\n\n  loadSearchResultCount = (authors: string[]) => {\n    return this.props.loadSearchResultCount('authors', { authors });\n  };\n\n  renderSearchResult = (author: string, term: string) => {\n    return highlightTerm(author, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.authors')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.identity}\n        getSearchResultKey={this.identity}\n        getSearchResultText={this.identity}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"authors\"\n        query={omit(this.props.query, 'authors')}\n        renderFacetItem={this.identity}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_authors')}\n        stats={this.props.stats}\n        values={this.props.authors}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\n\ninterface DataPoint {\n  tooltip?: React.ReactNode;\n  x: number;\n  y: number;\n}\n\ninterface Props<T> {\n  barsWidth: number;\n  data: Array<DataPoint & T>;\n  height: number;\n  onBarClick?: (point: DataPoint & T) => void;\n  padding?: [number, number, number, number];\n  width: number;\n  xTicks?: string[];\n  xValues?: string[];\n}\n\nexport default class BarChart<T> extends React.PureComponent<Props<T>> {\n  handleClick = (point: DataPoint & T) => {\n    if (this.props.onBarClick) {\n      this.props.onBarClick(point);\n    }\n  };\n\n  renderXTicks = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xTicks = [] } = this.props;\n\n    if (!xTicks.length) {\n      return null;\n    }\n\n    const ticks = xTicks.map((tick, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale.range()[0];\n      const d = data[index];\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"1.5em\"\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {tick}\n        </text>\n      );\n      return (\n        <Tooltip key={index} overlay={d.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderXValues = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xValues = [] } = this.props;\n\n    if (!xValues.length) {\n      return null;\n    }\n\n    const ticks = xValues.map((value, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale(point.y);\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"-1em\"\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {value}\n        </text>\n      );\n      return (\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderBars = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const bars = this.props.data.map((point, index) => {\n      const x = Math.round(xScale(point.x) as number);\n      const maxY = yScale.range()[0];\n      const y = Math.round(yScale(point.y)) - /* minimum bar height */ 1;\n      const height = maxY - y;\n      const rect = (\n        <rect\n          className=\"bar-chart-bar\"\n          height={height}\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          width={this.props.barsWidth}\n          x={x}\n          y={y}\n        />\n      );\n      return (\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {rect}\n        </Tooltip>\n      );\n    });\n    return <g>{bars}</g>;\n  };\n\n  render() {\n    const { barsWidth, data, width, height, padding = [10, 10, 10, 10] } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const availableHeight = height - padding[0] - padding[2];\n\n    const innerPadding = (availableWidth - barsWidth * data.length) / (data.length - 1);\n    const relativeInnerPadding = innerPadding / (innerPadding + barsWidth);\n\n    const maxY = max(data, d => d.y) as number;\n    const xScale = scaleBand<number>()\n      .domain(data.map(d => d.x))\n      .range([0, availableWidth])\n      .paddingInner(relativeInnerPadding);\n    const yScale = scaleLinear()\n      .domain([0, maxY])\n      .range([availableHeight, 0]);\n\n    return (\n      <svg className=\"bar-chart\" height={height} width={width}>\n        <g transform={`translate(${padding[3]}, ${padding[0]})`}>\n          {this.renderXTicks(xScale, yScale)}\n          {this.renderXValues(xScale, yScale)}\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'lodash';\nimport { injectIntl, InjectedIntlProps } from 'react-intl';\nimport { Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport BarChart from '../../../components/charts/BarChart';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport { isSameDay, parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  component: T.Component | undefined;\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  sinceLeakPeriod: boolean;\n  stats: { [x: string]: number } | undefined;\n}\n\nclass CreationDateFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  property = 'createdAt';\n\n  static defaultProps = {\n    open: true\n  };\n\n  hasValue = () =>\n    this.props.createdAfter !== undefined ||\n    this.props.createdAt.length > 0 ||\n    this.props.createdBefore !== undefined ||\n    this.props.createdInLast.length > 0 ||\n    this.props.sinceLeakPeriod;\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.resetTo({});\n  };\n\n  resetTo = (changes: Partial<Query>) => {\n    this.props.onChange({\n      createdAfter: undefined,\n      createdAt: undefined,\n      createdBefore: undefined,\n      createdInLast: undefined,\n      sinceLeakPeriod: undefined,\n      ...changes\n    });\n  };\n\n  handleBarClick = ({\n    createdAfter,\n    createdBefore\n  }: {\n    createdAfter: Date;\n    createdBefore?: Date;\n  }) => {\n    this.resetTo({ createdAfter, createdBefore });\n  };\n\n  handlePeriodChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    this.resetTo({ createdAfter: from, createdBefore: to });\n  };\n\n  handlePeriodClick = (period: string) => this.resetTo({ createdInLast: period });\n\n  handleLeakPeriodClick = () => this.resetTo({ sinceLeakPeriod: true });\n\n  getValues() {\n    const { createdAfter, createdAt, createdBefore, createdInLast, sinceLeakPeriod } = this.props;\n    const { formatDate } = this.props.intl;\n    const values = [];\n    if (createdAfter) {\n      values.push(formatDate(createdAfter, longFormatterOption));\n    }\n    if (createdAt) {\n      values.push(formatDate(createdAt, longFormatterOption));\n    }\n    if (createdBefore) {\n      values.push(formatDate(createdBefore, longFormatterOption));\n    }\n    if (createdInLast === '1w') {\n      values.push(translate('issues.facet.createdAt.last_week'));\n    }\n    if (createdInLast === '1m') {\n      values.push(translate('issues.facet.createdAt.last_month'));\n    }\n    if (createdInLast === '1y') {\n      values.push(translate('issues.facet.createdAt.last_year'));\n    }\n    if (sinceLeakPeriod) {\n      values.push(translate('issues.new_code'));\n    }\n    return values;\n  }\n\n  renderBarChart() {\n    const { createdBefore, stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const periods = Object.keys(stats);\n\n    if (periods.length < 2 || periods.every(period => !stats[period])) {\n      return null;\n    }\n\n    const { formatDate } = this.props.intl;\n    const data = periods.map((start, index) => {\n      const startDate = parseDate(start);\n      let endDate;\n      if (index < periods.length - 1) {\n        endDate = parseDate(periods[index + 1]);\n        endDate.setDate(endDate.getDate() - 1);\n      } else {\n        endDate = createdBefore ? parseDate(createdBefore) : undefined;\n      }\n\n      const tooltipEndDate = endDate || new Date();\n      const tooltip = (\n        <React.Fragment>\n          {formatMeasure(stats[start], 'SHORT_INT')}\n          <br />\n          {formatDate(startDate, longFormatterOption)}\n          {!isSameDay(tooltipEndDate, startDate) &&\n            ` - ${formatDate(tooltipEndDate, longFormatterOption)}`}\n        </React.Fragment>\n      );\n\n      return {\n        createdAfter: startDate,\n        createdBefore: endDate,\n        tooltip,\n        x: index,\n        y: stats[start]\n      };\n    });\n\n    const barsWidth = Math.floor(250 / data.length);\n    const width = barsWidth * data.length - 1 + 10;\n\n    const maxValue = max(data.map(d => d.y));\n    const xValues = data.map(d => (d.y === maxValue ? formatMeasure(maxValue, 'SHORT_INT') : ''));\n\n    return (\n      <BarChart\n        barsWidth={barsWidth - 1}\n        data={data}\n        height={75}\n        onBarClick={this.handleBarClick}\n        padding={[25, 0, 5, 10]}\n        width={width}\n        xValues={xValues}\n      />\n    );\n  }\n\n  renderExactDate() {\n    return (\n      <div className=\"search-navigator-facet-container\">\n        <DateTimeFormatter date={this.props.createdAt} />\n        <br />\n        <span className=\"note\">\n          <DateFromNow date={this.props.createdAt} />\n        </span>\n      </div>\n    );\n  }\n\n  renderPeriodSelectors() {\n    const { createdAfter, createdBefore } = this.props;\n    return (\n      <div className=\"search-navigator-date-facet-selection\">\n        <DateRangeInput\n          onChange={this.handlePeriodChange}\n          value={{ from: createdAfter, to: createdBefore }}\n        />\n      </div>\n    );\n  }\n\n  renderPredefinedPeriods() {\n    const { component, createdInLast, sinceLeakPeriod } = this.props;\n    return (\n      <div className=\"spacer-top issues-predefined-periods\">\n        <FacetItem\n          active={!this.hasValue()}\n          name={translate('issues.facet.createdAt.all')}\n          onClick={this.handlePeriodClick}\n          tooltip={translate('issues.facet.createdAt.all')}\n          value=\"\"\n        />\n        {component ? (\n          <FacetItem\n            active={sinceLeakPeriod}\n            name={translate('issues.new_code')}\n            onClick={this.handleLeakPeriodClick}\n            tooltip={translate('issues.new_code_period')}\n            value=\"\"\n          />\n        ) : (\n          <>\n            <FacetItem\n              active={createdInLast === '1w'}\n              name={translate('issues.facet.createdAt.last_week')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_week')}\n              value=\"1w\"\n            />\n            <FacetItem\n              active={createdInLast === '1m'}\n              name={translate('issues.facet.createdAt.last_month')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_month')}\n              value=\"1m\"\n            />\n            <FacetItem\n              active={createdInLast === '1y'}\n              name={translate('issues.facet.createdAt.last_year')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_year')}\n              value=\"1y\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n\n  renderInner() {\n    const { createdAt } = this.props;\n    return createdAt ? (\n      this.renderExactDate()\n    ) : (\n      <div>\n        {this.renderBarChart()}\n        {this.renderPeriodSelectors()}\n        {this.renderPredefinedPeriods()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderInner()}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(CreationDateFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport { Query, Facet } from '../utils';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { highlightTerm } from '../../../helpers/search';\nimport { getTree, TreeComponent } from '../../../api/components';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  componentKey: string;\n  fetching: boolean;\n  directories: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class DirectoryFacet extends React.PureComponent<Props> {\n  getFacetItemText = (directory: string) => {\n    return collapsePath(directory, 15);\n  };\n\n  getSearchResultKey = (directory: TreeComponent) => {\n    return directory.name;\n  };\n\n  getSearchResultText = (directory: TreeComponent) => {\n    return directory.name;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    return getTree({\n      component: this.props.componentKey,\n      q: query,\n      qualifiers: 'DIR',\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({ paging, results: components }));\n  };\n\n  loadSearchResultCount = (directories: TreeComponent[]) => {\n    return this.props.loadSearchResultCount('directories', {\n      directories: directories.map(directory => directory.name)\n    });\n  };\n\n  renderDirectory = (directory: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"DIR\" />\n      {directory}\n    </>\n  );\n\n  renderFacetItem = (directory: string) => {\n    return this.renderDirectory(collapsePath(directory, 15));\n  };\n\n  renderSearchResult = (directory: TreeComponent, term: string) => {\n    return this.renderDirectory(highlightTerm(collapsePath(directory.name), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponent>\n        facetHeader={translate('issues.facet.directories')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"directories\"\n        query={omit(this.props.query, 'directories')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_directories')}\n        stats={this.props.stats}\n        values={this.props.directories}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport { Query, ReferencedComponent, Facet } from '../utils';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\nimport { TreeComponent, getTree } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props {\n  componentKey: string;\n  fetching: boolean;\n  files: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class FileFacet extends React.PureComponent<Props> {\n  getFile = (file: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[file]\n      ? collapsePath(referencedComponents[file].path || '', 15)\n      : file;\n  };\n\n  getFacetItemText = (file: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[file] ? referencedComponents[file].path || '' : file;\n  };\n\n  getSearchResultKey = (file: TreeComponent) => {\n    return file.id;\n  };\n\n  getSearchResultText = (file: TreeComponent) => {\n    return file.path || file.name;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    return getTree({\n      component: this.props.componentKey,\n      q: query,\n      qualifiers: 'FIL',\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({ paging, results: components }));\n  };\n\n  loadSearchResultCount = (files: TreeComponent[]) => {\n    return this.props.loadSearchResultCount('files', { files: files.map(file => file.id) });\n  };\n\n  renderFile = (file: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"FIL\" />\n      {file}\n    </>\n  );\n\n  renderFacetItem = (file: string) => {\n    const name = this.getFile(file);\n    return this.renderFile(name);\n  };\n\n  renderSearchResult = (file: TreeComponent, term: string) => {\n    return this.renderFile(highlightTerm(collapsePath(file.path || file.name, 15), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponent>\n        facetHeader={translate('issues.facet.files')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"files\"\n        query={omit(this.props.query, 'files')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_files')}\n        stats={this.props.stats}\n        values={this.props.files}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniqBy, omit } from 'lodash';\nimport { connect } from 'react-redux';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Query, ReferencedLanguage, Facet } from '../utils';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props {\n  fetching: boolean;\n  installedLanguages: InstalledLanguage[];\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  stats: { [x: string]: number } | undefined;\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (language: string) => {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  loadSearchResultCount = (languages: InstalledLanguage[]) => {\n    return this.props.loadSearchResultCount('languages', {\n      languages: languages.map(language => language.key)\n    });\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        facetHeader={translate('issues.facet.languages')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        query={omit(this.props.query, 'languages')}\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.languages}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Query, ReferencedComponent, Facet } from '../utils';\nimport { searchProjects, getTree } from '../../../api/components';\nimport Organization from '../../../components/shared/Organization';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props {\n  component: T.Component | undefined;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: { key: string } | undefined;\n  projects: string[];\n  query: Query;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\ninterface SearchedProject {\n  key: string;\n  name: string;\n  organization: string;\n}\n\nexport default class ProjectFacet extends React.PureComponent<Props> {\n  handleSearch = (\n    query: string,\n    page = 1\n  ): Promise<{ results: SearchedProject[]; paging: T.Paging }> => {\n    const { component, organization } = this.props;\n    if (component && ['VW', 'SVW', 'APP'].includes(component.qualifier)) {\n      return getTree({\n        component: component.key,\n        p: page,\n        ps: 30,\n        q: query,\n        qualifiers: 'TRK'\n      }).then(({ components, paging }) => ({\n        paging,\n        results: components.map(component => ({\n          key: component.refKey || component.key,\n          name: component.name,\n          organization: component.organization\n        }))\n      }));\n    }\n\n    return searchProjects({\n      p: page,\n      ps: 30,\n      filter: query ? `query = \"${query}\"` : '',\n      organization: organization && organization.key\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.map(component => ({\n        key: component.key,\n        name: component.name,\n        organization: component.organization\n      }))\n    }));\n  };\n\n  getProjectName = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? referencedComponents[project].name : project;\n  };\n\n  loadSearchResultCount = (projects: SearchedProject[]) => {\n    return this.props.loadSearchResultCount('projects', {\n      projects: projects.map(project => project.key)\n    });\n  };\n\n  renderFacetItem = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? (\n      this.renderProject(referencedComponents[project])\n    ) : (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n        {project}\n      </span>\n    );\n  };\n\n  renderProject = (project: Pick<SearchedProject, 'name' | 'organization'>) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n      {!this.props.organization && (\n        <Organization link={false} organizationKey={project.organization} />\n      )}\n      {project.name}\n    </span>\n  );\n\n  renderSearchResult = (project: Pick<SearchedProject, 'name' | 'organization'>, term: string) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n      {!this.props.organization && (\n        <Organization link={false} organizationKey={project.organization} />\n      )}\n      {highlightTerm(project.name, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<SearchedProject>\n        facetHeader={translate('issues.facet.projects')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getProjectName}\n        getSearchResultKey={project => project.key}\n        getSearchResultText={project => project.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"projects\"\n        query={omit(this.props.query, 'projects')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_projects')}\n        stats={this.props.stats}\n        values={this.props.projects}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  resolved: boolean;\n  resolutions: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nconst RESOLUTIONS = ['', 'FIXED', 'FALSE-POSITIVE', 'WONTFIX', 'REMOVED'];\n\nexport default class ResolutionFacet extends React.PureComponent<Props> {\n  property = 'resolutions';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { resolutions } = this.props;\n    if (itemValue === '') {\n      // unresolved\n      this.props.onChange({ resolved: !this.props.resolved, resolutions: [] });\n    } else if (multiple) {\n      const newValue = orderBy(\n        resolutions.includes(itemValue)\n          ? without(resolutions, itemValue)\n          : [...resolutions, itemValue]\n      );\n      this.props.onChange({ resolved: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        resolved: true,\n        [this.property]:\n          resolutions.includes(itemValue) && resolutions.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ resolved: false, resolutions: [] });\n  };\n\n  isFacetItemActive(resolution: string) {\n    return resolution === '' ? !this.props.resolved : this.props.resolutions.includes(resolution);\n  }\n\n  getFacetItemName(resolution: string) {\n    return resolution === '' ? translate('unresolved') : translate('issue.resolution', resolution);\n  }\n\n  getStat(resolution: string) {\n    const { stats } = this.props;\n    return stats ? stats[resolution] : undefined;\n  }\n\n  renderItem = (resolution: string) => {\n    const active = this.isFacetItemActive(resolution);\n    const stat = this.getStat(resolution);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={resolution}\n        name={this.getFacetItemName(resolution)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.getFacetItemName(resolution)}\n        value={resolution}\n      />\n    );\n  };\n\n  render() {\n    const { resolutions, stats = {} } = this.props;\n    const values = resolutions.map(resolution => this.getFacetItemName(resolution));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          clearLabel=\"reset_verb\"\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            <FacetItemsList>{RESOLUTIONS.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint\n              options={Object.keys(stats).length}\n              values={resolutions.length}\n            />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Query, ReferencedRule, Facet } from '../utils';\nimport { searchRules } from '../../../api/rules';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  fetching: boolean;\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  referencedRules: { [ruleKey: string]: ReferencedRule };\n  rules: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class RuleFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page = 1) => {\n    const { languages, organization } = this.props;\n    return searchRules({\n      f: 'name,langName',\n      languages: languages.length ? languages.join() : undefined,\n      organization,\n      q: query,\n      p: page,\n      ps: 30,\n      s: 'name',\n      include_external: true\n    }).then(response => ({\n      paging: { pageIndex: response.p, pageSize: response.ps, total: response.total },\n      results: response.rules\n    }));\n  };\n\n  loadSearchResultCount = (rules: T.Rule[]) => {\n    return this.props.loadSearchResultCount('rules', { rules: rules.map(rule => rule.key) });\n  };\n\n  getRuleName = (ruleKey: string) => {\n    const rule = this.props.referencedRules[ruleKey];\n    return rule ? this.formatRuleName(rule.name, rule.langName) : ruleKey;\n  };\n\n  formatRuleName = (name: string, langName: string | undefined) => {\n    // external rules don't have a language associated\n    // see https://jira.sonarsource.com/browse/MMF-1407\n    return langName ? `(${langName}) ${name}` : name;\n  };\n\n  renderSearchResult = (rule: T.Rule) => {\n    return this.formatRuleName(rule.name, rule.langName);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<T.Rule>\n        facetHeader={translate('issues.facet.rules')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getRuleName}\n        getSearchResultKey={rule => rule.key}\n        getSearchResultText={rule => rule.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"rules\"\n        query={omit(this.props.query, 'rules')}\n        renderFacetItem={this.getRuleName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_rules')}\n        stats={this.props.stats}\n        values={this.props.rules}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  severities: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nconst SEVERITIES = ['BLOCKER', 'MINOR', 'CRITICAL', 'INFO', 'MAJOR'];\n\nexport default class SeverityFacet extends React.PureComponent<Props> {\n  property = 'severities';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { severities } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        severities.includes(itemValue) ? without(severities, itemValue) : [...severities, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: severities.includes(itemValue) && severities.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(severity: string) {\n    const { stats } = this.props;\n    return stats ? stats[severity] : undefined;\n  }\n\n  renderItem = (severity: string) => {\n    const active = this.props.severities.includes(severity);\n    const stat = this.getStat(severity);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={severity}\n        name={<SeverityHelper severity={severity} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('severity', severity)}\n        value={severity}\n      />\n    );\n  };\n\n  render() {\n    const { severities, stats = {} } = this.props;\n    const values = severities.map(severity => translate('severity', severity));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            <FacetItemsList>{SEVERITIES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={severities.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without, omit } from 'lodash';\nimport { Query, STANDARDS, formatFacetStat, Facet } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport { translate } from '../../../helpers/l10n';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport {\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderCWECategory,\n  Standards\n} from '../../securityReports/utils';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { highlightTerm } from '../../../helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\n\nexport interface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: { [x: string]: number } | undefined;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingCwe: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: { [x: string]: number } | undefined;\n  query: Query;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: { [x: string]: number } | undefined;\n}\n\ninterface State {\n  cweQuery: string;\n  standards: Standards;\n}\n\ntype StatsProp = 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats';\ntype ValuesProp = 'owaspTop10' | 'sansTop25' | 'cwe';\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = {\n    cweQuery: '',\n    standards: { owaspTop10: {}, sansTop25: {}, cwe: {} }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    import('../../../helpers/standards.json')\n      .then(x => x.default)\n      .then(\n        ({ owaspTop10, sansTop25, cwe }: Standards) => {\n          if (this.mounted) {\n            this.setState({ standards: { owaspTop10, sansTop25, cwe } });\n          }\n        },\n        () => {}\n      );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [], owaspTop10: [], sansTop25: [], cwe: [] });\n  };\n\n  handleItemClick = (prop: ValuesProp, itemValue: string, multiple: boolean) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('owaspTop10', itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sansTop25', itemValue, multiple);\n  };\n\n  handleCWESearch = (query: string) => {\n    return Promise.resolve({\n      results: Object.keys(this.state.standards.cwe).filter(cwe =>\n        renderCWECategory(this.state.standards, cwe)\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    });\n  };\n\n  loadCWESearchResultCount = (categories: string[]) => {\n    return this.props.loadSearchResultCount('cwe', { cwe: categories });\n  };\n\n  renderList = (\n    statsProp: StatsProp,\n    valuesProp: ValuesProp,\n    renderName: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n    if (!stats) {\n      return null;\n    }\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n    return this.renderFacetItemsList(stats, values, categories, renderName, renderName, onClick);\n  };\n\n  // eslint-disable-next-line max-params\n  renderFacetItemsList = (\n    stats: any,\n    values: string[],\n    categories: string[],\n    renderName: (standards: Standards, category: string) => React.ReactNode,\n    renderTooltip: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={renderTooltip(this.state.standards, category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderHint = (statsProp: StatsProp, valuesProp: ValuesProp) => {\n    const stats = this.props[statsProp] || {};\n    const values = this.props[valuesProp];\n    return <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />;\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      'owaspTop10',\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderOwaspTop10Hint() {\n    return this.renderHint('owaspTop10Stats', 'owaspTop10');\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      'sansTop25',\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSansTop25Hint() {\n    return this.renderHint('sansTop25Stats', 'sansTop25');\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property=\"owaspTop10\">\n          <FacetHeader\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          <DeferredSpinner loading={this.props.fetchingOwaspTop10} />\n          {this.props.owaspTop10Open && (\n            <>\n              {this.renderOwaspTop10List()}\n              {this.renderOwaspTop10Hint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"sansTop25\">\n          <FacetHeader\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          <DeferredSpinner loading={this.props.fetchingSansTop25} />\n          {this.props.sansTop25Open && (\n            <>\n              {this.renderSansTop25List()}\n              {this.renderSansTop25Hint()}\n            </>\n          )}\n        </FacetBox>\n        <ListStyleFacet<string>\n          className=\"is-inner\"\n          facetHeader={translate('issues.facet.cwe')}\n          fetching={this.props.fetchingCwe}\n          getFacetItemText={item => renderCWECategory(this.state.standards, item)}\n          getSearchResultKey={item => item}\n          getSearchResultText={item => renderCWECategory(this.state.standards, item)}\n          loadSearchResultCount={this.loadCWESearchResultCount}\n          onChange={this.props.onChange}\n          onSearch={this.handleCWESearch}\n          onToggle={this.props.onToggle}\n          open={this.props.cweOpen}\n          property=\"cwe\"\n          query={omit(this.props.query, 'cwe')}\n          renderFacetItem={item => renderCWECategory(this.state.standards, item)}\n          renderSearchResult={(item, query) =>\n            highlightTerm(renderCWECategory(this.state.standards, item), query)\n          }\n          searchPlaceholder={translate('search.search_for_cwe')}\n          stats={this.props.cweStats}\n          values={this.props.cwe}\n        />\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport StatusHelper from '../../../components/shared/StatusHelper';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  statuses: string[];\n}\n\nconst STATUSES = ['OPEN', 'RESOLVED', 'REOPENED', 'CLOSED', 'CONFIRMED'];\n\nexport default class StatusFacet extends React.PureComponent<Props> {\n  property = 'statuses';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { statuses } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        statuses.includes(itemValue) ? without(statuses, itemValue) : [...statuses, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: statuses.includes(itemValue) && statuses.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(status: string) {\n    const { stats } = this.props;\n    return stats ? stats[status] : undefined;\n  }\n\n  renderItem = (status: string) => {\n    const active = this.props.statuses.includes(status);\n    const stat = this.getStat(status);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={status}\n        name={<StatusHelper resolution={undefined} status={status} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('issue.status', status)}\n        value={status}\n      />\n    );\n  };\n\n  render() {\n    const { statuses, stats = {} } = this.props;\n    const values = statuses.map(status => translate('issue.status', status));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            <FacetItemsList>{STATUSES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={statuses.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport { Query, Facet } from '../utils';\nimport { searchIssueTags } from '../../../api/issues';\nimport * as theme from '../../../app/theme';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\nimport { translate } from '../../../helpers/l10n';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: { [x: string]: number } | undefined;\n  tags: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueTags({\n      organization: this.props.organization,\n      project,\n      ps: SEARCH_SIZE,\n      q: query\n    }).then(tags => ({ maxResults: tags.length === SEARCH_SIZE, results: tags }));\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  loadSearchResultCount = (tags: string[]) => {\n    return this.props.loadSearchResultCount('tags', { tags });\n  };\n\n  renderTag = (tag: string) => {\n    return (\n      <>\n        <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n        {tag}\n      </>\n    );\n  };\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.tags')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        query={omit(this.props.query, 'tags')}\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.tags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { ISSUE_TYPES } from '../../../helpers/constants';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  types: string[];\n}\n\nexport default class TypeFacet extends React.PureComponent<Props> {\n  property = 'types';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { types } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        types.includes(itemValue) ? without(types, itemValue) : [...types, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: types.includes(itemValue) && types.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(type: string) {\n    const { stats } = this.props;\n    return stats ? stats[type] : undefined;\n  }\n\n  isFacetItemActive(type: string) {\n    const { types } = this.props;\n    return (\n      // type is selected explicitly\n      types.includes(type) ||\n      // bugs, vulnerabilities and code smells are selected implicitly by default\n      (types.length === 0 && ['BUG', 'VULNERABILITY', 'CODE_SMELL'].includes(type))\n    );\n  }\n\n  renderItem = (type: string) => {\n    const active = this.isFacetItemActive(type);\n    const stat = this.getStat(type);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        key={type}\n        name={\n          <span>\n            <IssueTypeIcon query={type} /> {translate('issue.type', type)}\n          </span>\n        }\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('issue.type', type)}\n        value={type}\n      />\n    );\n  };\n\n  render() {\n    const { types, stats = {} } = this.props;\n    const values = types.map(type => translate('issue.type', type));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          clearLabel=\"reset_verb\"\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            <FacetItemsList>{ISSUE_TYPES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={types.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AssigneeFacet from './AssigneeFacet';\nimport AuthorFacet from './AuthorFacet';\nimport CreationDateFacet from './CreationDateFacet';\nimport DirectoryFacet from './DirectoryFacet';\nimport FileFacet from './FileFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProjectFacet from './ProjectFacet';\nimport ResolutionFacet from './ResolutionFacet';\nimport RuleFacet from './RuleFacet';\nimport SeverityFacet from './SeverityFacet';\nimport StandardFacet from './StandardFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TypeFacet from './TypeFacet';\nimport {\n  Query,\n  Facet,\n  ReferencedComponent,\n  ReferencedUser,\n  ReferencedLanguage,\n  ReferencedRule,\n  STANDARDS\n} from '../utils';\n\nexport interface Props {\n  component: T.Component | undefined;\n  facets: { [facet: string]: Facet };\n  hideAuthorFacet?: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  loadingFacets: { [key: string]: boolean };\n  myIssues: boolean;\n  onFacetToggle: (property: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: { [facet: string]: boolean };\n  organization: { key: string } | undefined;\n  query: Query;\n  referencedComponentsById: { [id: string]: ReferencedComponent };\n  referencedComponentsByKey: { [key: string]: ReferencedComponent };\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  referencedRules: { [ruleKey: string]: ReferencedRule };\n  referencedUsers: { [login: string]: ReferencedUser };\n}\n\nexport default class Sidebar extends React.PureComponent<Props> {\n  renderComponentFacets() {\n    const { component, facets, loadingFacets, openFacets, query } = this.props;\n    if (!component) {\n      return null;\n    }\n    const commonProps = {\n      componentKey: component.key,\n      loadSearchResultCount: this.props.loadSearchResultCount,\n      onChange: this.props.onFilterChange,\n      onToggle: this.props.onFacetToggle,\n      query\n    };\n    return (\n      <>\n        {component.qualifier !== 'DIR' && (\n          <DirectoryFacet\n            directories={query.directories}\n            fetching={loadingFacets.directories === true}\n            open={!!openFacets.directories}\n            stats={facets.directories}\n            {...commonProps}\n          />\n        )}\n        <FileFacet\n          fetching={loadingFacets.files === true}\n          files={query.files}\n          open={!!openFacets.files}\n          referencedComponents={this.props.referencedComponentsById}\n          stats={facets.files}\n          {...commonProps}\n        />\n      </>\n    );\n  }\n\n  render() {\n    const { component, facets, hideAuthorFacet, openFacets, query } = this.props;\n\n    const displayProjectsFacet =\n      !component || !['TRK', 'BRC', 'DIR', 'DEV_PRJ'].includes(component.qualifier);\n    const displayAuthorFacet = !hideAuthorFacet && (!component || component.qualifier !== 'DEV');\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    return (\n      <>\n        <TypeFacet\n          fetching={this.props.loadingFacets.types === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.types}\n          stats={facets.types}\n          types={query.types}\n        />\n        <SeverityFacet\n          fetching={this.props.loadingFacets.severities === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.severities}\n          severities={query.severities}\n          stats={facets.severities}\n        />\n        <ResolutionFacet\n          fetching={this.props.loadingFacets.resolutions === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.resolutions}\n          resolutions={query.resolutions}\n          resolved={query.resolved}\n          stats={facets.resolutions}\n        />\n        <StatusFacet\n          fetching={this.props.loadingFacets.statuses === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.statuses}\n          stats={facets.statuses}\n          statuses={query.statuses}\n        />\n        <CreationDateFacet\n          component={component}\n          createdAfter={query.createdAfter}\n          createdAt={query.createdAt}\n          createdBefore={query.createdBefore}\n          createdInLast={query.createdInLast}\n          fetching={this.props.loadingFacets.createdAt === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.createdAt}\n          sinceLeakPeriod={query.sinceLeakPeriod}\n          stats={facets.createdAt}\n        />\n        <LanguageFacet\n          fetching={this.props.loadingFacets.languages === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.languages}\n          query={query}\n          referencedLanguages={this.props.referencedLanguages}\n          stats={facets.languages}\n        />\n        <RuleFacet\n          fetching={this.props.loadingFacets.rules === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.rules}\n          organization={organizationKey}\n          query={query}\n          referencedRules={this.props.referencedRules}\n          rules={query.rules}\n          stats={facets.rules}\n        />\n        <StandardFacet\n          cwe={query.cwe}\n          cweOpen={!!openFacets.cwe}\n          cweStats={facets.cwe}\n          fetchingCwe={this.props.loadingFacets.cwe === true}\n          fetchingOwaspTop10={this.props.loadingFacets.owaspTop10 === true}\n          fetchingSansTop25={this.props.loadingFacets.sansTop25 === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets[STANDARDS]}\n          owaspTop10={query.owaspTop10}\n          owaspTop10Open={!!openFacets.owaspTop10}\n          owaspTop10Stats={facets.owaspTop10}\n          query={query}\n          sansTop25={query.sansTop25}\n          sansTop25Open={!!openFacets.sansTop25}\n          sansTop25Stats={facets.sansTop25}\n        />\n        <TagFacet\n          component={component}\n          fetching={this.props.loadingFacets.tags === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.tags}\n          organization={organizationKey}\n          query={query}\n          stats={facets.tags}\n          tags={query.tags}\n        />\n        {displayProjectsFacet && (\n          <ProjectFacet\n            component={component}\n            fetching={this.props.loadingFacets.projects === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.projects}\n            organization={this.props.organization}\n            projects={query.projects}\n            query={query}\n            referencedComponents={this.props.referencedComponentsByKey}\n            stats={facets.projects}\n          />\n        )}\n        {this.renderComponentFacets()}\n        {!this.props.myIssues && (\n          <AssigneeFacet\n            assigned={query.assigned}\n            assignees={query.assignees}\n            fetching={this.props.loadingFacets.assignees === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.assignees}\n            organization={organizationKey}\n            query={query}\n            referencedUsers={this.props.referencedUsers}\n            stats={facets.assignees}\n          />\n        )}\n        {displayAuthorFacet && (\n          <AuthorFacet\n            authors={query.authors}\n            component={component}\n            fetching={this.props.loadingFacets.authors === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.authors}\n            organization={organizationKey}\n            query={query}\n            stats={facets.authors}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { State } from './components/App';\nimport { allLocationsEmpty } from './utils';\n\nexport function enableLocationsNavigator(state: State) {\n  const { openIssue, selectedLocationIndex } = state;\n  if (openIssue && (openIssue.secondaryLocations.length > 0 || openIssue.flows.length > 0)) {\n    const selectedFlowIndex =\n      state.selectedFlowIndex || (openIssue.flows.length > 0 ? 0 : undefined);\n\n    if (!allLocationsEmpty(openIssue, selectedFlowIndex)) {\n      return {\n        locationsNavigator: true,\n        selectedFlowIndex,\n        // Also reset index = -1 to 0, we don't want to start on the issue when enabling the location navigator\n        selectedLocationIndex:\n          !selectedLocationIndex || selectedLocationIndex < 0 ? 0 : selectedLocationIndex\n      };\n    }\n  }\n  return null;\n}\n\nexport function disableLocationsNavigator() {\n  return { locationsNavigator: false };\n}\n\nexport function selectLocation(nextIndex: number | undefined) {\n  return (state: State) => {\n    const { selectedLocationIndex: index, openIssue } = state;\n    if (openIssue) {\n      if (!state.locationsNavigator) {\n        if (nextIndex !== undefined) {\n          return { locationsNavigator: true, selectedLocationIndex: nextIndex };\n        }\n      } else if (index !== undefined) {\n        // disable locations when selecting (clicking) the same location\n        return {\n          locationsNavigator: nextIndex !== index,\n          selectedLocationIndex: nextIndex\n        };\n      }\n    }\n    return null;\n  };\n}\n\nexport function selectNextLocation(state: State) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    const locations =\n      selectedFlowIndex !== undefined\n        ? openIssue.flows[selectedFlowIndex]\n        : openIssue.secondaryLocations;\n    const lastLocationIdx = locations.length - 1;\n    if (index === lastLocationIdx) {\n      // -1 to jump back to the issue itself\n      return { selectedLocationIndex: -1 };\n    }\n    return {\n      selectedLocationIndex: index !== undefined && index < lastLocationIdx ? index + 1 : index\n    };\n  }\n  return null;\n}\n\nexport function selectPreviousLocation(state: State) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    if (index === -1) {\n      const locations =\n        selectedFlowIndex !== undefined\n          ? openIssue.flows[selectedFlowIndex]\n          : openIssue.secondaryLocations;\n      const lastLocationIdx = locations.length - 1;\n      return { selectedLocationIndex: lastLocationIdx };\n    }\n    return { selectedLocationIndex: index !== undefined && index > 0 ? index - 1 : index };\n  }\n  return null;\n}\n\nexport function selectFlow(nextIndex?: number) {\n  return () => {\n    return { locationsNavigator: true, selectedFlowIndex: nextIndex, selectedLocationIndex: 0 };\n  };\n}\n\nexport function selectNextFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (\n    openIssue &&\n    selectedFlowIndex !== undefined &&\n    openIssue.flows.length > selectedFlowIndex + 1\n  ) {\n    return { selectedFlowIndex: selectedFlowIndex + 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n\nexport function selectPreviousFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (openIssue && selectedFlowIndex !== undefined && selectedFlowIndex > 0) {\n    return { selectedFlowIndex: selectedFlowIndex - 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport * as key from 'keymaster';\nimport Helmet from 'react-helmet';\nimport { keyBy, omit, without } from 'lodash';\nimport BulkChangeModal, { MAX_PAGE_SIZE } from './BulkChangeModal';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\nimport IssuesList from './IssuesList';\nimport IssuesSourceViewer from './IssuesSourceViewer';\nimport MyIssuesFilter from './MyIssuesFilter';\nimport NoIssues from './NoIssues';\nimport NoMyIssues from './NoMyIssues';\nimport PageActions from './PageActions';\nimport ConciseIssuesList from '../conciseIssuesList/ConciseIssuesList';\nimport ConciseIssuesListHeader from '../conciseIssuesList/ConciseIssuesListHeader';\nimport Sidebar from '../sidebar/Sidebar';\nimport * as actions from '../actions';\nimport {\n  areMyIssuesSelected,\n  areQueriesEqual,\n  Facet,\n  getOpen,\n  mapFacet,\n  parseFacets,\n  parseQuery,\n  Query,\n  RawFacet,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedUser,\n  saveMyIssues,\n  serializeQuery,\n  STANDARDS,\n  ReferencedRule\n} from '../utils';\nimport { Alert } from '../../../components/ui/Alert';\nimport { Button } from '../../../components/ui/buttons';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport EmptySearch from '../../../components/common/EmptySearch';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport handleRequiredAuthentication from '../../../app/utils/handleRequiredAuthentication';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport {\n  isShortLivingBranch,\n  isSameBranchLike,\n  getBranchLikeQuery,\n  isPullRequest,\n  fillBranchLike\n} from '../../../helpers/branches';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from '../../../helpers/pages';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { withRouter, Location, Router } from '../../../components/hoc/withRouter';\nimport '../../../components/search-navigator.css';\nimport '../styles.css';\n\ninterface FetchIssuesPromise {\n  components: ReferencedComponent[];\n  effortTotal: number;\n  facets: RawFacet[];\n  issues: T.Issue[];\n  languages: ReferencedLanguage[];\n  paging: T.Paging;\n  rules: ReferencedRule[];\n  users: ReferencedUser[];\n}\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component?: T.Component;\n  currentUser: T.CurrentUser;\n  fetchIssues: (query: RawQuery, requestOrganizations?: boolean) => Promise<FetchIssuesPromise>;\n  hideAuthorFacet?: boolean;\n  location: Pick<Location, 'pathname' | 'query'>;\n  multiOrganizations?: boolean;\n  myIssues?: boolean;\n  onBranchesChange: () => void;\n  organization?: { key: string };\n  router: Pick<Router, 'push' | 'replace'>;\n  userOrganizations: T.Organization[];\n}\n\nexport interface State {\n  bulkChangeModal: boolean;\n  checkAll?: boolean;\n  checked: string[];\n  effortTotal?: number;\n  facets: { [facet: string]: Facet };\n  issues: T.Issue[];\n  loading: boolean;\n  loadingFacets: { [key: string]: boolean };\n  loadingMore: boolean;\n  locationsNavigator: boolean;\n  myIssues: boolean;\n  openFacets: { [facet: string]: boolean };\n  openIssue?: T.Issue;\n  openPopup?: { issue: string; name: string };\n  paging?: T.Paging;\n  query: Query;\n  referencedComponentsById: { [id: string]: ReferencedComponent };\n  referencedComponentsByKey: { [key: string]: ReferencedComponent };\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  referencedRules: { [ruleKey: string]: ReferencedRule };\n  referencedUsers: { [login: string]: ReferencedUser };\n  selected?: string;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nconst DEFAULT_QUERY = { resolved: 'false' };\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      bulkChangeModal: false,\n      checked: [],\n      facets: {},\n      issues: [],\n      loading: true,\n      loadingFacets: {},\n      loadingMore: false,\n      locationsNavigator: false,\n      myIssues: props.myIssues || areMyIssuesSelected(props.location.query),\n      openFacets: { severities: true, types: true },\n      query: parseQuery(props.location.query),\n      referencedComponentsById: {},\n      referencedComponentsByKey: {},\n      referencedLanguages: {},\n      referencedRules: {},\n      referencedUsers: {},\n      selected: getOpen(props.location.query)\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.state.myIssues && !this.props.currentUser.isLoggedIn) {\n      handleRequiredAuthentication();\n      return;\n    }\n\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchFirstIssues();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const openIssue = this.getOpenIssue(nextProps, this.state.issues);\n\n    if (openIssue && openIssue.key !== this.state.selected) {\n      this.setState({\n        locationsNavigator: false,\n        selected: openIssue.key,\n        selectedFlowIndex: undefined,\n        selectedLocationIndex: undefined\n      });\n    }\n\n    if (!openIssue) {\n      this.setState({ selectedFlowIndex: undefined, selectedLocationIndex: undefined });\n    }\n\n    this.setState({\n      myIssues: nextProps.myIssues || areMyIssuesSelected(nextProps.location.query),\n      openIssue,\n      query: parseQuery(nextProps.location.query)\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { query } = this.props.location;\n    const { query: prevQuery } = prevProps.location;\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      !areQueriesEqual(prevQuery, query) ||\n      areMyIssuesSelected(prevQuery) !== areMyIssuesSelected(query)\n    ) {\n      this.fetchFirstIssues();\n      this.setState({ checkAll: false });\n    } else if (\n      !this.state.openIssue &&\n      (prevState.selected !== this.state.selected || prevState.openIssue)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedIssue();\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n  }\n\n  attachShortcuts() {\n    key.setScope('issues');\n    key('up', 'issues', () => {\n      this.selectPreviousIssue();\n      return false;\n    });\n    key('down', 'issues', () => {\n      this.selectNextIssue();\n      return false;\n    });\n    key('right', 'issues', () => {\n      this.openSelectedIssue();\n      return false;\n    });\n    key('left', 'issues', () => {\n      if (this.state.query.issues.length !== 1) {\n        this.closeIssue();\n      }\n      return false;\n    });\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  detachShortcuts() {\n    key.deleteScope('issues');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      event.preventDefault();\n      this.setState(actions.enableLocationsNavigator);\n    } else if (event.keyCode === 40 && event.altKey) {\n      // alt + down\n      event.preventDefault();\n      this.selectNextLocation();\n    } else if (event.keyCode === 38 && event.altKey) {\n      // alt + up\n      event.preventDefault();\n      this.selectPreviousLocation();\n    } else if (event.keyCode === 37 && event.altKey) {\n      // alt + left\n      event.preventDefault();\n      this.selectPreviousFlow();\n    } else if (event.keyCode === 39 && event.altKey) {\n      // alt + right\n      event.preventDefault();\n      this.selectNextFlow();\n    }\n  };\n\n  handleKeyUp = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      this.setState(actions.disableLocationsNavigator);\n    }\n  };\n\n  getSelectedIndex() {\n    const { issues = [], selected } = this.state;\n    const index = issues.findIndex(issue => issue.key === selected);\n    return index !== -1 ? index : undefined;\n  }\n\n  getOpenIssue = (props: Props, issues: T.Issue[]) => {\n    const open = getOpen(props.location.query);\n    return open ? issues.find(issue => issue.key === open) : undefined;\n  };\n\n  selectNextIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex < issues.length - 1) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex + 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex + 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  selectPreviousIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex - 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex - 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  openIssue = (issueKey: string) => {\n    const path = {\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined,\n        open: issueKey\n      }\n    };\n    if (this.state.openIssue) {\n      if (path.query.open && path.query.open === this.state.openIssue.key) {\n        this.setState(\n          {\n            locationsNavigator: false,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          },\n          this.scrollToSelectedIssue\n        );\n      } else {\n        this.props.router.replace(path);\n      }\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  closeIssue = () => {\n    if (this.state.query) {\n      this.props.router.push({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeQuery(this.state.query),\n          ...getBranchLikeQuery(this.props.branchLike),\n          id: this.props.component && this.props.component.key,\n          myIssues: this.state.myIssues ? 'true' : undefined,\n          open: undefined\n        }\n      });\n      this.scrollToSelectedIssue(false);\n    }\n  };\n\n  openSelectedIssue = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openIssue(selected);\n    }\n  };\n\n  scrollToSelectedIssue = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-issue=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 250, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  fetchIssues = (\n    additional: RawQuery,\n    requestFacets = false,\n    requestOrganizations = true\n  ): Promise<FetchIssuesPromise> => {\n    const { component } = this.props;\n    const { myIssues, openFacets, query } = this.state;\n\n    const facets = requestFacets\n      ? Object.keys(openFacets)\n          .filter(facet => openFacets[facet])\n          .filter(facet => facet !== STANDARDS)\n          .map(mapFacet)\n          .join(',')\n      : undefined;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      s: 'FILE_LINE',\n      ...serializeQuery(query),\n      ps: '100',\n      organization: organizationKey,\n      facets,\n      ...additional\n    };\n\n    // only sorting by CREATION_DATE is allowed, so let's sort DESC\n    if (query.sort) {\n      Object.assign(parameters, { asc: 'false' });\n    }\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(\n      parameters,\n      Boolean(requestOrganizations && this.props.multiOrganizations)\n    );\n  };\n\n  fetchFirstIssues() {\n    const prevQuery = this.props.location.query;\n    this.setState({ checked: [], loading: true });\n    return this.fetchIssues({}, true).then(\n      ({ effortTotal, facets, issues, paging, ...other }) => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          const openIssue = this.getOpenIssue(this.props, issues);\n          let selected: string | undefined = undefined;\n          if (issues.length > 0) {\n            selected = openIssue ? openIssue.key : issues[0].key;\n          }\n          this.setState(state => ({\n            effortTotal,\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loading: false,\n            issues,\n            openIssue,\n            paging,\n            referencedComponentsById: keyBy(other.components, 'uuid'),\n            referencedComponentsByKey: keyBy(other.components, 'key'),\n            referencedLanguages: keyBy(other.languages, 'key'),\n            referencedRules: keyBy(other.rules, 'key'),\n            referencedUsers: keyBy(other.users, 'login'),\n            selected,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          }));\n        }\n        return issues;\n      },\n      () => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  }\n\n  fetchIssuesPage = (p: number) => {\n    return this.fetchIssues({ p });\n  };\n\n  fetchIssuesUntil = (\n    p: number,\n    done: (lastIssue: T.Issue, paging: T.Paging) => boolean\n  ): Promise<{ issues: T.Issue[]; paging: T.Paging }> => {\n    const recursiveFetch = (\n      p: number,\n      issues: T.Issue[]\n    ): Promise<{ issues: T.Issue[]; paging: T.Paging }> => {\n      return this.fetchIssuesPage(p)\n        .then(response => {\n          return {\n            issues: [...issues, ...response.issues],\n            paging: response.paging\n          };\n        })\n        .then(({ issues, paging }) => {\n          return done(issues[issues.length - 1], paging)\n            ? { issues, paging }\n            : recursiveFetch(p + 1, issues);\n        });\n    };\n\n    return recursiveFetch(p, []);\n  };\n\n  fetchMoreIssues = () => {\n    const { paging } = this.state;\n\n    if (!paging) {\n      return;\n    }\n\n    const p = paging.pageIndex + 1;\n\n    this.setState({ checkAll: false, loadingMore: true });\n    this.fetchIssuesPage(p).then(\n      response => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loadingMore: false,\n            issues: [...state.issues, ...response.issues],\n            paging: response.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMore: false });\n        }\n      }\n    );\n  };\n\n  fetchIssuesForComponent = (_component: string, _from: number, to: number) => {\n    const { issues, openIssue, paging } = this.state;\n\n    if (!openIssue || !paging) {\n      return Promise.reject(undefined);\n    }\n\n    const isSameComponent = (issue: T.Issue) => issue.component === openIssue.component;\n\n    const done = (lastIssue: T.Issue, paging: T.Paging) => {\n      if (paging.total <= paging.pageIndex * paging.pageSize) {\n        return true;\n      }\n      if (lastIssue.component !== openIssue.component) {\n        return true;\n      }\n      return lastIssue.textRange !== undefined && lastIssue.textRange.endLine > to;\n    };\n\n    if (done(issues[issues.length - 1], paging)) {\n      return Promise.resolve(issues.filter(isSameComponent));\n    }\n\n    this.setState({ loading: true });\n    return this.fetchIssuesUntil(paging.pageIndex + 1, done).then(\n      response => {\n        const nextIssues = [...issues, ...response.issues];\n        if (this.mounted) {\n          this.setState({\n            issues: nextIssues,\n            loading: false,\n            paging: response.paging\n          });\n        }\n        return nextIssues.filter(isSameComponent);\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  };\n\n  fetchFacet = (facet: string) => {\n    const requestOrganizations = facet === 'projects';\n    this.setState(state => ({ loadingFacets: { ...state.loadingFacets, [facet]: true } }));\n    return this.fetchIssues({ ps: 1, facets: mapFacet(facet) }, false, requestOrganizations).then(\n      ({ facets, ...other }) => {\n        if (this.mounted) {\n          this.setState(state => ({\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loadingFacets: omit(state.loadingFacets, facet),\n            referencedComponentsById: {\n              ...state.referencedComponentsById,\n              ...keyBy(other.components, 'uuid')\n            },\n            referencedComponentsByKey: {\n              ...state.referencedComponentsByKey,\n              ...keyBy(other.components, 'key')\n            },\n            referencedLanguages: {\n              ...state.referencedLanguages,\n              ...keyBy(other.languages, 'key')\n            },\n            referencedRules: { ...state.referencedRules, ...keyBy(other.rules, 'key') },\n            referencedUsers: { ...state.referencedUsers, ...keyBy(other.users, 'login') }\n          }));\n        }\n      },\n      () => {}\n    );\n  };\n\n  isFiltered = () => {\n    const serialized = serializeQuery(this.state.query);\n    return !areQueriesEqual(serialized, DEFAULT_QUERY);\n  };\n\n  getCheckedIssues = () => {\n    const issues = this.state.checked\n      .map(checked => this.state.issues.find(issue => issue.key === checked))\n      .filter((issue): issue is T.Issue => issue !== undefined);\n    const paging = { pageIndex: 1, pageSize: issues.length, total: issues.length };\n    return Promise.resolve({ issues, paging });\n  };\n\n  getButtonLabel = (checked: string[], checkAll?: boolean, paging?: T.Paging) => {\n    if (checked.length > 0) {\n      let count;\n      if (checkAll && paging) {\n        count = paging.total > MAX_PAGE_SIZE ? MAX_PAGE_SIZE : paging.total;\n      } else {\n        count = Math.min(checked.length, MAX_PAGE_SIZE);\n      }\n\n      return translateWithParameters('issues.bulk_change_X_issues', count);\n    } else {\n      return translate('bulk_change');\n    }\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.setState({ loading: true });\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, ...changes }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handleMyIssuesChange = (myIssues: boolean) => {\n    this.closeFacet('assignees');\n    if (!this.props.component) {\n      saveMyIssues(myIssues);\n    }\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, assigned: true, assignees: [] }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  loadSearchResultCount = (property: string, changes: Partial<Query>) => {\n    const { component } = this.props;\n    const { myIssues, query } = this.state;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      facets: mapFacet(property),\n      s: 'FILE_LINE',\n      ...serializeQuery({ ...query, ...changes }),\n      ps: 1,\n      organization: organizationKey\n    };\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props\n      .fetchIssues(parameters, false)\n      .then(({ facets }) => parseFacets(facets)[property]);\n  };\n\n  closeFacet = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: false }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: !state.openFacets[property] }\n    }));\n    if (property !== STANDARDS && !this.state.facets[property]) {\n      this.fetchFacet(property);\n    }\n  };\n\n  handleReset = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...DEFAULT_QUERY,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handlePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.openPopup && state.openPopup.name === popupName && state.openPopup.issue === issue;\n      if (open !== false && !samePopup) {\n        return { openPopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { openPopup: undefined };\n      }\n      return state;\n    });\n  };\n\n  handleIssueCheck = (issue: string) => {\n    this.setState(state => ({\n      checkAll: false,\n      checked: state.checked.includes(issue)\n        ? without(state.checked, issue)\n        : [...state.checked, issue]\n    }));\n  };\n\n  handleIssueChange = (issue: T.Issue) => {\n    this.setState(state => ({\n      issues: state.issues.map(candidate => (candidate.key === issue.key ? issue : candidate))\n    }));\n  };\n\n  handleOpenBulkChange = () => {\n    key.setScope('issues-bulk-change');\n    this.setState({ bulkChangeModal: true });\n  };\n\n  handleCloseBulkChange = () => {\n    key.setScope('issues');\n    this.setState({ bulkChangeModal: false });\n  };\n\n  handleBulkChangeDone = () => {\n    this.setState({ checkAll: false });\n    this.fetchFirstIssues();\n    this.handleCloseBulkChange();\n  };\n\n  handleReload = () => {\n    this.fetchFirstIssues();\n    if (isShortLivingBranch(this.props.branchLike) || isPullRequest(this.props.branchLike)) {\n      this.props.onBranchesChange();\n    }\n  };\n\n  handleReloadAndOpenFirst = () => {\n    this.fetchFirstIssues().then(\n      issues => {\n        if (issues.length > 0) {\n          this.openIssue(issues[0].key);\n        }\n      },\n      () => {}\n    );\n  };\n\n  selectLocation = (index?: number) => {\n    this.setState(actions.selectLocation(index));\n  };\n\n  selectNextLocation = () => {\n    this.setState(actions.selectNextLocation);\n  };\n\n  selectPreviousLocation = () => {\n    this.setState(actions.selectPreviousLocation);\n  };\n\n  handleCheckAll = (checked: boolean) => {\n    if (checked) {\n      this.setState(state => ({\n        checkAll: true,\n        checked: state.issues.map(issue => issue.key)\n      }));\n    } else {\n      this.setState({ checkAll: false, checked: [] });\n    }\n  };\n\n  selectFlow = (index?: number) => {\n    this.setState(actions.selectFlow(index));\n  };\n\n  selectNextFlow = () => {\n    this.setState(actions.selectNextFlow);\n  };\n\n  selectPreviousFlow = () => {\n    this.setState(actions.selectPreviousFlow);\n  };\n\n  renderBulkChange(openIssue: T.Issue | undefined) {\n    const { component, currentUser } = this.props;\n    const { checkAll, bulkChangeModal, checked, issues, paging } = this.state;\n\n    const isAllChecked = checked.length > 0 && issues.length === checked.length;\n    const thirdState = checked.length > 0 && !isAllChecked;\n    const isChecked = isAllChecked || thirdState;\n\n    if (!currentUser.isLoggedIn || openIssue) {\n      return null;\n    }\n\n    return (\n      <div className=\"pull-left\">\n        <Checkbox\n          checked={isChecked}\n          className=\"spacer-right vertical-middle\"\n          disabled={issues.length === 0}\n          id=\"issues-selection\"\n          onCheck={this.handleCheckAll}\n          thirdState={thirdState}\n        />\n        <Button\n          disabled={checked.length === 0}\n          id=\"issues-bulk-change\"\n          onClick={this.handleOpenBulkChange}>\n          {this.getButtonLabel(checked, checkAll, paging)}\n        </Button>\n\n        {bulkChangeModal && (\n          <BulkChangeModal\n            component={component}\n            currentUser={currentUser}\n            fetchIssues={checkAll ? this.fetchIssues : this.getCheckedIssues}\n            onClose={this.handleCloseBulkChange}\n            onDone={this.handleBulkChangeDone}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderFacets() {\n    const { component, currentUser, userOrganizations } = this.props;\n    const { query } = this.state;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const userOrganization =\n      !isSonarCloud() ||\n      userOrganizations.find(o => {\n        return o.key === organizationKey;\n      });\n    const hideAuthorFacet =\n      this.props.hideAuthorFacet || (isSonarCloud() && this.props.myIssues) || !userOrganization;\n\n    return (\n      <div className=\"layout-page-filters\">\n        {currentUser.isLoggedIn &&\n          !isSonarCloud() && (\n            <MyIssuesFilter\n              myIssues={this.state.myIssues}\n              onMyIssuesChange={this.handleMyIssuesChange}\n            />\n          )}\n        <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n        <Sidebar\n          component={component}\n          facets={this.state.facets}\n          hideAuthorFacet={hideAuthorFacet}\n          loadSearchResultCount={this.loadSearchResultCount}\n          loadingFacets={this.state.loadingFacets}\n          myIssues={this.state.myIssues}\n          onFacetToggle={this.handleFacetToggle}\n          onFilterChange={this.handleFilterChange}\n          openFacets={this.state.openFacets}\n          organization={this.props.organization}\n          query={query}\n          referencedComponentsById={this.state.referencedComponentsById}\n          referencedComponentsByKey={this.state.referencedComponentsByKey}\n          referencedLanguages={this.state.referencedLanguages}\n          referencedRules={this.state.referencedRules}\n          referencedUsers={this.state.referencedUsers}\n        />\n      </div>\n    );\n  }\n\n  renderConciseIssuesList() {\n    const { issues, loadingMore, paging, query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        <ConciseIssuesListHeader\n          displayBackButton={query.issues.length !== 1}\n          loading={this.state.loading}\n          onBackClick={this.closeIssue}\n          onReload={this.handleReloadAndOpenFirst}\n          paging={paging}\n          selectedIndex={this.getSelectedIndex()}\n        />\n        <ConciseIssuesList\n          issues={issues}\n          onFlowSelect={this.selectFlow}\n          onIssueSelect={this.openIssue}\n          onLocationSelect={this.selectLocation}\n          selected={this.state.selected}\n          selectedFlowIndex={this.state.selectedFlowIndex}\n          selectedLocationIndex={this.state.selectedLocationIndex}\n        />\n        {paging &&\n          paging.total > 0 && (\n            <ListFooter\n              count={issues.length}\n              loadMore={this.fetchMoreIssues}\n              loading={loadingMore}\n              total={paging.total}\n            />\n          )}\n      </div>\n    );\n  }\n\n  renderSide(openIssue: T.Issue | undefined) {\n    return (\n      <ScreenPositionHelper className=\"layout-page-side-outer\">\n        {({ top }) => (\n          <div className=\"layout-page-side\" style={{ top }}>\n            <div className=\"layout-page-side-inner\">\n              {openIssue ? this.renderConciseIssuesList() : this.renderFacets()}\n            </div>\n          </div>\n        )}\n      </ScreenPositionHelper>\n    );\n  }\n\n  renderList() {\n    const { branchLike, component, currentUser, organization } = this.props;\n    const { issues, loading, loadingMore, openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const selectedIssue = selectedIndex !== undefined ? issues[selectedIndex] : undefined;\n\n    if (!paging || openIssue) {\n      return null;\n    }\n\n    let noIssuesMessage = null;\n    if (paging.total === 0 && !loading) {\n      if (this.isFiltered()) {\n        noIssuesMessage = <EmptySearch />;\n      } else if (this.state.myIssues) {\n        noIssuesMessage = <NoMyIssues />;\n      } else {\n        noIssuesMessage = <NoIssues />;\n      }\n    }\n\n    return (\n      <div>\n        {paging.total > 0 && (\n          <IssuesList\n            branchLike={branchLike}\n            checked={this.state.checked}\n            component={component}\n            issues={issues}\n            onFilterChange={this.handleFilterChange}\n            onIssueChange={this.handleIssueChange}\n            onIssueCheck={currentUser.isLoggedIn ? this.handleIssueCheck : undefined}\n            onIssueClick={this.openIssue}\n            onPopupToggle={this.handlePopupToggle}\n            openPopup={this.state.openPopup}\n            organization={organization}\n            selectedIssue={selectedIssue}\n          />\n        )}\n\n        {paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n\n        {noIssuesMessage}\n      </div>\n    );\n  }\n\n  renderShortcutsForLocations() {\n    const { openIssue } = this.state;\n    if (!openIssue || (!openIssue.secondaryLocations.length && !openIssue.flows.length)) {\n      return null;\n    }\n    const hasSeveralFlows = openIssue.flows.length > 1;\n    return (\n      <div className=\"pull-right note\">\n        <span className=\"shortcut-button little-spacer-right\">alt</span>\n        <span className=\"little-spacer-right\">{'+'}</span>\n        <span className=\"shortcut-button little-spacer-right\">↑</span>\n        <span className=\"shortcut-button little-spacer-right\">↓</span>\n        {hasSeveralFlows && (\n          <span>\n            <span className=\"shortcut-button little-spacer-right\">←</span>\n            <span className=\"shortcut-button little-spacer-right\">→</span>\n          </span>\n        )}\n        {translate('issues.to_navigate_issue_locations')}\n      </div>\n    );\n  }\n\n  renderPage() {\n    const { checkAll, loading, openIssue, paging } = this.state;\n    return (\n      <div className=\"layout-page-main-inner\">\n        {openIssue ? (\n          <IssuesSourceViewer\n            branchLike={fillBranchLike(openIssue.branch, openIssue.pullRequest)}\n            loadIssues={this.fetchIssuesForComponent}\n            locationsNavigator={this.state.locationsNavigator}\n            onIssueChange={this.handleIssueChange}\n            onIssueSelect={this.openIssue}\n            onLocationSelect={this.selectLocation}\n            openIssue={openIssue}\n            selectedFlowIndex={this.state.selectedFlowIndex}\n            selectedLocationIndex={this.state.selectedLocationIndex}\n          />\n        ) : (\n          <DeferredSpinner loading={loading}>\n            {checkAll &&\n              paging &&\n              paging.total > MAX_PAGE_SIZE && (\n                <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                  <FormattedMessage\n                    defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                    id=\"issue_bulk_change.max_issues_reached\"\n                    values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n                  />\n                </Alert>\n              )}\n            {this.renderList()}\n          </DeferredSpinner>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    return (\n      <div className=\"layout-page issues\" id=\"issues-page\">\n        <Suggestions suggestions=\"issues\" />\n        <Helmet title={openIssue ? openIssue.message : translate('issues.page')} />\n\n        {this.renderSide(openIssue)}\n\n        <div className=\"layout-page-main\">\n          <div className=\"layout-page-header-panel layout-page-main-header issues-main-header\">\n            <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n              <div className=\"layout-page-main-inner\">\n                {this.renderBulkChange(openIssue)}\n                {openIssue ? (\n                  <div className=\"pull-left width-60\">\n                    <ComponentBreadcrumbs\n                      component={component}\n                      issue={openIssue}\n                      organization={this.props.organization}\n                      selectedFlowIndex={this.state.selectedFlowIndex}\n                      selectedLocationIndex={this.state.selectedLocationIndex}\n                    />\n                  </div>\n                ) : (\n                  <PageActions\n                    canSetHome={Boolean(\n                      !this.props.organization &&\n                        !this.props.component &&\n                        (!isSonarCloud() || this.props.myIssues)\n                    )}\n                    effortTotal={this.state.effortTotal}\n                    onReload={this.handleReload}\n                    paging={paging}\n                    selectedIndex={selectedIndex}\n                  />\n                )}\n                {this.renderShortcutsForLocations()}\n              </div>\n            </div>\n          </div>\n\n          {this.renderPage()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nconst CLASS_SIDEBAR_PAGE = 'sidebar-page';\nconst CLASS_WHITE_PAGE = 'white-page';\n\nexport function addSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\n\nexport function addWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\n\nexport function removeSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\n\nexport function removeWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\n\nfunction toggleBodyClass(className: string, force?: boolean) {\n  document.body.classList.toggle(className, force);\n  if (document.documentElement) {\n    document.documentElement.classList.toggle(className, force);\n  }\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function collapsePath(path: string, limit = 30): string {\n  if (typeof path !== 'string') {\n    return '';\n  }\n\n  const tokens = path.split('/');\n\n  if (tokens.length <= 2) {\n    return path;\n  }\n\n  const head = tokens[0];\n  const tail = tokens[tokens.length - 1];\n  const middle = tokens.slice(1, -1);\n  let cut = false;\n\n  while (middle.join().length > limit && middle.length > 0) {\n    middle.shift();\n    cut = true;\n  }\n\n  const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n  return body.join('/');\n}\n\n/**\n * Return a collapsed path without a file name\n * @example\n * // returns 'src/.../js/components/navigator/app/models/'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function collapsedDirFromPath(path: string | null): string | null {\n  const limit = 30;\n  if (typeof path === 'string') {\n    const tokens = path.split('/').slice(0, -1);\n    if (tokens.length > 2) {\n      const head = tokens[0];\n      const tail = tokens[tokens.length - 1];\n      const middle = tokens.slice(1, -1);\n\n      let cut = false;\n      while (middle.join().length > limit && middle.length > 0) {\n        middle.shift();\n        cut = true;\n      }\n      const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n      return body.join('/') + '/';\n    } else {\n      return tokens.join('/') + '/';\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return a file name for a given file path\n * * @example\n * // returns 'state.js'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function fileFromPath(path: string | null): string | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return tokens[tokens.length - 1];\n  } else {\n    return null;\n  }\n}\n\nexport function splitPath(path: string) {\n  const tokens = path.split('/');\n  return {\n    head: tokens.slice(0, -1).join('/'),\n    tail: tokens[tokens.length - 1]\n  };\n}\n\nexport function limitComponentName(str: string, limit = 30): string {\n  if (typeof str === 'string') {\n    return str.length > limit ? str.substr(0, limit) + '...' : str;\n  } else {\n    return '';\n  }\n}\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added\n * @returns {Date} the new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * var result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nfunction addMonths (dirtyDate, dirtyAmount) {\n  var date = parse(dirtyDate)\n  var amount = Number(dirtyAmount)\n  var desiredMonth = date.getMonth() + amount\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(date.getFullYear(), desiredMonth, 1)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(desiredMonth, Math.min(daysInMonth, date.getDate()))\n  return date\n}\n\nmodule.exports = addMonths\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * var result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nfunction getDaysInMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  var monthIndex = date.getMonth()\n  var lastDayOfMonth = new Date(0)\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0)\n  lastDayOfMonth.setHours(0, 0, 0, 0)\n  return lastDayOfMonth.getDate()\n}\n\nmodule.exports = getDaysInMonth\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: { [rule: string]: T.RuleActivation[] };\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: T.Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    error => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (error && error.response && error.response.status === 409) {\n        return Promise.reject(error.response);\n      } else {\n        return throwGlobalError(error);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from './getHistory';\n\nexport default function handleRequiredAuthentication() {\n  const history = getHistory();\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from '../icons-components/OpenCloseIcon';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { Button } from '../ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  clearLabel?: string;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge badge-secondary is-rounded text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate(this.props.clearLabel || 'clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function FacetItemsList(props: Props) {\n  return <div className=\"search-navigator-facet-list\">{props.children}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} month - the month of the new date\n * @returns {Date} the new date with the month setted\n *\n * @example\n * // Set February to 1 September 2014:\n * var result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nfunction setMonth (dirtyDate, dirtyMonth) {\n  var date = parse(dirtyDate)\n  var month = Number(dirtyMonth)\n  var year = date.getFullYear()\n  var day = date.getDate()\n\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(year, month, 15)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(month, Math.min(day, daysInMonth))\n  return date\n}\n\nmodule.exports = setMonth\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightcon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...props }: Props) {\n  return open ? <ChevronDownIcon {...props} /> : <ChevronRightIcon {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess &&\n          allShown && (\n            <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n              {translate('show_less')}\n            </a>\n          )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\nimport { Alert } from '../ui/Alert';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport ListFooter from '../controls/ListFooter';\nimport SearchBox from '../controls/SearchBox';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\nimport { queriesEqual, RawQuery } from '../../helpers/query';\nimport { translate } from '../../helpers/l10n';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<{ [x: string]: number }>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: { [x: string]: string | string[] }) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: { [x: string]: number } | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: { [key: string]: number };\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else this.props.onChange({ [this.props.property]: [] });\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(Object.keys(stats), key => -stats[key], key => this.props.getFacetItemText(key));\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\">⋯</div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults &&\n          this.state.showFullList && (\n            <Alert className=\"spacer-top\" variant=\"warning\">\n              {translate('facet_might_have_more_results')}\n            </Alert>\n          )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open &&\n          !disabled && (\n            <>\n              {this.renderSearch()}\n              {showList ? this.renderList() : this.renderSearchResults()}\n              <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n            </>\n          )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} year - the year of the new date\n * @returns {Date} the new date with the year setted\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * var result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nfunction setYear (dirtyDate, dirtyYear) {\n  var date = parse(dirtyDate)\n  var year = Number(dirtyYear)\n  date.setFullYear(year)\n  return date\n}\n\nmodule.exports = setYear\n","var addMonths = require('../add_months/index.js')\n\n/**\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted\n * @returns {Date} the new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * var result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction subMonths (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMonths(dirtyDate, -amount)\n}\n\nmodule.exports = subMonths\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronLeftIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.date-input-control {\\n  position: relative;\\n  display: inline-block;\\n  cursor: pointer;\\n}\\n\\n.date-input-control-input {\\n  width: 130px;\\n  padding-left: 24px !important;\\n  cursor: pointer;\\n}\\n\\n.date-input-control-input.is-filled {\\n  padding-right: 16px !important;\\n}\\n\\n.date-input-control-icon {\\n  position: absolute;\\n  top: 4px;\\n  left: 4px;\\n}\\n\\n.date-input-control-icon path {\\n  fill: #cdcdcd;\\n  transition: fill 0.3s ease;\\n}\\n\\n.date-input-control-input:focus + .date-input-control-icon path {\\n  fill: #4b9fd5;\\n}\\n\\n.date-input-control-reset {\\n  position: absolute;\\n  top: 4px;\\n  right: 4px;\\n  border: none;\\n}\\n\\n.date-input-calendar {\\n  position: absolute;\\n  z-index: 7500;\\n  top: 100%;\\n  left: 0;\\n  border: 1px solid #e6e6e6;\\n  background-color: #fff;\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\\n}\\n\\n.date-input-calendar-nav {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding-top: 8px;\\n  padding-left: 8px;\\n  padding-right: 8px;\\n}\\n\\n.date-input-calender-month {\\n}\\n\\n.date-input-calender-month-select {\\n  width: 70px;\\n}\\n\\n.button.boolean-toggle {\\n  display: inline-block;\\n  vertical-align: middle;\\n  width: 48px;\\n  height: 24px;\\n  padding: 1px;\\n  border: 1px solid #cdcdcd;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n  background-color: #fff;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\n\\n.button.boolean-toggle:hover {\\n  background-color: #fff;\\n}\\n\\n.button.boolean-toggle:focus {\\n  border-color: #4b9fd5;\\n  background-color: #f6f6f6;\\n}\\n\\n.boolean-toggle-handle {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: 20px;\\n  height: 20px;\\n  border: 1px solid #cdcdcd;\\n  border-radius: 22px;\\n  box-sizing: border-box;\\n  background-color: #f6f6f6;\\n  transition: transform 0.3s cubic-bezier(0.87, -0.41, 0.19, 1.44), border 0.3s ease;\\n}\\n\\n.boolean-toggle-handle > * {\\n  opacity: 0;\\n  transition: opacity 0.3s ease;\\n}\\n\\n.button.boolean-toggle-on {\\n  border-color: #236a97;\\n  background-color: #236a97;\\n  color: #236a97;\\n}\\n\\n.button.boolean-toggle-on:hover {\\n  background-color: #236a97;\\n}\\n\\n.button.boolean-toggle-on:focus {\\n  background-color: #236a97;\\n}\\n\\n.button.boolean-toggle-on .boolean-toggle-handle {\\n  border-color: #f6f6f6;\\n  transform: translateX(24px);\\n}\\n\\n.button.boolean-toggle-on .boolean-toggle-handle > * {\\n  opacity: 1;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport function highlightTerm(str: string, term: string) {\n  const pos = str.toLowerCase().indexOf(term.toLowerCase());\n  return pos !== -1 ? (\n    <>\n      {pos > 0 && str.substring(0, pos)}\n      <mark>{str.substr(pos, term.length)}</mark>\n      {pos + term.length < str.length && str.substring(pos + term.length)}\n    </>\n  ) : (\n    str\n  );\n}\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.DayPicker {\\n  display: inline-block;\\n}\\n\\n.DayPicker-wrapper {\\n  position: relative;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  padding-bottom: 8px;\\n  flex-direction: row;\\n}\\n\\n.DayPicker-Months {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n}\\n\\n.DayPicker-Month {\\n  display: table;\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin: 0 8px;\\n  margin-top: 8px;\\n}\\n\\n.DayPicker-Weekdays {\\n  display: table-header-group;\\n}\\n\\n.DayPicker-WeekdaysRow {\\n  display: table-row;\\n}\\n\\n.DayPicker-Weekday {\\n  display: table-cell;\\n  padding: 8px;\\n  font-size: 12px;\\n  text-align: center;\\n  color: #999;\\n}\\n\\n.DayPicker-Weekday abbr[title] {\\n  border-bottom: none;\\n  text-decoration: none;\\n}\\n\\n.DayPicker-Body {\\n  display: table-row-group;\\n}\\n\\n.DayPicker-Week {\\n  display: table-row;\\n}\\n\\n.DayPicker-Day {\\n  display: table-cell;\\n  line-height: 15px;\\n  padding: 8px;\\n  text-align: center;\\n  cursor: pointer;\\n  vertical-align: top;\\n  outline: none;\\n}\\n\\n.DayPicker--interactionDisabled .DayPicker-Day {\\n  cursor: default;\\n}\\n\\n.DayPicker-Footer {\\n  padding-top: 8px;\\n}\\n\\n/* Default modifiers */\\n\\n.DayPicker-Day--today {\\n  font-weight: bold;\\n}\\n\\n.DayPicker-Day--outside {\\n  cursor: default;\\n  color: #8b9898;\\n}\\n\\n.DayPicker-Day--disabled {\\n  color: #cdcdcd;\\n  cursor: not-allowed;\\n}\\n\\n/* Example modifiers */\\n\\n.DayPicker-Day--sunday {\\n  background-color: #f7f8f8;\\n}\\n\\n.DayPicker-Day--sunday:not(.DayPicker-Day--today) {\\n  color: #dce0e0;\\n}\\n\\n.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {\\n  background-color: #4b9fd5;\\n  color: #fff;\\n}\\n\\n.DayPicker:not(.DayPicker--interactionDisabled)\\n  .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover {\\n  background-color: #f3f3f3;\\n}\\n\\n.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside) {\\n  background-color: #cae3f2;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n/* TODO this file is HUGE and should be cut into smaller components */\\n\\n.search-navigator.sticky .search-navigator-workspace-header {\\n  position: fixed;\\n  z-index: 50;\\n  top: 0;\\n  left: 300px;\\n  right: 0;\\n}\\n\\n.search-navigator.sticky .search-navigator-workspace-list,\\n.search-navigator.sticky .search-navigator-workspace-details {\\n  padding-top: 43px;\\n}\\n\\n.search-navigator-facet-box {\\n  background-color: #f3f3f3;\\n  font-size: 13px;\\n}\\n\\n.search-navigator-facet-box.leak-facet-box {\\n  background-color: #fbf3d5;\\n  border: 1px solid #eae3c7;\\n}\\n\\n.search-navigator-facet-box.is-inner {\\n  margin-left: 8px;\\n  padding-left: 12px;\\n  border-left: 1px solid #e6e6e6;\\n}\\n\\n.search-navigator-facet-box.is-inner .search-navigator-facet-header {\\n  padding-top: 6px;\\n  padding-bottom: 6px;\\n}\\n\\n.leak-facet-box:not(.hidden) + .leak-facet-box {\\n  border-top: none;\\n}\\n\\n.search-navigator-facet-box-forbidden {\\n  background-color: transparent;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-list,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-empty,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-container {\\n  display: none;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  cursor: default;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box > .spinner {\\n  float: right;\\n  margin-top: -24px;\\n}\\n\\n.search-navigator-facet {\\n  position: relative;\\n  display: inline-flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  width: 100%;\\n  height: 24px;\\n  margin: 0 0 1px 0;\\n  padding: 0 6px;\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n  white-space: normal;\\n  opacity: 0.3;\\n  cursor: not-allowed;\\n  transition: none;\\n}\\n\\na.search-navigator-facet {\\n  opacity: 1;\\n  cursor: pointer;\\n}\\n\\na.search-navigator-facet .facet-name {\\n  color: #444;\\n}\\n\\na.search-navigator-facet:hover,\\na.search-navigator-facet:focus,\\n.search-navigator-facet.active {\\n  border-color: #4b9fd5;\\n}\\n\\n.search-navigator-facet.facet-category {\\n  opacity: 1;\\n  cursor: default;\\n}\\n\\n.search-navigator-facet.facet-category .facet-name {\\n  color: #777;\\n}\\n\\n.search-navigator-facet .facet-name {\\n  flex: 1 1 auto;\\n  min-width: 0;\\n  line-height: 16px;\\n  padding: 1px 0; /* needed to fit small ratings and levels */\\n  color: #777;\\n  font-size: 12px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.search-navigator-facet .facet-stat {\\n  display: flex;\\n  align-items: center;\\n  margin-left: 8px;\\n  color: #777;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-facet .facet-toggle {\\n  display: none;\\n  float: left;\\n  height: 16px;\\n  line-height: 16px;\\n  margin-top: -1px;\\n  padding: 0 5px;\\n  border-radius: 2px;\\n  font-size: 11px;\\n  text-transform: lowercase;\\n}\\n\\n.search-navigator-facet .facet-toggle:hover {\\n  color: #444;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-red {\\n  background-color: #d4333f;\\n  color: #ffffff;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-name {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat:before {\\n  background-image: linear-gradient(to right, rgba(251, 243, 213, 0), #fbf3d5 75%);\\n}\\n\\n.search-navigator-facet.active {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet.active .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-red {\\n  background-color: transparent;\\n  color: #777;\\n}\\n\\n.search-navigator-facet-half {\\n  width: 45%;\\n}\\n\\n.search-navigator-facet-half:nth-child(odd) {\\n  margin-right: 10%;\\n}\\n\\n.search-navigator-facet-highlight-under-container {\\n  margin-bottom: 1px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet {\\n  margin-bottom: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active {\\n  border-bottom: none;\\n  padding-bottom: 1px;\\n  border-radius: 2px 2px 0 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  border-top: none;\\n  border-bottom: none;\\n  border-left-color: #4b9fd5;\\n  border-right-color: #4b9fd5;\\n  border-radius: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet:last-of-type,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 0 0 2px 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet.active {\\n  border-top: 1px solid #4b9fd5;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet {\\n  background-color: #a1cde8;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  .facet-toggle,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-header {\\n  display: block;\\n  flex-shrink: 0;\\n  padding: 8px 0;\\n  color: #444;\\n  font-weight: 600;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-header > a {\\n  border-bottom: none;\\n  color: #444;\\n}\\n\\n.search-navigator-facet-header > a:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-header > .note {\\n  font-weight: 400;\\n}\\n\\n.search-navigator-facet-header-value {\\n  display: block;\\n  overflow: hidden;\\n}\\n\\n.search-navigator-facet-header-value > .badge {\\n  display: block;\\n}\\n\\n.search-navigator-facet-header-button {\\n  flex-shrink: 0;\\n  margin-left: auto;\\n}\\n\\n.search-navigator-facet-header-wrapper {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.search-navigator-facet-list {\\n  padding-bottom: 8px;\\n  font-size: 0;\\n}\\n\\n.search-navigator-facet-empty {\\n  margin: 0 0 0 0;\\n  padding: 0 10px 10px;\\n  color: #444;\\n  font-size: 12px;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-footer {\\n  display: block;\\n  padding-bottom: 8px;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-facet-container {\\n  margin-top: 6px;\\n  padding: 0 10px 16px;\\n}\\n\\n.search-navigator-date-facet-selection {\\n  position: relative;\\n  padding-left: 8px;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-date-facet-selection:before,\\n.search-navigator-date-facet-selection:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-date-facet-selection:after {\\n  clear: both;\\n}\\n\\n.search-navigator-date-facet-selection .date-input-control-input {\\n  width: 115px !important;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-left {\\n  float: left;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-right {\\n  float: right;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-input-left {\\n  position: absolute;\\n  left: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection-input-right {\\n  position: absolute;\\n  right: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection\\n  .date-input-control:not(:nth-of-type(1))\\n  .date-input-calendar {\\n  left: auto;\\n  right: 0;\\n}\\n\\n.search-navigator-filters {\\n  position: relative;\\n  padding: 5px 10px;\\n  background-color: #f3f3f3;\\n}\\n\\n.search-navigator-filters:before,\\n.search-navigator-filters:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-filters:after {\\n  clear: both;\\n}\\n\\n.search-navigator-filters-header {\\n  margin-bottom: 12px;\\n  padding-bottom: 11px;\\n  border-bottom: 1px solid #e6e6e6;\\n}\\n.search-navigator-intro {\\n  width: 500px;\\n  margin: 0 auto;\\n  padding-top: 100px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CalendarIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { range } from 'lodash';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport OutsideClickHandler from './OutsideClickHandler';\nimport Select from './Select';\nimport { lazyLoad } from '../lazyLoad';\nimport * as theme from '../../app/theme';\nimport CalendarIcon from '../icons-components/CalendarIcon';\nimport ChevronLeftIcon from '../icons-components/ChevronLeftIcon';\nimport ChevronRightIcon from '../icons-components/ChevronRightcon';\nimport ClearIcon from '../icons-components/ClearIcon';\nimport { ButtonIcon } from '../ui/buttons';\nimport { getShortMonthName, getWeekDayName, getShortWeekDayName } from '../../helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoad(() => import('react-day-picker'));\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ButtonIcon\n              className=\"button-tiny date-input-control-reset\"\n              color={theme.gray60}\n              onClick={this.handleResetClick}>\n              <ClearIcon size={12} />\n            </ButtonIcon>\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../lazyLoad';\n\nconst SourceViewer = lazyLoad(() => import(/* webpackPrefetch: true */ './SourceViewerBase'));\nexport default SourceViewer;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getOrganizationByKey, areThereCustomOrganizations, Store } from '../../store/rootReducer';\nimport OrganizationLink from '../ui/OrganizationLink';\n\ninterface OwnProps {\n  organizationKey: string;\n}\n\ninterface Props {\n  link?: boolean;\n  linkClassName?: string;\n  organization: { key: string; name: string } | null;\n  shouldBeDisplayed?: boolean;\n}\n\nfunction Organization(props: Props) {\n  const { link = true, organization, shouldBeDisplayed } = props;\n\n  if (!shouldBeDisplayed || !organization) {\n    return null;\n  }\n\n  return (\n    <span>\n      {link ? (\n        <OrganizationLink className={props.linkClassName} organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n      ) : (\n        organization.name\n      )}\n      <span className=\"slash-separator\" />\n    </span>\n  );\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  organization: getOrganizationByKey(state, ownProps.organizationKey),\n  shouldBeDisplayed: areThereCustomOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(Organization);\n\nexport const UnconnectedOrganization = Organization;\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.bar-chart-bar {\\n  fill: #4b9fd5;\\n}\\n\\n.bar-chart-tick {\\n  fill: #777;\\n  font-size: 12px;\\n  text-anchor: middle;\\n}\\n\", \"\"]);\n\n// exports\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DateInput from './DateInput';\nimport { translate } from '../../helpers/l10n';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.setState({ to });\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          maxDate={this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={this.from}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\ninterface Props {\n  className?: string;\n  status: string;\n}\n\nconst statusIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  open: OpenStatusIcon,\n  confirmed: ConfirmedStatusIcon,\n  reopened: ReopenedStatusIcon,\n  resolved: ResolvedStatusIcon,\n  closed: ClosedStatusIcon\n};\n\nexport default function StatusIcon(props: Props) {\n  const status = props.status.toLowerCase();\n  const Icon = statusIcons[status];\n  return Icon ? <Icon className={props.className} /> : null;\n}\n\nfunction OpenStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ConfirmedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ReopenedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ResolvedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n\nfunction ClosedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from '../icons-components/StatusIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function EllipsisIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M5.273 7.182v1.636a.818.818 0 0 1-.818.818H2.818A.818.818 0 0 1 2 8.818V7.182c0-.452.366-.818.818-.818h1.637c.451 0 .818.366.818.818zm4.363 0v1.636a.818.818 0 0 1-.818.818H7.182a.818.818 0 0 1-.818-.818V7.182c0-.452.366-.818.818-.818h1.636c.452 0 .818.366.818.818zm4.364 0v1.636a.818.818 0 0 1-.818.818h-1.637a.818.818 0 0 1-.818-.818V7.182c0-.452.367-.818.818-.818h1.637c.452 0 .818.366.818.818z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  checked: boolean;\n  className?: string;\n  onCheck: (value: string) => void;\n  value: string;\n}\n\nexport default class Radio extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onCheck(this.props.value);\n  };\n\n  render() {\n    return (\n      <a\n        aria-checked={this.props.checked}\n        className={classNames('display-inline-flex-center link-checkbox', this.props.className)}\n        href=\"#\"\n        onClick={this.handleClick}\n        role=\"radio\">\n        <i\n          className={classNames('icon-radio', 'spacer-right', {\n            'is-checked': this.props.checked\n          })}\n        />\n        {this.props.children}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport type StandardType = 'owaspTop10' | 'sansTop25' | 'cwe';\n\nexport interface Standards {\n  owaspTop10: { [x: string]: { title: string; description?: string } };\n  sansTop25: { [x: string]: { title: string; description?: string } };\n  cwe: { [x: string]: { title: string; description?: string } };\n}\n\nexport function renderOwaspTop10Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderCWECategory(standards: Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.multiple-selection-hint {\\n  margin-top: 8px;\\n  margin-bottom: 8px;\\n  text-align: center;\\n}\\n\\n.multiple-selection-hint-inner {\\n  display: inline-block;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  background-color: #e6e6e6;\\n  text-align: center;\\n  padding: 0 8px;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../ui/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.location-index {\\n  position: relative;\\n  display: inline-block;\\n  vertical-align: top;\\n  line-height: 16px;\\n  padding-left: 6px;\\n  padding-right: 6px;\\n  border-radius: 2px;\\n  background-color: #d18582;\\n  color: #fff;\\n  font-family: 'Helvetica Neue', 'Segoe UI', Helvetica, Arial, sans-serif;\\n  font-size: 12px;\\n  transition: background-color 0.3s ease;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\\n.location-index.selected {\\n  background-color: #bc5e5e;\\n}\\n\\n.location-index.muted {\\n  background-color: #ccc;\\n}\\n\\n.location-index.is-leading {\\n  position: absolute;\\n  margin: 1px 0 0 -4px !important;\\n  transform: translateX(-100%);\\n}\\n\\n.location-index[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.location-index[tabindex]:hover,\\na:hover > .location-index {\\n  background-color: #bc5e5e;\\n}\\n\\n.location-index[tabindex]:focus {\\n  outline: none;\\n}\\n\\n.source-line-code-inner .location-index {\\n  line-height: 16px;\\n  margin: 1px;\\n  margin-left: 4px;\\n  margin-right: 4px;\\n}\\n\\n.source-line-code-inner .location-index + .location-index {\\n  margin-left: 0;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.issue {\\n  position: relative;\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n  background-color: #ffeaea;\\n  box-shadow: inset 0px 0px 0px 1px #ffeaea;\\n  transition: all 0.3s ease, border 0 ease;\\n}\\n\\n.issue.selected {\\n  box-shadow: none;\\n  border: 1px solid #dd4040 !important;\\n}\\n\\n.issue + .issue,\\n.issue-container + .issue-container {\\n  margin-top: 5px;\\n}\\n\\n.issue.selected + .issue {\\n  border-top-color: transparent;\\n}\\n\\n.issue-row {\\n  display: flex;\\n  margin-bottom: 5px;\\n}\\n\\n.issue-row-meta {\\n  flex-grow: 0;\\n  padding-right: 5px;\\n  white-space: nowrap;\\n}\\n\\n.issue-message {\\n  flex-grow: 1;\\n  padding-left: 8px;\\n  padding-right: 8px;\\n  line-height: 1.5;\\n  font-size: 13px;\\n  font-weight: 600;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n\\n.issue-message .button-link {\\n  height: 16px;\\n}\\n\\n.issue-rule {\\n  vertical-align: top;\\n  margin-top: 2px;\\n  padding: 0 3px;\\n  background: rgba(75, 159, 213, 0.3);\\n  opacity: 0.5;\\n}\\n\\n.issue-rule:hover {\\n  background: rgba(75, 159, 213, 0.3);\\n}\\n\\n.issue-actions {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  padding-left: 8px;\\n}\\n\\n.issue-meta-list {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.issue-meta {\\n  line-height: 16px;\\n  font-size: 12px;\\n}\\n\\n.issue-meta + .issue-meta {\\n  margin-left: 8px;\\n}\\n\\n.issue-meta-label {\\n  display: inline-block;\\n  vertical-align: top;\\n  max-width: 180px;\\n  line-height: 16px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.issue-changelog {\\n  width: 450px;\\n  max-height: 320px;\\n  overflow: auto;\\n  white-space: normal;\\n}\\n\\n.issue-comments {\\n  margin-top: 5px;\\n  padding-left: 8px;\\n  font-size: 12px;\\n}\\n\\n.issue-comment {\\n  display: flex;\\n}\\n\\n.issue-comment + .issue-comment {\\n  margin-top: 4px;\\n}\\n\\n.issue-comment-author {\\n  flex-shrink: 0;\\n  max-width: 130px;\\n  line-height: 18px;\\n  color: #777;\\n  font-weight: 600;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.issue-comment-age {\\n  flex-shrink: 0;\\n  line-height: 18px;\\n  white-space: nowrap;\\n  color: #777;\\n}\\n\\n.issue-comment-text {\\n  flex: 1;\\n  min-width: 0;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n  line-height: 18px;\\n  line-height: 1.5;\\n  overflow: hidden;\\n  outline: none;\\n  word-break: break-all;\\n}\\n\\n.issue-comment-actions {\\n  flex-shrink: 0;\\n  padding-left: 5px;\\n  line-height: 18px;\\n  white-space: nowrap;\\n}\\n\\n.issue-comment-bubble-popup {\\n  width: 440px;\\n  font-size: 12px;\\n}\\n\\n.issue-comment-form-text textarea {\\n  width: 100%;\\n  max-width: 100%;\\n}\\n\\n.issue-comment-form-footer {\\n  margin-top: 5px;\\n  line-height: 22px;\\n}\\n\\n.issue-comment-form-footer:before,\\n.issue-comment-form-footer:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.issue-comment-form-footer:after {\\n  clear: both;\\n}\\n\\n.issue-comment-form-actions {\\n  float: right;\\n}\\n\\n.issue-comment-form-tips {\\n  float: left;\\n}\\n\\n.issue-with-checkbox {\\n  padding-left: 24px;\\n}\\n\\n.issue-with-checkbox .issue-checkbox-container {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.issue-checkbox-container {\\n  display: none;\\n  position: absolute;\\n  width: 29px;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  border: none;\\n}\\n\\n.issue-checkbox-container:hover {\\n  background-color: rgba(0, 0, 0, 0.05);\\n}\\n\\n.issue:not(.selected) .location-index {\\n  background-color: #ccc;\\n}\\n\\n.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog) {\\n  max-height: 120px;\\n  overflow: auto;\\n}\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.empty-search {\\n  padding: 60px 0;\\n  border: 1px solid #e6e6e6;\\n  border-radius: 2px;\\n  color: #777;\\n  text-align: center;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.location-message {\\n  display: inline-block;\\n  vertical-align: top;\\n  line-height: 16px;\\n  padding: 0 6px;\\n  border-radius: 2px;\\n  background-color: #9e9e9e;\\n  color: #fff;\\n  font-family: 'Helvetica Neue', 'Segoe UI', Helvetica, Arial, sans-serif;\\n  font-size: 12px;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  transition: background-color 0.3s ease;\\n}\\n\\n.location-message.selected {\\n  background-color: #475760;\\n}\\n\\n.location-index + .location-message {\\n  margin-left: 4px;\\n}\\n\\n.location-index > .location-message {\\n  position: absolute;\\n  bottom: calc(100% + 4px);\\n  left: 0;\\n}\\n\\n.location-index > .location-message::after {\\n  position: absolute;\\n  bottom: -5px;\\n  left: 4px;\\n  width: 0;\\n  height: 0;\\n  border-top: 5px solid #475760;\\n  border-left: 5px solid transparent;\\n  border-right: 5px solid transparent;\\n  content: '';\\n}\\n\\n.source-line-code .location-message {\\n  padding-top: 2px;\\n  padding-bottom: 2px;\\n}\\n\", \"\"]);\n\n// exports\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseIssueFromResponse } from '../../helpers/issues';\nimport { IssueResponse } from '../../api/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    () => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\nexport interface ChangelogDiff {\n  key: string;\n  newValue?: string;\n  oldValue?: string;\n}\n\ninterface Props {\n  diff: ChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_long_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_long_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_short_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getIssueChangelog } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport IssueChangelogDiff, { ChangelogDiff } from '../components/IssueChangelogDiff';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Changelog {\n  avatar?: string;\n  creationDate: string;\n  diffs: ChangelogDiff[];\n  user: string;\n  userName: string;\n}\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelogs: Changelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    changelogs: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      changelogs => {\n        if (this.mounted) {\n          this.setState({ changelogs });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelogs.map((item, idx) => (\n                <tr key={idx}>\n                  <td className=\"thin text-left text-top nowrap\">\n                    <DateTimeFormatter date={item.creationDate} />\n                  </td>\n                  <td className=\"text-left text-top\">\n                    {item.userName && (\n                      <p>\n                        <Avatar\n                          className=\"little-spacer-right\"\n                          hash={item.avatar}\n                          name={item.userName}\n                          size={16}\n                        />\n                        {item.userName}\n                      </p>\n                    )}\n                    {item.diffs.map(diff => (\n                      <IssueChangelogDiff diff={diff} key={diff.key} />\n                    ))}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChangelogPopup from '../popups/ChangelogPopup';\nimport DateFromNow from '../../intl/DateFromNow';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport Toggler from '../../controls/Toggler';\nimport Tooltip from '../../controls/Tooltip';\nimport { ButtonLink } from '../../ui/buttons';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <Tooltip\n            mouseEnterDelay={0.5}\n            overlay={<DateTimeFormatter date={this.props.creationDate} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-show-changelog\"\n              onClick={this.handleClick}>\n              <span className=\"issue-meta-label\">\n                <DateFromNow date={this.props.creationDate} />\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Tooltip>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport EllipsisIcon from '../../icons-components/EllipsisIcon';\nimport Tooltip from '../../controls/Tooltip';\nimport { ButtonLink } from '../../ui/buttons';\nimport { WorkspaceContextShape } from '../../workspace/context';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  engine?: string;\n  manualVulnerability: boolean;\n  message: string;\n  openRule: WorkspaceContextShape['openRule'];\n  organization: string;\n  rule: string;\n}\n\nexport default class IssueMessage extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.openRule({\n      key: this.props.rule,\n      organization: this.props.organization\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"issue-message\">\n        {this.props.message}\n        <ButtonLink\n          aria-label={translate('issue.rule_details')}\n          className=\"issue-rule little-spacer-left\"\n          onClick={this.handleClick}>\n          <EllipsisIcon />\n        </ButtonLink>\n        {this.props.engine && (\n          <Tooltip\n            overlay={translateWithParameters('issue.from_external_rule_engine', this.props.engine)}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {this.props.engine}\n            </div>\n          </Tooltip>\n        )}\n        {this.props.manualVulnerability && (\n          <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {translate('issue.manual_vulnerability')}\n            </div>\n          </Tooltip>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Tooltip from '../controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: string;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames({ active: this.props.active === this.props.item })}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport classNames from 'classnames';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport QualifierIcon from '../../icons-components/QualifierIcon';\nimport TagsIcon from '../../icons-components/TagsIcon';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport Avatar from '../../ui/Avatar';\nimport { translate } from '../../../helpers/l10n';\nimport { fileFromPath, limitComponentName } from '../../../helpers/path';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper resolution={undefined} status={issue.status} />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {issue.assignee != null ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={issue.assigneeName || issue.assignee}\n                  size={16}\n                />\n                {issue.assigneeName || issue.assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport FilterIcon from '../../icons-components/FilterIcon';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\nimport Toggler from '../../controls/Toggler';\nimport { ButtonLink } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <ButtonLink\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"issue-action issue-action-with-options js-issue-filter\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\nimport LinkIcon from '../../icons-components/LinkIcon';\nimport LocationIndex from '../../common/LocationIndex';\nimport Tooltip from '../../controls/Tooltip';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { WorkspaceContext } from '../../workspace/context';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: Props) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            openRule={openRule}\n            organization={issue.organization}\n            rule={issue.rule}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { map } from 'lodash';\nimport { connect } from 'react-redux';\nimport Avatar from '../../ui/Avatar';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SearchBox from '../../controls/SearchBox';\nimport { searchMembers } from '../../../api/organizations';\nimport { searchUsers } from '../../../api/users';\nimport { translate } from '../../../helpers/l10n';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn } from '../../../helpers/users';\n\ninterface User {\n  avatar?: string;\n  email?: string;\n  login: string;\n  name: string;\n}\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  issue: Pick<T.Issue, 'projectOrganization'>;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: User[];\n}\n\nconst LIST_SIZE = 10;\n\nclass SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: User[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchMembers = (query: string) => {\n    searchMembers({\n      organization: this.props.issue.projectOrganization,\n      q: query,\n      ps: LIST_SIZE\n    }).then(this.handleSearchResult, () => {});\n  };\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = (response: { users: T.OrganizationMember[] }) => {\n    this.setState({\n      users: response.users,\n      currentUser: response.users.length > 0 ? response.users[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      if (isSonarCloud()) {\n        this.searchMembers(query);\n      } else {\n        this.searchUsers(query);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span\n                  className=\"vertical-middle\"\n                  style={{ marginLeft: !user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Avatar from '../../ui/Avatar';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\nimport Toggler from '../../controls/Toggler';\nimport { ButtonLink } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'assignee' | 'assigneeAvatar' | 'assigneeName' | 'projectOrganization'>;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    return (\n      <span>\n        {issue.assignee && (\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n        )}\n        <span className=\"issue-meta-label\">\n          {issue.assignee ? issue.assigneeName || issue.assignee : translate('unassigned')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={<SetAssigneePopup issue={this.props.issue} onSelect={this.props.onAssign} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport MarkdownTips from '../../common/MarkdownTips';\nimport { Button, ResetButtonLink } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n  autoTriggered?: boolean;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment, autoTriggered } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {autoTriggered ? translate('skip') : translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <MarkdownTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CommentPopup from '../popups/CommentPopup';\nimport Toggler from '../../controls/Toggler';\nimport { ButtonLink } from '../../ui/buttons';\nimport { addIssueComment } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\nimport { updateIssue } from '../actions';\n\ninterface Props {\n  commentAutoTriggered?: boolean;\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string, autoTriggered?: boolean) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              autoTriggered={this.props.commentAutoTriggered}\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <ButtonLink className=\"issue-action js-issue-comment\" onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityIcon from '../../icons-components/SeverityIcon';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport Toggler from '../../controls/Toggler';\nimport { ButtonLink } from '../../ui/buttons';\nimport { setIssueSeverity, IssueResponse } from '../../../api/issues';\nimport { RawQuery } from '../../../helpers/query';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { difference, without } from 'lodash';\nimport TagsSelector from '../../tags/TagsSelector';\nimport { searchIssueTags } from '../../../api/issues';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  organization: string;\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\nimport TagsList from '../../tags/TagsList';\nimport Toggler from '../../controls/Toggler';\nimport { ButtonLink } from '../../ui/buttons';\nimport { setIssueTags } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\nimport { updateIssue } from '../actions';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'projectOrganization' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={\n              <SetIssueTagsPopup\n                organization={issue.projectOrganization}\n                selectedTags={tags}\n                setTags={this.setTags}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-edit-tags\"\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\ninterface Props {\n  onSelect: (transition: string) => void;\n  transitions: string[];\n}\n\nexport default function SetTransitionPopup({ onSelect, transitions }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          return (\n            <SelectListItem\n              item={transition}\n              key={transition}\n              title={translate('issue.transition', transition, 'description')}>\n              {translate('issue.transition', transition)}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\nimport StatusHelper from '../../shared/StatusHelper';\nimport Toggler from '../../controls/Toggler';\nimport { ButtonLink } from '../../ui/buttons';\nimport { setIssueTransition } from '../../../api/issues';\nimport { updateIssue } from '../actions';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'resolution' | 'status' | 'transitions'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup onSelect={this.setTransition} transitions={issue.transitions} />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport SetTypePopup from '../popups/SetTypePopup';\nimport Toggler from '../../controls/Toggler';\nimport { ButtonLink } from '../../ui/buttons';\nimport { setIssueType, IssueResponse } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\nimport { updateIssue } from '../actions';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport { IssueResponse } from '../../../api/issues';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentAutoTriggered: boolean;\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentAutoTriggered: false,\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder = '', autoTriggered = false) => {\n    this.setState({\n      commentPlaceholder: placeholder,\n      commentAutoTriggered: autoTriggered\n    });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'), true);\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueAssign\n                canAssign={canAssign}\n                isOpen={this.props.currentPopup === 'assign' && canAssign}\n                issue={issue}\n                onAssign={this.props.onAssign}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          {!isSecurityHotspot &&\n            issue.effort && (\n              <li className=\"issue-meta\">\n                <span className=\"issue-meta-label\">\n                  {translateWithParameters('issue.x_effort', issue.effort)}\n                </span>\n              </li>\n            )}\n          {canComment && (\n            <IssueCommentAction\n              commentAutoTriggered={this.state.commentAutoTriggered}\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Avatar from '../../ui/Avatar';\nimport Toggler from '../../controls/Toggler';\nimport { EditButton, DeleteButton } from '../../ui/buttons';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\nimport DateFromNow from '../../intl/DateFromNow';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={comment.authorName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={comment.authorName || comment.author}\n            size={16}\n          />\n          {comment.authorName || comment.author}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: comment.htmlText }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { updateIssue } from './actions';\nimport IssueTitleBar from './components/IssueTitleBar';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport Checkbox from '../controls/Checkbox';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = (_checked: boolean) => {\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments &&\n          issue.comments.length > 0 && (\n            <div className=\"issue-comments\">\n              {issue.comments.map(comment => (\n                <IssueCommentLine\n                  comment={comment}\n                  key={comment.key}\n                  onDelete={this.deleteComment}\n                  onEdit={this.editComment}\n                />\n              ))}\n            </div>\n          )}\n        {hasCheckbox && (\n          <>\n            <Checkbox\n              checked={this.props.checked || false}\n              className=\"issue-checkbox-container\"\n              onCheck={this.handleCheck}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport IssueView from './IssueView';\nimport { updateIssue } from './actions';\nimport { setIssueAssignee } from '../../api/issues';\nimport './Issue.css';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    displayLocationsCount: true,\n    displayLocationsLink: true,\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', () => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n"],"sourceRoot":""}
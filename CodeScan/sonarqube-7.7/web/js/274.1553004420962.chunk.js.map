{"version":3,"sources":["webpack:///../sonar-docs/src/tooltips/rules/custom-rules.md","webpack:///./src/main/js/apps/coding-rules/styles.css?846f","webpack:///./src/main/js/apps/coding-rules/styles.css","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?7370","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsTagsPopup.tsx","webpack:///./src/main/js/components/icons-components/RuleScopeIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsMeta.tsx","webpack:///./src/main/js/apps/coding-rules/components/RemoveExtendedDescriptionModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsDescription.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationFormModal.tsx","webpack:///../sonar-docs/src/tooltips/rules/rules-quality-profiles.md","webpack:///../sonar-docs/src/tooltips/rules/rule-templates.md","webpack:///./node_modules/lodash/filter.js","webpack:///./node_modules/lodash/_baseFilter.js","webpack:///../sonar-docs/src/tooltips/rules/custom-rule-removal.md","webpack:///./src/main/js/apps/coding-rules/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/BulkChange.tsx","webpack:///./src/main/js/apps/coding-rules/components/Facet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/AvailableSinceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/DefaultSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/InheritanceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/LanguageFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ProfileFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/RepositoryFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/StatusFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TagFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TemplateFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TypeFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/FacetsList.tsx","webpack:///./src/main/js/apps/coding-rules/components/PageActions.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleFormModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsCustomRules.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsIssues.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsParameters.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleInheritanceIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsProfiles.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetails.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleListItem.tsx","webpack:///./src/main/js/apps/coding-rules/components/App.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/helpers/pages.ts","webpack:///./src/main/js/api/quality-profiles.ts","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./src/main/js/components/controls/ConfirmButton.tsx","webpack:///./src/main/js/components/controls/ModalButton.tsx","webpack:///./src/main/js/api/rules.ts","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/helpers/csv.ts","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/icons-components/ChevronDownIcon.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/helpers/strings.ts","webpack:///./src/main/js/components/icons-components/OpenCloseIcon.tsx","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./src/main/js/components/hoc/withAppState.tsx","webpack:///./src/main/js/helpers/search.tsx","webpack:///./src/main/js/components/search-navigator.css?f3f4","webpack:///./src/main/js/components/search-navigator.css","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/apps/quality-profiles/components/BuiltInQualityProfileBadge.tsx","webpack:///../sonar-docs/src/tooltips/quality-profiles/built-in-quality-profile.md","webpack:///./src/main/js/apps/coding-rules/components/SimilarRulesFilter.tsx"],"names":["module","exports","content","__webpack_require__","i","options","hmr","transform","insertInto","undefined","locals","push","d","__webpack_exports__","PageCounter","react__WEBPACK_IMPORTED_MODULE_0__","classnames__WEBPACK_IMPORTED_MODULE_1__","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","_a","className","current","label","total","Object","TypeHelper","_ui_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","props","query","type","FiltersHeader","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","displayReset","onReset","id","onClick","LIST_SIZE","_super","RuleDetailsTagsPopup","_this","apply","this","arguments","mounted","state","searchResult","onSearch","rules","q","ps","Math","min","tags","length","organization","then","setState","without_default","a","concat","sysTags","onSelect","tag","setTags","uniq_default","onUnselect","__extends","prototype","componentDidMount","componentWillUnmount","render","availableTags","difference_default","index_js_exposed","TagsSelector","listSize","selectedTags","RuleScopeIcon","_b","fill","size","Icon","style","EXTERNAL_RULE_REPO_PREFIX","RuleDetailsMeta_RuleDetailsMeta","RuleDetailsMeta","renderType","ruleDetails","Tooltip","overlay","l10n","data-meta","IssueTypeIcon","renderSeverity","SeverityHelper","severity","renderStatus","status","renderTags","canWrite","_c","allTags","Dropdown","closeOnClick","closeOnClickOutside","components_RuleDetailsTagsPopup","onTagsChange","overlayPlacement","popups","BottomLeft","buttons","TagsList","allowUpdate","renderCreationDate","DateFormatter","date","createdAt","renderRepository","referencedRepositories","repository","repo","name","langName","renderTemplate","isTemplate","renderParentTemplate","templateKey","es","to","urls","DocTooltip","doc","Promise","resolve","t","bind","renderRemediation","debtRemFnType","debtRemFnOffset","debtRemFnCoeff","effortToFixDescription","renderScope","scope","renderExternalBadge","engine","replace","RegExp","RuleDetailsMeta_extends","renderKey","displayedKey","key","startsWith","substr","hasTypeData","isExternal","title","LinkIcon","hideSimilarRulesFilter","SimilarRulesFilter","onFilterChange","rule","RemoveExtendedDescriptionModal","onCancel","onSubmit","header","SimpleModal","onClose","onCloseClick","onFormSubmit","submitting","disabled","RuleDetailsDescription_RuleDetailsDescription","RuleDetailsDescription","description","descriptionForm","removeDescriptionModal","handleDescriptionChange","event","currentTarget","value","handleCancelClick","handleSaveClick","updateDescription","handleRemoveDescriptionClick","handleCancelRemoving","handleConfirmRemoving","text","markdown_note","onChange","handleExtendDescriptionClick","mdNote","renderDescription","htmlNote","dangerouslySetInnerHTML","__html","renderForm","colSpan","autoFocus","rows","MarkdownTips","hasDescription","htmlDesc","ActivationFormModal","call","getParams","activation","params","_i","param","defaultValue","_d","_e","getQualityProfilesWithDepth","profiles","_quality_profiles_utils__WEBPACK_IMPORTED_MODULE_7__","filter","profile","isBuiltIn","actions","edit","language","lang","map","__assign","depth","handleFormSubmit","preventDefault","data","_api_quality_profiles__WEBPACK_IMPORTED_MODULE_4__","onDone","handleParameterChange","handleProfileChange","handleSeverityChange","renderSeverityOption","_components_shared_SeverityHelper__WEBPACK_IMPORTED_MODULE_3__","profilesWithDepth","isCustomRule","activeInAllProfiles","isUpdateMode","_components_controls_Modal__WEBPACK_IMPORTED_MODULE_1__","contentLabel","modalHeader","onRequestClose","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_9__","variant","_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","_components_controls_Select__WEBPACK_IMPORTED_MODULE_2__","clearable","repeat","optionRenderer","_helpers_constants__WEBPACK_IMPORTED_MODULE_5__","searchable","valueRenderer","placeholder","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_8__","arrayFilter","baseFilter","baseIteratee","isArray","collection","predicate","baseEach","result","index","BulkChangeModal","handleProfileSelect","selectedProfiles","option","getAvailableQualityProfiles","referencedProfiles","values","languages","includes","processResponse","response","result_1","failed","succeeded","results","sendRequests","looper","coding_rules_query","method","action","quality_profiles","targetKey","profiles_1","finished","renderResult","profileKey","Alert","renderProfileSelect","languageName","Select","multi","availableProfiles","measures","Modal","htmlFor","BulkChange","modal","getSelectedProfile","closeModal","handleActivateClick","blur","handleActivateInProfileClick","handleDeactivateClick","handleDeactivateInProfileClick","BulkChange_extends","some","Boolean","canChangeProfile","allowActivateOnProfile","allowDeactivateOnProfile","href","components_BulkChangeModal","Facet","handleItemClick","itemValue","multiple","newValue","singleSelection","orderBy_default","property","handleHeaderClick","onToggle","handleClear","getStat","stats","renderItem","active","stat","renderName","defaultRenderName","renderTextName","FacetItem","halfWidth","tooltip","Facet_extends","items","sortBy_default","keys","toLowerCase","FacetBox","classnames","search-navigator-facet-box-forbidden","FacetHeader","disabledHelper","onClear","open","children","FacetItemsList","renderFooter","ActivationSeverityFacet","ActivationSeverityFacet_extends","components_Facet","ActivationSeverityFacet_assign","constants","AvailableSinceFacet_AvailableSinceFacet","AvailableSinceFacet","availableSince","handlePeriodChange","getValues","intl","formatDate","AvailableSinceFacet_extends","DateInput","components_AvailableSinceFacet","index_es","DefaultSeverityFacet","DefaultSeverityFacet_extends","DefaultSeverityFacet_assign","InheritanceFacet","InheritanceFacet_extends","__rest","InheritanceFacet_assign","LanguageFacet_LanguageFacet","LanguageFacet","getLanguageName","languageKey","installedLanguages","find","l","handleSearch","getAllPossibleOptions","paging","pageIndex","pageSize","uniqBy_default","renderSearchResult","term","search","LanguageFacet_extends","ListStyleFacet","facetHeader","fetching","getFacetItemText","getSearchResultKey","getSearchResultText","minSearchLength","renderFacetItem","searchPlaceholder","components_LanguageFacet","rootReducer","ProfileFacet","selected","compareToProfile","activationSeverities","inheritance","handleActiveClick","stopPropagation","handleInactiveClick","getTextValue","getTooltip","base","renderActivation","isCompare","aria-checked","facet-toggle-active","role","tabIndex","ProfileFacet_extends","RepositoryFacet_RepositoryFacet","RepositoryFacet","referencedLanguages","repositoryKey","RepositoryFacet_extends","facetProps","RepositoryFacet_rest","RepositoryFacet_assign","components_RepositoryFacet","StatusFacet","StatusFacet_extends","StatusFacet_assign","TagFacet","api_rules","handleSelect","getTagName","renderTag","TagsIcon","theme","TagFacet_extends","TemplateFacet","handleChange","changes","template","Array","TemplateFacet_assign","TemplateFacet_extends","TemplateFacet_rest","String","TypeFacet","TypeFacet_extends","TypeFacet_assign","FacetsList","languageDisabled","hideProfileFacet","inheritanceDisabled","selectedProfile","isInherited","activationSeverityDisabled","onFacetToggle","openFacets","facets","components_TypeFacet","types","components_TagFacet","repositories","components_DefaultSeverityFacet","severities","components_StatusFacet","statuses","organizationsEnabled","components_TemplateFacet","components_ProfileFacet","components_InheritanceFacet","components_ActivationSeverityFacet","PageActions","Shortcuts","DeferredSpinner","loading","ReloadButton","onReload","selectedIndex","CustomRuleFormModal","prepareRequest","customRule","templateRule","csv","join","ruleData","markdown_description","CustomRuleFormModal_assign","custom_key","prevent_reactivation","reactivating","template_key","newRuleDetails","handleNameChange","keyModifiedByUser","strings","handleKeyChange","handleTypeChange","handleStatusChange","renderNameField","required","renderKeyField","renderDescriptionField","renderTypeOption","renderTypeField","renderSeverityField","renderStatusField","renderParameterField","renderSubmitButton","mdDesc","CustomRuleFormModal_extends","CustomRuleButton","handleClick","handleModalClose","handleDone","CustomRuleButton_extends","components_CustomRuleFormModal","RuleDetailsCustomRules","fetchRules","f","handleRuleCreate","handleRuleDelete","ruleKey","renderRule","data-rule","react_router_es","canChange","ConfirmButton","confirmButtonText","confirmData","isDestructive","modalBody","onConfirm","RuleDetailsCustomRules_extends","componentDidUpdate","prevProps","components_CustomRuleButton","RuleDetailsIssues_RuleDetailsIssues","RuleDetailsIssues","getBaseIssuesQuery","resolved","fetchIssues","issues","RuleDetailsIssues_assign","facet","components","projects","item","project","component","val","count","facet_1","renderTotal","path","totalItem","appState","branchesEnabled","renderProject","RuleDetailsIssues_extends","components_RuleDetailsIssues","withAppState","RuleDetailsParameters","renderParameter","RuleDetailsParameters_extends","ActivationButton","handleButtonClick","handleCloseModal","ActivationButton_extends","buttonText","RuleInheritanceIcon","other","RuleInheritanceIcon_rest","RuleInheritanceIcon_assign","height","version","viewBox","width","xmlSpace","xmlnsXlink","fillRule","RuleDetailsProfiles","fetchProfiles","handleActivate","onActivate","handleDeactivate","onDeactivate","handleRevert","reset","renderInheritedProfile","parentName","profilePath","inherit","parentActivation","originalParam","p","originalValue","renderParameters","renderActions","canEdit","hasParent","parentKey","components_ActivationButton","activations","qProfile","x","data-profile","BuiltInQualityProfileBadge","RuleDetailsProfiles_extends","canActivate","InstanceMessage","message","filter_default","RuleDetails","fetchRuleDetails","actives","handleRuleChange","handleTagsChange","oldTags","RuleDetails_assign","catch","handleDelete","onDelete","RuleDetails_extends","allowCustomRules","hideQualityProfiles","isCustom","isEditable","components_RuleDetailsParameters","components_RuleDetailsCustomRules","components_RuleDetailsProfiles","RuleListItem","data_1","handleNameClick","isLeftClickEvent","button","metaKey","altKey","ctrlKey","shiftKey","onOpen","SeverityIcon","renderDeactivateButton","RuleListItem_extends","PAGE_SIZE","LIMIT_BEFORE_LOAD_MORE","App_App","App","attachShortcuts","keymaster","selectPreviousRule","selectNextRule","openSelectedRule","closeRule","detachShortcuts","getOpenRule","location","getFacetsToFetch","getFieldsToFetch","fields","getSearchParameters","App_assign","s","stopLoading","fetchInitialData","all","fetchQualityProfiles","keyBy_default","fetchFirstRules","makeFetchRequest","rawActives","rawFacets","entries","activations_1","parseActives","rawFacets_1","rawFacet","rawValue","parseFacets","openRule","fetchMoreRules","nextPage","fetchFacet","currentUser","userOrganizations","organizations","getSelectedIndex","findIndex","getRulePath","pathname","router","scrollToSelectedRule","smooth","element","document","querySelector","scrolling","topOffset","bottomOffset","getRuleActivation","closeFacet","handleRuleOpen","handleBack","handleFilterChange","handleFacetToggle","handleReload","handleReset","pickRuleAround","handleRuleActivate","handleRuleDeactivate","newRule","searchQuery","isFiltered","App_extends","pages","componentWillReceiveProps","nextProps","prevState","Suggestions","suggestions","Helmet","ScreenPositionHelper","top","SearchBox","minLength","components_BulkChange","components_RuleDetails","components_RuleListItem","ListFooter","loadMore","ready","stopSubmitting","handleCloseClick","submit","handleSubmitClick","modalProps","_Modal__WEBPACK_IMPORTED_MODULE_1__","onSubmitClick","getWrappedDisplayName","WrappedComponent","hocName","displayName","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","e","close","default","addEventListener","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","addSideBarClass","addWhitePageClass","removeSideBarClass","removeWhitePageClass","CLASS_SIDEBAR_PAGE","CLASS_WHITE_PAGE","toggleBodyClass","force","body","classList","toggle","documentElement","searchQualityProfiles","parameters","_helpers_request__WEBPACK_IMPORTED_MODULE_2__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_3__","getQualityProfile","createQualityProfile","setMethod","setData","restoreQualityProfile","getProfileProjects","getProfileInheritance","setDefaultProfile","renameProfile","copyProfile","fromKey","toName","deleteProfile","changeProfileParent","getImporters","r","importers","getExporters","exporters","getProfileChangelog","compareProfiles","leftKey","rightKey","associateProject","dissociateProject","searchUsers","searchGroups","addUser","removeUser","addGroup","removeGroup","bulkActivateRules","bulkDeactivateRules","activateRule","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","_helpers_csv__WEBPACK_IMPORTED_MODULE_1__","deactivateRule","arrayMap","baseMap","iteratee","ConfirmModal","handleSubmit","renderModalContent","confirmDisable","headerDescription","cancelButtonText","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","noBackdrop","_SimpleModal__WEBPACK_IMPORTED_MODULE_1__","renderConfirmModal","modalHeaderDescription","confirmModalProps","_ConfirmModal__WEBPACK_IMPORTED_MODULE_1__","_ModalButton__WEBPACK_IMPORTED_MODULE_2__","ModalButton","getRulesApp","searchRules","takeFacet","getRuleDetails","getRuleTags","createRule","deleteRule","updateRule","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","error","reject","data-property","csvEscape","renderHelper","helper","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","renderValueIndicator","showClearButton","_icons_components_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_1__","clearLabel","renderValue","search-navigator-facet-half","data-facet","defaultProps","ChevronDownIcon","_Icon__WEBPACK_IMPORTED_MODULE_1__","getPosition","containerPos","container","getBoundingClientRect","window","pageYOffset","left","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","react__WEBPACK_IMPORTED_MODULE_1__","ref","isPaidOrganization","hasPrivateAccess","isCurrentUserMemberOf","_users__WEBPACK_IMPORTED_MODULE_0__","subscription","admin","org","latinize","slugify","decodeJwt","diacriticsMap","str","trim","token","segments","split","base64","JSON","parse","atob","letters","forEach","defaultDiacritic","letter","OpenCloseIcon","_ChevronDownIcon__WEBPACK_IMPORTED_MODULE_1__","_ChevronRightcon__WEBPACK_IMPORTED_MODULE_2__","ListStyleFacetFooter","handleShowMoreClick","showMore","handleShowLessClick","showLess","hasMore","allShown","ListStyleFacet_ListStyleFacet","searching","searchResultsCounts","showFullList","onItemClick","stopSearching","loadCountsForSearchResults","maxResults","searchMaxResults","searchResults","searchPaging","searchMore","loadSearchResultCount","resultsToLoad","hideFullList","ListStyleFacet_extends","helpers_query","maxInitialItems","renderList","sortedItems","getSortedItems","limitedList","slice","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","facet_ListStyleFacetFooter","renderSearch","renderSearchResults","loadingResults","showList","MultipleSelectionHint","Wrapper","_utils__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","highlightTerm","pos","indexOf","substring","baseOrderBy","iteratees","orders","guard","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","navigator","userAgent","_components_docs_DocTooltip__WEBPACK_IMPORTED_MODULE_2__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","badge","handleLanguageClick","handleTypeClick","handleSeverityClick","handleTagClick","dataset","_components_controls_Dropdown__WEBPACK_IMPORTED_MODULE_1__","data-field","data-tag","_components_icons_components_TagsIcon__WEBPACK_IMPORTED_MODULE_6__","_components_icons_components_FilterIcon__WEBPACK_IMPORTED_MODULE_4__","_components_icons_components_DropdownIcon__WEBPACK_IMPORTED_MODULE_5__"],"mappings":"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","file":"js/274.1553004420962.chunk.js","sourcesContent":["module.exports = \"Custom rules are created by administrators from templates, and are the only fully-editable rules.\\n\"","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.coding-rules-extended-view .coding-rules-list {\\n  display: none;\\n}\\n\\n.coding-rules-extended-view .coding-rules-details {\\n  display: block;\\n}\\n\\n/*\\n * Detail\\n */\\n\\n.coding-rules-detail-title {\\n  position: relative;\\n  display: inline-block;\\n  margin: 16px 0;\\n  font-size: 16px;\\n  font-weight: 400;\\n}\\n\\n.coding-rules-detail-quality-profile-parameter {\\n  display: block;\\n  height: 100%;\\n  padding-top: 0;\\n  padding-right: 10px;\\n}\\n\\n.coding-rules-detail-quality-profile-parameter .key,\\n.coding-rules-detail-quality-profile-parameter .value,\\n.coding-rules-detail-quality-profile-parameter .sep {\\n  display: inline;\\n  vertical-align: top;\\n}\\n\\n.coding-rules-detail-quality-profile-parameter .value {\\n  display: inline-block;\\n  vertical-align: top;\\n  line-height: 23px;\\n  max-width: 300px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace;\\n}\\n\\n.coding-rules-detail-quality-profile-parameter + .coding-rules-detail-quality-profile-parameter {\\n  margin-top: 0;\\n}\\n\\n.coding-rules-detail-properties {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  margin-top: 8px;\\n}\\n\\n.coding-rules-detail-properties + .coding-rules-detail-properties {\\n  margin-top: -10px;\\n}\\n\\n.coding-rules-detail-property {\\n  display: flex;\\n  align-items: center;\\n  margin-right: 16px;\\n  margin-bottom: 8px;\\n  font-size: 12px;\\n}\\n\\n.coding-rules-detail-tag + .coding-rules-detail-tag {\\n  margin-left: 10px;\\n}\\n\\n.coding-rules-detail-tags-change {\\n  cursor: pointer;\\n}\\n\\n.coding-rules-detail-tags-change:hover span {\\n  text-decoration: underline;\\n}\\n\\n.coding-rules-detail-tag-edit {\\n  line-height: 1;\\n}\\n\\n.coding-rules-details-tag-edit-cancel {\\n  vertical-align: middle;\\n}\\n\\n.coding-rules-detail-description {\\n  margin: 20px 0;\\n}\\n\\n.coding-rules-detail-description-extra {\\n  margin-top: -10px;\\n}\\n\\n.coding-rules-detail-extend-description-form {\\n  margin: 10px 0;\\n}\\n\\n.coding-rules-detail-parameters {\\n  width: 100%;\\n  margin: 10px 0 20px;\\n}\\n\\n.coding-rules-detail-parameter-name {\\n  width: 1px;\\n  vertical-align: top;\\n  padding: 5px 10px 5px 0;\\n  font-weight: bold;\\n}\\n\\n.coding-rules-detail-parameter-description {\\n  vertical-align: top;\\n  padding: 5px 5px;\\n}\\n\\n.coding-rules-detail-parameter-value {\\n  font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace;\\n  word-break: break-all;\\n}\\n\\n.coding-rules-detail-quality-profiles,\\n.coding-rules-detail-list {\\n  width: 100%;\\n  line-height: 22px;\\n}\\n\\n.coding-rules-detail-quality-profiles td,\\n.coding-rules-detail-list td {\\n  border-top: 1px solid #e6e6e6;\\n}\\n\\n.coding-rules-detail-quality-profiles tr:first-child td,\\n.coding-rules-detail-list tr:first-child td {\\n  border-top: none;\\n}\\n\\n.coding-rules-detail-quality-profile-name,\\n.coding-rules-detail-list-name {\\n  vertical-align: top;\\n  width: 1px;\\n  padding: 8px 5px 8px 0;\\n  font-weight: 600;\\n  white-space: nowrap;\\n}\\n\\n.coding-rules-detail-quality-profile-severity,\\n.coding-rules-detail-list-severity {\\n  vertical-align: top;\\n  width: 1px;\\n  padding: 8px 5px;\\n  white-space: nowrap;\\n}\\n\\n.coding-rules-detail-quality-profile-severity i {\\n  margin-top: 2px;\\n}\\n\\n.coding-rules-detail-quality-profile-parameters,\\n.coding-rules-detail-list-parameters {\\n  vertical-align: top;\\n  padding: 8px 5px;\\n}\\n\\n.coding-rules-detail-quality-profile-actions,\\n.coding-rules-detail-list-actions {\\n  vertical-align: top;\\n  width: 1px;\\n  padding: 8px 0 8px 5px;\\n  text-align: right;\\n  white-space: nowrap;\\n}\\n\\n.coding-rules-detail-quality-profile-inheritance {\\n  font-size: 12px;\\n  font-weight: normal;\\n}\\n\\n.coding-rules-detail-quality-profiles-activation {\\n  margin-top: -3px;\\n  margin-left: 10px;\\n}\\n\\n.coding-rules-most-violated-projects td {\\n  border-top-color: transparent;\\n}\\n\\n.coding-rules-most-violated-projects tr:first-child + tr td {\\n  border-top-color: #e6e6e6;\\n}\\n\\n.coding-rules-most-violated-projects .coding-rules-detail-list-name {\\n  font-weight: 400;\\n}\\n\\n.coding-rule {\\n  padding: 8px 10px 8px 8px;\\n  border: 1px solid transparent;\\n  background-color: #fff;\\n}\\n\\n.coding-rule.selected {\\n  border-color: #4b9fd5 !important;\\n}\\n\\n.coding-rule + .coding-rule {\\n  border-top-color: #e6e6e6;\\n}\\n\\n.coding-rule.selected + .coding-rule {\\n  border-top-color: transparent;\\n}\\n\\n.coding-rule-table {\\n  width: 100%;\\n}\\n\\n.coding-rule-table td {\\n  vertical-align: top;\\n}\\n\\n.coding-rule-table + .coding-rule-table {\\n  margin-top: 5px;\\n}\\n\\n.coding-rule-table-meta-cell {\\n  width: 1px;\\n  white-space: nowrap;\\n}\\n\\n@media (max-width: 1320px) {\\n  .coding-rule-table .tags-list span {\\n    max-width: 100px;\\n  }\\n}\\n.coding-rule-title {\\n  line-height: 20px;\\n  font-size: 13px;\\n}\\n\\n.coding-rule-meta {\\n  padding: 2px;\\n  padding-left: 30px;\\n  font-size: 12px;\\n}\\n\\n.coding-rule-activation {\\n  width: 40px;\\n  line-height: 19.5px;\\n}\\n\\n.coding-rule-activation-actions {\\n  padding-left: 20px;\\n}\\n\\n.coding-rule-section-separator {\\n  height: 0;\\n  margin: 10px 0;\\n  border-top: 1px solid #e6e6e6;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.multiple-selection-hint {\\n  margin-top: 8px;\\n  margin-bottom: 8px;\\n  text-align: center;\\n}\\n\\n.multiple-selection-hint-inner {\\n  display: inline-block;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  background-color: #e6e6e6;\\n  text-align: center;\\n  padding: 0 8px;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../ui/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { without, uniq, difference } from 'lodash';\nimport TagsSelector from '../../../components/tags/TagsSelector';\nimport { getRuleTags } from '../../../api/rules';\n\nexport interface Props {\n  organization: string | undefined;\n  setTags: (tags: string[]) => void;\n  sysTags: string[];\n  tags: string[];\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class RuleDetailsTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return getRuleTags({\n      q: query,\n      ps: Math.min(this.props.tags.length + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      tags => {\n        if (this.mounted) {\n          // systems tags can not be unset, don't display them in the results\n          this.setState({ searchResult: without(tags, ...this.props.sysTags) });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags(uniq([...this.props.tags, tag]));\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.tags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.tags);\n    return (\n      <TagsSelector\n        listSize={LIST_SIZE}\n        onSearch={this.onSearch}\n        onSelect={this.onSelect}\n        onUnselect={this.onUnselect}\n        selectedTags={this.props.tags}\n        tags={availableTags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function RuleScopeIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 3.071c2.724 0 4.929 2.204 4.929 4.929s-2.204 4.929-4.929 4.929c-2.724 0-4.929-2.204-4.929-4.929s2.204-4.929 4.929-4.929zM8 1.357c-3.669 0-6.643 2.974-6.643 6.643s2.974 6.643 6.643 6.643 6.643-2.974 6.643-6.643-2.974-6.643-6.643-6.643zM8 6.286c0.945 0 1.714 0.769 1.714 1.714s-0.769 1.714-1.714 1.714-1.714-0.769-1.714-1.714 0.769-1.714 1.714-1.714zM8 4.571c-1.893 0-3.429 1.535-3.429 3.429s1.535 3.429 3.429 3.429 3.429-1.535 3.429-3.429-1.535-3.429-3.429-3.429z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RuleDetailsTagsPopup from './RuleDetailsTagsPopup';\nimport SimilarRulesFilter from './SimilarRulesFilter';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport LinkIcon from '../../../components/icons-components/LinkIcon';\nimport RuleScopeIcon from '../../../components/icons-components/RuleScopeIcon';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport TagsList from '../../../components/tags/TagsList';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { ButtonLink } from '../../../components/ui/buttons';\nimport { PopupPlacement } from '../../../components/ui/popups';\nimport { Query } from '../query';\nimport { getRuleUrl } from '../../../helpers/urls';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  hideSimilarRulesFilter?: boolean;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onTagsChange: (tags: string[]) => void;\n  organization: string | undefined;\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  ruleDetails: T.RuleDetails;\n}\n\nconst EXTERNAL_RULE_REPO_PREFIX = 'external_';\n\nexport default class RuleDetailsMeta extends React.PureComponent<Props> {\n  renderType = () => {\n    const { ruleDetails } = this.props;\n    return (\n      <Tooltip overlay={translate('coding_rules.type.tooltip', ruleDetails.type)}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"type\">\n          <IssueTypeIcon className=\"little-spacer-right\" query={ruleDetails.type} />\n          {translate('issue.type', ruleDetails.type)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderSeverity = () => (\n    <Tooltip overlay={translate('default_severity')}>\n      <li className=\"coding-rules-detail-property\" data-meta=\"severity\">\n        <SeverityHelper\n          className=\"display-inline-flex-center\"\n          severity={this.props.ruleDetails.severity}\n        />\n      </li>\n    </Tooltip>\n  );\n\n  renderStatus = () => {\n    const { ruleDetails } = this.props;\n    if (ruleDetails.status === 'READY') {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('status')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"status\">\n          <span className=\"badge badge-normal-size badge-danger-light\">\n            {translate('rules.status', ruleDetails.status)}\n          </span>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTags = () => {\n    const { canWrite, ruleDetails } = this.props;\n    const { sysTags = [], tags = [] } = ruleDetails;\n    const allTags = [...sysTags, ...tags];\n\n    return (\n      <li className=\"coding-rules-detail-property\" data-meta=\"tags\">\n        {this.props.canWrite ? (\n          <Dropdown\n            closeOnClick={false}\n            closeOnClickOutside={true}\n            overlay={\n              <RuleDetailsTagsPopup\n                organization={this.props.organization}\n                setTags={this.props.onTagsChange}\n                sysTags={sysTags}\n                tags={tags}\n              />\n            }\n            overlayPlacement={PopupPlacement.BottomLeft}>\n            <ButtonLink>\n              <TagsList\n                allowUpdate={canWrite}\n                tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n              />\n            </ButtonLink>\n          </Dropdown>\n        ) : (\n          <TagsList\n            allowUpdate={canWrite}\n            className=\"display-flex-center\"\n            tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n          />\n        )}\n      </li>\n    );\n  };\n\n  renderCreationDate = () => (\n    <li className=\"coding-rules-detail-property\" data-meta=\"available-since\">\n      <span className=\"little-spacer-right\">{translate('coding_rules.available_since')}</span>\n      <DateFormatter date={this.props.ruleDetails.createdAt} />\n    </li>\n  );\n\n  renderRepository = () => {\n    const { referencedRepositories, ruleDetails } = this.props;\n    const repository = referencedRepositories[ruleDetails.repo];\n    if (!repository) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.repository_language')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"repository\">\n          {repository.name} ({ruleDetails.langName})\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTemplate = () => {\n    if (!this.props.ruleDetails.isTemplate) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n        <li className=\"coding-rules-detail-property\">{translate('coding_rules.rule_template')}</li>\n      </Tooltip>\n    );\n  };\n\n  renderParentTemplate = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.templateKey) {\n      return null;\n    }\n    return (\n      <li className=\"coding-rules-detail-property\">\n        {translate('coding_rules.custom_rule')}\n        {' ('}\n        <Link to={getRuleUrl(ruleDetails.templateKey, this.props.organization)}>\n          {translate('coding_rules.show_template')}\n        </Link>\n        {')'}\n        <DocTooltip\n          className=\"little-spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rules.md')}\n        />\n      </li>\n    );\n  };\n\n  renderRemediation = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.debtRemFnType) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.remediation_function')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"remediation-function\">\n          {translate('coding_rules.remediation_function', ruleDetails.debtRemFnType)}\n          {':'}\n          {ruleDetails.debtRemFnOffset !== undefined && ` ${ruleDetails.debtRemFnOffset}`}\n          {ruleDetails.debtRemFnCoeff !== undefined && ` +${ruleDetails.debtRemFnCoeff}`}\n          {ruleDetails.effortToFixDescription !== undefined &&\n            ` ${ruleDetails.effortToFixDescription}`}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderScope = () => {\n    const scope = this.props.ruleDetails.scope || 'MAIN';\n    return (\n      <Tooltip overlay={translate('coding_rules.scope.title')}>\n        <li className=\"coding-rules-detail-property\">\n          <RuleScopeIcon className=\"little-spacer-right\" />\n          {translate('coding_rules.scope', scope)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderExternalBadge = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.repo) {\n      return null;\n    }\n    const engine = ruleDetails.repo.replace(new RegExp(`^${EXTERNAL_RULE_REPO_PREFIX}`), '');\n    if (!engine) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translateWithParameters('coding_rules.external_rule.engine', engine)}>\n        <li className=\"coding-rules-detail-property\">\n          <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n            {engine}\n          </div>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderKey() {\n    const EXTERNAL_PREFIX = 'external_';\n    const { ruleDetails } = this.props;\n    const displayedKey = ruleDetails.key.startsWith(EXTERNAL_PREFIX)\n      ? ruleDetails.key.substr(EXTERNAL_PREFIX.length)\n      : ruleDetails.key;\n    return <span className=\"note text-middle\">{displayedKey}</span>;\n  }\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasTypeData = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n    return (\n      <div className=\"js-rule-meta\">\n        <header className=\"page-header\">\n          <div className=\"pull-right\">\n            {this.renderKey()}\n            {!ruleDetails.isExternal && (\n              <Link\n                className=\"coding-rules-detail-permalink link-no-underline spacer-left text-middle\"\n                title={translate('permalink')}\n                to={getRuleUrl(ruleDetails.key, this.props.organization)}>\n                <LinkIcon />\n              </Link>\n            )}\n            {!this.props.hideSimilarRulesFilter && (\n              <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={ruleDetails} />\n            )}\n          </div>\n          <h3 className=\"page-title coding-rules-detail-header\">\n            <big>{ruleDetails.name}</big>\n          </h3>\n        </header>\n\n        {hasTypeData && (\n          <ul className=\"coding-rules-detail-properties\">\n            {this.renderType()}\n            {this.renderSeverity()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderStatus()}\n                {this.renderScope()}\n              </>\n            )}\n            {this.renderTags()}\n            {!ruleDetails.isExternal && this.renderCreationDate()}\n            {this.renderRepository()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderTemplate()}\n                {this.renderParentTemplate()}\n                {this.renderRemediation()}\n              </>\n            )}\n            {ruleDetails.isExternal && this.renderExternalBadge()}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimpleModal from '../../../components/controls/SimpleModal';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onCancel: () => void;\n  onSubmit: () => void;\n}\n\nexport default function RemoveExtendedDescriptionModal({ onCancel, onSubmit }: Props) {\n  const header = translate('coding_rules.remove_extended_description');\n  return (\n    <SimpleModal header={header} onClose={onCancel} onSubmit={onSubmit}>\n      {({ onCloseClick, onFormSubmit, submitting }) => (\n        <form onSubmit={onFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {translate('coding_rules.remove_extended_description.confirm')}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton\n              className=\"button-red\"\n              disabled={submitting}\n              id=\"coding-rules-detail-extend-description-remove-submit\">\n              {translate('remove')}\n            </SubmitButton>\n            <ResetButtonLink onClick={onCloseClick}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      )}\n    </SimpleModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RemoveExtendedDescriptionModal from './RemoveExtendedDescriptionModal';\nimport { updateRule } from '../../../api/rules';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport { Button, ResetButtonLink } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  onChange: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  description: string;\n  descriptionForm: boolean;\n  removeDescriptionModal: boolean;\n  submitting: boolean;\n}\n\nexport default class RuleDetailsDescription extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    description: '',\n    descriptionForm: false,\n    submitting: false,\n    removeDescriptionModal: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleCancelClick = () => {\n    this.setState({ descriptionForm: false });\n  };\n\n  handleSaveClick = () => {\n    this.updateDescription(this.state.description);\n  };\n\n  handleRemoveDescriptionClick = () => {\n    this.setState({ removeDescriptionModal: true });\n  };\n\n  handleCancelRemoving = () => this.setState({ removeDescriptionModal: false });\n\n  handleConfirmRemoving = () => {\n    this.setState({ removeDescriptionModal: false });\n    this.updateDescription('');\n  };\n\n  updateDescription = (text: string) => {\n    this.setState({ submitting: true });\n\n    updateRule({\n      key: this.props.ruleDetails.key,\n      markdown_note: text,\n      organization: this.props.organization\n    }).then(\n      ruleDetails => {\n        this.props.onChange(ruleDetails);\n        if (this.mounted) {\n          this.setState({ submitting: false, descriptionForm: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  handleExtendDescriptionClick = () => {\n    this.setState({\n      // set description` to the current `mdNote` each time the form is open\n      description: this.props.ruleDetails.mdNote || '',\n      descriptionForm: true\n    });\n  };\n\n  renderDescription = () => (\n    <div id=\"coding-rules-detail-description-extra\">\n      {this.props.ruleDetails.htmlNote !== undefined && (\n        <div\n          className=\"rule-desc spacer-bottom markdown\"\n          dangerouslySetInnerHTML={{ __html: this.props.ruleDetails.htmlNote }}\n        />\n      )}\n      {this.props.canWrite && (\n        <Button\n          id=\"coding-rules-detail-extend-description\"\n          onClick={this.handleExtendDescriptionClick}>\n          {translate('coding_rules.extend_description')}\n        </Button>\n      )}\n    </div>\n  );\n\n  renderForm = () => (\n    <div className=\"coding-rules-detail-extend-description-form\">\n      <table className=\"width-100\">\n        <tbody>\n          <tr>\n            <td colSpan={2}>\n              <textarea\n                autoFocus={true}\n                className=\"width-100 little-spacer-bottom\"\n                id=\"coding-rules-detail-extend-description-text\"\n                onChange={this.handleDescriptionChange}\n                rows={4}\n                value={this.state.description}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <Button\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-submit\"\n                onClick={this.handleSaveClick}>\n                {translate('save')}\n              </Button>\n              {this.props.ruleDetails.mdNote !== undefined && (\n                <>\n                  <Button\n                    className=\"button-red spacer-left\"\n                    disabled={this.state.submitting}\n                    id=\"coding-rules-detail-extend-description-remove\"\n                    onClick={this.handleRemoveDescriptionClick}>\n                    {translate('remove')}\n                  </Button>\n                  {this.state.removeDescriptionModal && (\n                    <RemoveExtendedDescriptionModal\n                      onCancel={this.handleCancelRemoving}\n                      onSubmit={this.handleConfirmRemoving}\n                    />\n                  )}\n                </>\n              )}\n              <ResetButtonLink\n                className=\"spacer-left\"\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-cancel\"\n                onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n              {this.state.submitting && <i className=\"spinner spacer-left\" />}\n            </td>\n            <td className=\"text-right\">\n              <MarkdownTips />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasDescription = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n\n    return (\n      <div className=\"js-rule-description\">\n        {hasDescription ? (\n          <div\n            className=\"coding-rules-detail-description rule-desc markdown\"\n            dangerouslySetInnerHTML={{ __html: ruleDetails.htmlDesc || '' }}\n          />\n        ) : (\n          <div className=\"coding-rules-detail-description rule-desc markdown\">\n            {translateWithParameters('issue.external_issue_description', ruleDetails.name)}\n          </div>\n        )}\n\n        {!ruleDetails.templateKey && (\n          <div className=\"coding-rules-detail-description coding-rules-detail-description-extra\">\n            {!this.state.descriptionForm && this.renderDescription()}\n            {this.state.descriptionForm && this.props.canWrite && this.renderForm()}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { activateRule, Profile } from '../../../api/quality-profiles';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\nimport { sortProfiles } from '../../quality-profiles/utils';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Alert } from '../../../components/ui/Alert';\n\ninterface Props {\n  activation?: T.RuleActivation;\n  modalHeader: string;\n  onClose: () => void;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: Profile[];\n  rule: T.Rule | T.RuleDetails;\n}\n\ninterface State {\n  params: { [p: string]: string };\n  profile: string;\n  severity: string;\n  submitting: boolean;\n}\n\nexport default class ActivationFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const profilesWithDepth = this.getQualityProfilesWithDepth(props);\n    this.state = {\n      params: this.getParams(props),\n      profile: profilesWithDepth.length > 0 ? profilesWithDepth[0].key : '',\n      severity: props.activation ? props.activation.severity : props.rule.severity,\n      submitting: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getParams = ({ activation, rule } = this.props) => {\n    const params: { [p: string]: string } = {};\n    if (rule && rule.params) {\n      for (const param of rule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n      if (activation && activation.params) {\n        for (const param of activation.params) {\n          params[param.key] = param.value;\n        }\n      }\n    }\n    return params;\n  };\n\n  // Choose QP which a user can administrate, which are the same language and which are not built-in\n  getQualityProfilesWithDepth = ({ profiles } = this.props) => {\n    return sortProfiles(\n      profiles.filter(\n        profile =>\n          !profile.isBuiltIn &&\n          profile.actions &&\n          profile.actions.edit &&\n          profile.language === this.props.rule.lang\n      )\n    ).map(profile => ({\n      ...profile,\n      // Decrease depth by 1, so the top level starts at 0\n      depth: profile.depth - 1\n    }));\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    const data = {\n      key: this.state.profile,\n      organization: this.props.organization,\n      params: this.state.params,\n      rule: this.props.rule.key,\n      severity: this.state.severity\n    };\n    activateRule(data)\n      .then(() => this.props.onDone(data.severity))\n      .then(\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n            this.props.onClose();\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n  };\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  handleProfileChange = ({ value }: { value: string }) => {\n    this.setState({ profile: value });\n  };\n\n  handleSeverityChange = ({ value }: { value: string }) => {\n    this.setState({ severity: value });\n  };\n\n  renderSeverityOption = ({ value }: { value: string }) => {\n    return <SeverityHelper severity={value} />;\n  };\n\n  render() {\n    const { activation, rule } = this.props;\n    const { profile, severity, submitting } = this.state;\n    const { params = [] } = rule;\n    const profilesWithDepth = this.getQualityProfilesWithDepth();\n    const isCustomRule = !!(rule as T.RuleDetails).templateKey;\n    const activeInAllProfiles = profilesWithDepth.length <= 0;\n    const isUpdateMode = !!activation;\n\n    return (\n      <Modal contentLabel={this.props.modalHeader} onRequestClose={this.props.onClose} size=\"small\">\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{this.props.modalHeader}</h2>\n          </div>\n\n          <div className=\"modal-body\">\n            {!isUpdateMode &&\n              activeInAllProfiles && (\n                <Alert variant=\"info\">{translate('coding_rules.active_in_all_profiles')}</Alert>\n              )}\n\n            <div className=\"modal-field\">\n              <label>{translate('coding_rules.quality_profile')}</label>\n              <Select\n                className=\"js-profile\"\n                clearable={false}\n                disabled={submitting || profilesWithDepth.length === 1}\n                onChange={this.handleProfileChange}\n                options={profilesWithDepth.map(profile => ({\n                  label: '   '.repeat(profile.depth) + profile.name,\n                  value: profile.key\n                }))}\n                value={profile}\n              />\n            </div>\n            <div className=\"modal-field\">\n              <label>{translate('severity')}</label>\n              <Select\n                className=\"js-severity\"\n                clearable={false}\n                disabled={submitting}\n                onChange={this.handleSeverityChange}\n                optionRenderer={this.renderSeverityOption}\n                options={SEVERITIES.map(severity => ({\n                  label: translate('severity', severity),\n                  value: severity\n                }))}\n                searchable={false}\n                value={severity}\n                valueRenderer={this.renderSeverityOption}\n              />\n            </div>\n            {isCustomRule ? (\n              <div className=\"modal-field\">\n                <p className=\"note\">{translate('coding_rules.custom_rule.activation_notice')}</p>\n              </div>\n            ) : (\n              params.map(param => (\n                <div className=\"modal-field\" key={param.key}>\n                  <label title={param.key}>{param.key}</label>\n                  {param.type === 'TEXT' ? (\n                    <textarea\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      rows={3}\n                      value={this.state.params[param.key] || ''}\n                    />\n                  ) : (\n                    <input\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      type=\"text\"\n                      value={this.state.params[param.key] || ''}\n                    />\n                  )}\n                  <div\n                    className=\"note\"\n                    dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n                  />\n                </div>\n              ))\n            )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={submitting || activeInAllProfiles}>\n              {isUpdateMode ? translate('save') : translate('coding_rules.activate')}\n            </SubmitButton>\n            <ResetButtonLink disabled={submitting} onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","module.exports = \"Quality Profiles are collections of Rules to apply during an analysis.\\n\\n---\\n\\nSee also: [Quality Profiles](/instance-administration/quality-profiles/)\\n\"","module.exports = \"Rule Templates allow users to easily define their own rules. They are like cookie cutters from which you can stamp out new, \\\"custom rules\\\". The rules created from a template are listed on its rule detail page.\\n\"","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","module.exports = \"Only custom rules may be deleted. When a custom rule is deleted, it is not removed from the SonarQube instance. Instead its status is set to \\\"REMOVED\\\", allowing relevant issues to continue to be displayed properly.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Query, serializeQuery } from '../query';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport { Alert } from '../../../components/ui/Alert';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Profile, bulkActivateRules, bulkDeactivateRules } from '../../../api/quality-profiles';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  action: string;\n  languages: T.Languages;\n  onClose: () => void;\n  organization: string | undefined;\n  profile?: Profile;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  total: number;\n}\n\ninterface ActivationResult {\n  failed: number;\n  profile: string;\n  succeeded: number;\n}\n\ninterface State {\n  finished: boolean;\n  results: ActivationResult[];\n  selectedProfiles: any[];\n  submitting: boolean;\n}\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    // if there is only one possible option for profile, select it immediately\n    const selectedProfiles = [];\n    const availableProfiles = this.getAvailableQualityProfiles(props);\n    if (availableProfiles.length === 1) {\n      selectedProfiles.push(availableProfiles[0].key);\n    }\n\n    this.state = { finished: false, results: [], selectedProfiles, submitting: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleProfileSelect = (options: { value: string }[]) => {\n    const selectedProfiles = options.map(option => option.value);\n    this.setState({ selectedProfiles });\n  };\n\n  getAvailableQualityProfiles = ({ query, referencedProfiles } = this.props) => {\n    let profiles = Object.values(referencedProfiles);\n    if (query.languages.length > 0) {\n      profiles = profiles.filter(profile => query.languages.includes(profile.language));\n    }\n    return profiles\n      .filter(profile => profile.actions && profile.actions.edit)\n      .filter(profile => !profile.isBuiltIn);\n  };\n\n  processResponse = (profile: string, response: any) => {\n    if (this.mounted) {\n      const result: ActivationResult = {\n        failed: response.failed || 0,\n        profile,\n        succeeded: response.succeeded || 0\n      };\n      this.setState(state => ({ results: [...state.results, result] }));\n    }\n  };\n\n  sendRequests = () => {\n    let looper = Promise.resolve();\n\n    // serialize the query, but delete the `profile`\n    const data = serializeQuery(this.props.query);\n    delete data.profile;\n\n    const method = this.props.action === 'activate' ? bulkActivateRules : bulkDeactivateRules;\n\n    // if a profile is selected in the facet, pick it\n    // otherwise take all profiles selected in the dropdown\n    const profiles: string[] = this.props.profile\n      ? [this.props.profile.key]\n      : this.state.selectedProfiles;\n\n    for (const profile of profiles) {\n      looper = looper.then(() =>\n        method({ ...data, organization: this.props.organization, targetKey: profile }).then(\n          response => this.processResponse(profile, response)\n        )\n      );\n    }\n    return looper;\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.sendRequests().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ finished: true, submitting: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  renderResult = (result: ActivationResult) => {\n    const { profile: profileKey } = result;\n    const profile = this.props.referencedProfiles[profileKey];\n    if (!profile) {\n      return null;\n    }\n    const { languages } = this.props;\n    const language = languages[profile.language]\n      ? languages[profile.language].name\n      : profile.language;\n    return (\n      <Alert key={result.profile} variant={result.failed === 0 ? 'success' : 'warning'}>\n        {result.failed\n          ? translateWithParameters(\n              'coding_rules.bulk_change.warning',\n              profile.name,\n              language,\n              result.succeeded,\n              result.failed\n            )\n          : translateWithParameters(\n              'coding_rules.bulk_change.success',\n              profile.name,\n              language,\n              result.succeeded\n            )}\n      </Alert>\n    );\n  };\n\n  renderProfileSelect = () => {\n    const profiles = this.getAvailableQualityProfiles();\n    const options = profiles.map(profile => ({\n      label: `${profile.name} - ${profile.languageName}`,\n      value: profile.key\n    }));\n    return (\n      <Select\n        multi={true}\n        onChange={this.handleProfileSelect}\n        options={options}\n        value={this.state.selectedProfiles}\n      />\n    );\n  };\n\n  render() {\n    const { action, profile, total } = this.props;\n    const header =\n      // prettier-ignore\n      action === 'activate'\n        ? `${translate('coding_rules.activate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`\n        : `${translate('coding_rules.deactivate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`;\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {this.state.results.map(this.renderResult)}\n\n            {!this.state.finished &&\n              !this.state.submitting && (\n                <div className=\"modal-field\">\n                  <h3>\n                    <label htmlFor=\"coding-rules-bulk-change-profile\">\n                      {action === 'activate'\n                        ? translate('coding_rules.activate_in')\n                        : translate('coding_rules.deactivate_in')}\n                    </label>\n                  </h3>\n                  {profile ? (\n                    <span>\n                      {profile.name}\n                      {' — '}\n                      {translate('are_you_sure')}\n                    </span>\n                  ) : (\n                    this.renderProfileSelect()\n                  )}\n                </div>\n              )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.submitting && <i className=\"spinner spacer-right\" />}\n            {!this.state.finished && (\n              <SubmitButton disabled={this.state.submitting} id=\"coding-rules-submit-bulk-change\">\n                {translate('apply')}\n              </SubmitButton>\n            )}\n            <ResetButtonLink onClick={this.props.onClose}>\n              {this.state.finished ? translate('close') : translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BulkChangeModal from './BulkChangeModal';\nimport { Query } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  languages: T.Languages;\n  organization: string | undefined;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  total: number;\n}\n\ninterface State {\n  action?: string;\n  modal: boolean;\n  profile?: Profile;\n}\n\nexport default class BulkChange extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  getSelectedProfile = () => {\n    const { profile } = this.props.query;\n    return (profile && this.props.referencedProfiles[profile]) || undefined;\n  };\n\n  closeModal = () => this.setState({ action: undefined, modal: false, profile: undefined });\n\n  handleActivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: undefined });\n  };\n\n  handleActivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  handleDeactivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: undefined });\n  };\n\n  handleDeactivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  render() {\n    // show \"Bulk Change\" button only if user has at least one QP which he administrates\n    const canBulkChange = Object.values(this.props.referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit)\n    );\n    if (!canBulkChange) {\n      return null;\n    }\n\n    const { activation } = this.props.query;\n    const profile = this.getSelectedProfile();\n    const canChangeProfile = Boolean(\n      profile && !profile.isBuiltIn && profile.actions && profile.actions.edit\n    );\n    const allowActivateOnProfile = canChangeProfile && activation === false;\n    const allowDeactivateOnProfile = canChangeProfile && activation === true;\n\n    return (\n      <>\n        <Dropdown\n          className=\"pull-left\"\n          overlay={\n            <ul className=\"menu\">\n              <li>\n                <a href=\"#\" onClick={this.handleActivateClick}>\n                  {translate('coding_rules.activate_in')}…\n                </a>\n              </li>\n              {allowActivateOnProfile &&\n                profile && (\n                  <li>\n                    <a href=\"#\" onClick={this.handleActivateInProfileClick}>\n                      {translate('coding_rules.activate_in')} <strong>{profile.name}</strong>\n                    </a>\n                  </li>\n                )}\n              <li>\n                <a href=\"#\" onClick={this.handleDeactivateClick}>\n                  {translate('coding_rules.deactivate_in')}…\n                </a>\n              </li>\n              {allowDeactivateOnProfile &&\n                profile && (\n                  <li>\n                    <a href=\"#\" onClick={this.handleDeactivateInProfileClick}>\n                      {translate('coding_rules.deactivate_in')} <strong>{profile.name}</strong>\n                    </a>\n                  </li>\n                )}\n            </ul>\n          }>\n          <Button className=\"js-bulk-change\">{translate('bulk_change')}</Button>\n        </Dropdown>\n        {this.state.modal &&\n          this.state.action && (\n            <BulkChangeModal\n              action={this.state.action}\n              languages={this.props.languages}\n              onClose={this.closeModal}\n              organization={this.props.organization}\n              profile={this.state.profile}\n              query={this.props.query}\n              referencedProfiles={this.props.referencedProfiles}\n              total={this.props.total}\n            />\n          )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { orderBy, without, sortBy } from 'lodash';\nimport { FacetKey } from '../query';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\nexport interface BasicProps {\n  onChange: (changes: { [x: string]: string | string[] | undefined }) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  stats?: { [x: string]: number };\n  values: string[];\n}\n\ninterface Props extends BasicProps {\n  children?: React.ReactNode;\n  disabled?: boolean;\n  disabledHelper?: string;\n  halfWidth?: boolean;\n  options?: string[];\n  property: FacetKey;\n  renderFooter?: () => React.ReactNode;\n  renderName?: (value: string) => React.ReactNode;\n  renderTextName?: (value: string) => string;\n  singleSelection?: boolean;\n}\n\nexport default class Facet extends React.PureComponent<Props> {\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { values } = this.props;\n    let newValue;\n    if (this.props.singleSelection) {\n      const value = values.length ? values[0] : undefined;\n      newValue = itemValue === value ? undefined : itemValue;\n    } else if (multiple) {\n      newValue = orderBy(\n        values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n      );\n    } else {\n      newValue = values.includes(itemValue) && values.length < 2 ? [] : [itemValue];\n    }\n    this.props.onChange({ [this.props.property]: newValue });\n  };\n\n  handleHeaderClick = () => this.props.onToggle(this.props.property);\n\n  handleClear = () => this.props.onChange({ [this.props.property]: [] });\n\n  getStat = (value: string) => this.props.stats && this.props.stats[value];\n\n  renderItem = (value: string) => {\n    const active = this.props.values.includes(value);\n    const stat = this.getStat(value);\n    const { renderName = defaultRenderName, renderTextName = defaultRenderName } = this.props;\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={this.props.halfWidth}\n        key={value}\n        name={renderName(value)}\n        onClick={this.handleItemClick}\n        stat={stat && formatMeasure(stat, 'SHORT_INT')}\n        tooltip={renderTextName(value)}\n        value={value}\n      />\n    );\n  };\n\n  render() {\n    const { disabled, renderTextName = defaultRenderName, stats } = this.props;\n    const values = this.props.values.map(renderTextName);\n    const items =\n      this.props.options ||\n      (stats &&\n        sortBy(Object.keys(stats), key => -stats[key], key => renderTextName(key).toLowerCase()));\n\n    return (\n      <FacetBox\n        className={classNames({ 'search-navigator-facet-box-forbidden': disabled })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{translate('coding_rules.facet', this.props.property)}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}>\n          {this.props.children}\n        </FacetHeader>\n\n        {this.props.open &&\n          items !== undefined && <FacetItemsList>{items.map(this.renderItem)}</FacetItemsList>}\n\n        {this.props.open && this.props.renderFooter !== undefined && this.props.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n\nfunction defaultRenderName(value: string) {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends BasicProps {\n  disabled: boolean;\n}\n\nexport default class ActivationSeverityFacet extends React.PureComponent<Props> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.active_severity.inactive')}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"activationSeverities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { injectIntl, InjectedIntlProps } from 'react-intl';\nimport { Query } from '../query';\nimport DateInput from '../../../components/controls/DateInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: keyof Query) => void;\n  open: boolean;\n  value?: Date;\n}\n\nclass AvailableSinceFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  handleHeaderClick = () => {\n    this.props.onToggle('availableSince');\n  };\n\n  handleClear = () => {\n    this.props.onChange({ availableSince: undefined });\n  };\n\n  handlePeriodChange = (date: Date | undefined) => {\n    this.props.onChange({ availableSince: date });\n  };\n\n  getValues = () =>\n    this.props.value\n      ? [this.props.intl.formatDate(this.props.value, longFormatterOption)]\n      : undefined;\n\n  render() {\n    return (\n      <FacetBox property=\"availableSince\">\n        <FacetHeader\n          name={translate('coding_rules.facet.available_since')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <DateInput\n            name=\"available-since\"\n            onChange={this.handlePeriodChange}\n            placeholder={translate('date')}\n            value={this.props.value}\n          />\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(AvailableSinceFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class DefaultSeverityFacet extends React.PureComponent<BasicProps> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"severities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends T.Omit<BasicProps, 'values'> {\n  disabled: boolean;\n  value: T.RuleInheritance | undefined;\n}\n\nexport default class InheritanceFacet extends React.PureComponent<Props> {\n  renderName = (value: T.RuleInheritance) =>\n    translate('coding_rules.filters.inheritance', value.toLowerCase());\n\n  render() {\n    const { value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.inheritance.inactive')}\n        options={['NONE', 'INHERITED', 'OVERRIDES']}\n        property=\"inheritance\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value ? [value] : []}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { uniqBy } from 'lodash';\nimport { BasicProps } from './Facet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props extends BasicProps {\n  disabled?: boolean;\n  installedLanguages: InstalledLanguage[];\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const language = this.props.installedLanguages.find(l => l.key === languageKey);\n    return language ? language.name : languageKey;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.language.inactive')}\n        facetHeader={translate('coding_rules.facet.languages')}\n        fetching={false}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport * as classNames from 'classnames';\nimport { Query, FacetKey } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  activation: boolean | undefined;\n  compareToProfile: string | undefined;\n  languages: string[];\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  referencedProfiles: { [profile: string]: Profile };\n  value: string | undefined;\n}\n\nexport default class ProfileFacet extends React.PureComponent<Props> {\n  handleItemClick = (selected: string) => {\n    const newValue = this.props.value === selected ? '' : selected;\n    this.props.onChange({\n      activation: this.props.activation === undefined ? true : this.props.activation,\n      compareToProfile: undefined,\n      profile: newValue\n    });\n  };\n\n  handleHeaderClick = () => this.props.onToggle('profile');\n\n  handleClear = () =>\n    this.props.onChange({\n      activation: undefined,\n      activationSeverities: [],\n      compareToProfile: undefined,\n      inheritance: undefined,\n      profile: undefined\n    });\n\n  handleActiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: true, compareToProfile: undefined });\n  };\n\n  handleInactiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: false, compareToProfile: undefined });\n  };\n\n  stopPropagation = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n  };\n\n  getTextValue = () => {\n    const { referencedProfiles, value } = this.props;\n    if (value) {\n      const profile = referencedProfiles[value];\n      const name = (profile && `${profile.name} ${profile.languageName}`) || value;\n      return [name];\n    } else {\n      return [];\n    }\n  };\n\n  getTooltip = (profile: Profile) => {\n    const base = `${profile.name} ${profile.languageName}`;\n    return profile.isBuiltIn ? `${base} (${translate('quality_profiles.built_in')})` : base;\n  };\n\n  renderName = (profile: Profile) => (\n    <>\n      {profile.name}\n      <span className=\"note little-spacer-left\">\n        {profile.languageName}\n        {profile.isBuiltIn && ` (${translate('quality_profiles.built_in')})`}\n      </span>\n    </>\n  );\n\n  renderActivation = (profile: Profile) => {\n    const isCompare = profile.key === this.props.compareToProfile;\n    const activation = isCompare ? true : this.props.activation;\n    return (\n      <>\n        <span\n          aria-checked={activation}\n          className={classNames('js-active', 'facet-toggle', 'facet-toggle-green', {\n            'facet-toggle-active': activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleActiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          active\n        </span>\n        <span\n          aria-checked={!activation}\n          className={classNames('js-inactive', 'facet-toggle', 'facet-toggle-red', {\n            'facet-toggle-active': !activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleInactiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          inactive\n        </span>\n      </>\n    );\n  };\n\n  renderItem = (profile: Profile) => {\n    const active = [this.props.value, this.props.compareToProfile].includes(profile.key);\n\n    return (\n      <FacetItem\n        active={active}\n        className={this.props.compareToProfile === profile.key ? 'compare' : undefined}\n        key={profile.key}\n        name={this.renderName(profile)}\n        onClick={this.handleItemClick}\n        stat={this.renderActivation(profile)}\n        tooltip={this.getTooltip(profile)}\n        value={profile.key}\n      />\n    );\n  };\n\n  render() {\n    const { languages, referencedProfiles } = this.props;\n    let profiles = Object.values(referencedProfiles);\n    if (languages.length > 0) {\n      profiles = profiles.filter(profile => languages.includes(profile.language));\n    }\n    profiles = sortBy(\n      profiles,\n      profile => profile.name.toLowerCase(),\n      profile => profile.languageName\n    );\n\n    return (\n      <FacetBox property=\"profile\">\n        <FacetHeader\n          name={translate('coding_rules.facet.qprofile')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getTextValue()}>\n          <DocTooltip\n            className=\"spacer-left\"\n            doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rules-quality-profiles.md')}\n          />\n        </FacetHeader>\n\n        {this.props.open && <FacetItemsList>{profiles.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Facet, { BasicProps } from './Facet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\n\ninterface StateProps {\n  referencedLanguages: { [language: string]: { key: string; name: string } };\n}\n\ninterface Props extends BasicProps, StateProps {\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n}\n\nclass RepositoryFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const { referencedLanguages } = this.props;\n    const language = referencedLanguages[languageKey];\n    return (language && language.name) || languageKey;\n  };\n\n  renderName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return repository ? (\n      <>\n        {repository.name}\n        <span className=\"note little-spacer-left\">{this.getLanguageName(repository.language)}</span>\n      </>\n    ) : (\n      repositoryKey\n    );\n  };\n\n  renderTextName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return (repository && repository.name) || repositoryKey;\n  };\n\n  render() {\n    const { referencedLanguages, referencedRepositories, ...facetProps } = this.props;\n    return (\n      <Facet\n        {...facetProps}\n        property=\"repositories\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  referencedLanguages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(RepositoryFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { RULE_STATUSES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class StatusFacet extends React.PureComponent<BasicProps> {\n  renderName = (status: string) => translate('rules.status', status.toLowerCase());\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        options={RULE_STATUSES}\n        property=\"statuses\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniq } from 'lodash';\nimport { BasicProps } from './Facet';\nimport { getRuleTags } from '../../../api/rules';\nimport * as theme from '../../../app/theme';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props extends BasicProps {\n  organization: string | undefined;\n}\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    return getRuleTags({ organization: this.props.organization, ps: 50, q: query }).then(tags => ({\n      paging: { pageIndex: 1, pageSize: tags.length, total: tags.length },\n      results: tags\n    }));\n  };\n\n  handleSelect = (option: { value: string }) => {\n    this.props.onChange({ tags: uniq([...this.props.values, option.value]) });\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  renderTag = (tag: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {tag}\n    </>\n  );\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('coding_rules.facet.tags')}\n        fetching={false}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends T.Omit<BasicProps, 'onChange' | 'values'> {\n  onChange: (changes: { template: boolean | undefined }) => void;\n  value: boolean | undefined;\n}\n\nexport default class TemplateFacet extends React.PureComponent<Props> {\n  handleChange = (changes: { template: string | any[] }) => {\n    const template =\n      // empty array is returned when a user cleared the facet\n      // otherwise `\"true\"`, `\"false\"` or `undefined` can be returned\n      Array.isArray(changes.template) || changes.template === undefined\n        ? undefined\n        : changes.template === 'true';\n    this.props.onChange({ ...changes, template });\n  };\n\n  renderName = (template: string) =>\n    template === 'true'\n      ? translate('coding_rules.filters.template.is_template')\n      : translate('coding_rules.filters.template.is_not_template');\n\n  render() {\n    const { onChange, value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        onChange={this.handleChange}\n        options={['true', 'false']}\n        property=\"template\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value !== undefined ? [String(value)] : []}>\n        <DocTooltip\n          className=\"spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rule-templates.md')}\n        />\n      </Facet>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class TypeFacet extends React.PureComponent<BasicProps> {\n  renderName = (type: string) => (\n    <>\n      <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n      {translate('issue.type', type)}\n    </>\n  );\n\n  renderTextName = (type: string) => translate('issue.type', type);\n\n  render() {\n    const options = ['BUG', 'VULNERABILITY', 'CODE_SMELL', 'SECURITY_HOTSPOT'];\n\n    return (\n      <Facet\n        {...this.props}\n        options={options}\n        property=\"types\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationSeverityFacet from './ActivationSeverityFacet';\nimport AvailableSinceFacet from './AvailableSinceFacet';\nimport DefaultSeverityFacet from './DefaultSeverityFacet';\nimport InheritanceFacet from './InheritanceFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProfileFacet from './ProfileFacet';\nimport RepositoryFacet from './RepositoryFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TemplateFacet from './TemplateFacet';\nimport TypeFacet from './TypeFacet';\nimport { Facets, Query, FacetKey, OpenFacets } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\n\ninterface Props {\n  facets?: Facets;\n  hideProfileFacet?: boolean;\n  onFacetToggle: (facet: FacetKey) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: OpenFacets;\n  organization: string | undefined;\n  organizationsEnabled?: boolean;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  selectedProfile?: Profile;\n}\n\nexport default function FacetsList(props: Props) {\n  const languageDisabled = !props.hideProfileFacet && props.query.profile !== undefined;\n\n  const inheritanceDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.selectedProfile.isInherited;\n\n  const activationSeverityDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.query.activation;\n  return (\n    <>\n      <LanguageFacet\n        disabled={languageDisabled}\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.languages}\n        stats={props.facets && props.facets.languages}\n        values={props.query.languages}\n      />\n      <TypeFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.types}\n        stats={props.facets && props.facets.types}\n        values={props.query.types}\n      />\n      <TagFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.tags}\n        organization={props.organization}\n        stats={props.facets && props.facets.tags}\n        values={props.query.tags}\n      />\n      <RepositoryFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.repositories}\n        referencedRepositories={props.referencedRepositories}\n        stats={props.facets && props.facets.repositories}\n        values={props.query.repositories}\n      />\n      <DefaultSeverityFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.severities}\n        stats={props.facets && props.facets.severities}\n        values={props.query.severities}\n      />\n      <StatusFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.statuses}\n        stats={props.facets && props.facets.statuses}\n        values={props.query.statuses}\n      />\n      <AvailableSinceFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.availableSince}\n        value={props.query.availableSince}\n      />\n      {!props.organizationsEnabled && (\n        <TemplateFacet\n          onChange={props.onFilterChange}\n          onToggle={props.onFacetToggle}\n          open={!!props.openFacets.template}\n          value={props.query.template}\n        />\n      )}\n      {!props.hideProfileFacet && (\n        <>\n          <ProfileFacet\n            activation={props.query.activation}\n            compareToProfile={props.query.compareToProfile}\n            languages={props.query.languages}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.profile}\n            referencedProfiles={props.referencedProfiles}\n            value={props.query.profile}\n          />\n          <InheritanceFacet\n            disabled={inheritanceDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.inheritance}\n            value={props.query.inheritance}\n          />\n          <ActivationSeverityFacet\n            disabled={activationSeverityDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.activationSeverities}\n            stats={props.facets && props.facets.activationSeverities}\n            values={props.query.activationSeverities}\n          />\n        </>\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport PageCounter from '../../../components/common/PageCounter';\nimport ReloadButton from '../../../components/controls/ReloadButton';\n\ninterface Props {\n  loading: boolean;\n  onReload: () => void;\n  paging?: T.Paging;\n  selectedIndex?: number;\n}\n\nexport default function PageActions(props: Props) {\n  return (\n    <div className=\"pull-right\">\n      <Shortcuts />\n\n      <DeferredSpinner loading={props.loading}>\n        <ReloadButton onClick={props.onReload} />\n      </DeferredSpinner>\n\n      {props.paging && (\n        <PageCounter\n          className=\"spacer-left flash flash-heavy\"\n          current={props.selectedIndex}\n          label={translate('coding_rules._rules')}\n          total={props.paging.total}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction Shortcuts() {\n  return (\n    <span className=\"note big-spacer-right\">\n      <span className=\"big-spacer-right\">\n        <span className=\"shortcut-button little-spacer-right\">↑</span>\n        <span className=\"shortcut-button little-spacer-right\">↓</span>\n        {translate('coding_rules.to_select_rules')}\n      </span>\n\n      <span>\n        <span className=\"shortcut-button little-spacer-right\">←</span>\n        <span className=\"shortcut-button little-spacer-right\">→</span>\n        {translate('issues.to_navigate')}\n      </span>\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from '../../../components/controls/Modal';\nimport { translate } from '../../../helpers/l10n';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport { SEVERITIES, RULE_TYPES, RULE_STATUSES } from '../../../helpers/constants';\nimport Select from '../../../components/controls/Select';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { createRule, updateRule } from '../../../api/rules';\nimport { csvEscape } from '../../../helpers/csv';\nimport { latinize } from '../../../helpers/strings';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Alert } from '../../../components/ui/Alert';\n\ninterface Props {\n  customRule?: T.RuleDetails;\n  onClose: () => void;\n  onDone: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: T.RuleDetails;\n}\n\ninterface State {\n  description: string;\n  key: string;\n  keyModifiedByUser: boolean;\n  name: string;\n  params: { [p: string]: string };\n  reactivating: boolean;\n  severity: string;\n  status: string;\n  submitting: boolean;\n  type: string;\n}\n\nexport default class CustomRuleFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const params: { [p: string]: string } = {};\n    if (props.customRule && props.customRule.params) {\n      for (const param of props.customRule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n    }\n    this.state = {\n      description: (props.customRule && props.customRule.mdDesc) || '',\n      key: '',\n      keyModifiedByUser: false,\n      name: (props.customRule && props.customRule.name) || '',\n      params,\n      reactivating: false,\n      severity: (props.customRule && props.customRule.severity) || props.templateRule.severity,\n      status: (props.customRule && props.customRule.status) || props.templateRule.status,\n      submitting: false,\n      type: (props.customRule && props.customRule.type) || props.templateRule.type\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  prepareRequest = () => {\n    const { customRule, organization, templateRule } = this.props;\n    const params = Object.keys(this.state.params)\n      .map(key => `${key}=${csvEscape(this.state.params[key])}`)\n      .join(';');\n    const ruleData = {\n      markdown_description: this.state.description,\n      name: this.state.name,\n      organization,\n      params,\n      severity: this.state.severity,\n      status: this.state.status\n    };\n    return customRule\n      ? updateRule({ ...ruleData, key: customRule.key })\n      : createRule({\n          ...ruleData,\n          custom_key: this.state.key,\n          prevent_reactivation: !this.state.reactivating,\n          template_key: templateRule.key,\n          type: this.state.type\n        });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.prepareRequest().then(\n      newRuleDetails => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n          this.props.onDone(newRuleDetails);\n        }\n      },\n      (response: Response) => {\n        if (this.mounted) {\n          this.setState({ reactivating: response.status === 409, submitting: false });\n        }\n      }\n    );\n  };\n\n  handleNameChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { value: name } = event.currentTarget;\n    this.setState(state => ({\n      name,\n      key: state.keyModifiedByUser ? state.key : latinize(name).replace(/[^A-Za-z0-9]/g, '_')\n    }));\n  };\n\n  handleKeyChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ key: event.currentTarget.value, keyModifiedByUser: true });\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleTypeChange = ({ value }: { value: string }) => this.setState({ type: value });\n\n  handleSeverityChange = ({ value }: { value: string }) => this.setState({ severity: value });\n\n  handleStatusChange = ({ value }: { value: string }) => this.setState({ status: value });\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  renderNameField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"coding-rules-custom-rule-creation-name\">\n        {translate('name')} <em className=\"mandatory\">*</em>\n      </label>\n      <input\n        autoFocus={true}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-creation-name\"\n        onChange={this.handleNameChange}\n        required={true}\n        type=\"text\"\n        value={this.state.name}\n      />\n    </div>\n  );\n\n  renderKeyField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"coding-rules-custom-rule-creation-key\">\n        {translate('key')} {!this.props.customRule && <em className=\"mandatory\">*</em>}\n      </label>\n\n      {this.props.customRule ? (\n        <span className=\"coding-rules-detail-custom-rule-key\" title={this.props.customRule.key}>\n          {this.props.customRule.key}\n        </span>\n      ) : (\n        <input\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-key\"\n          onChange={this.handleKeyChange}\n          required={true}\n          type=\"text\"\n          value={this.state.key}\n        />\n      )}\n    </div>\n  );\n\n  renderDescriptionField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"coding-rules-custom-rule-creation-html-description\">\n        {translate('description')} <em className=\"mandatory\">*</em>\n      </label>\n      <textarea\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-creation-html-description\"\n        onChange={this.handleDescriptionChange}\n        required={true}\n        rows={5}\n        value={this.state.description}\n      />\n      <MarkdownTips className=\"modal-field-descriptor text-right\" />\n    </div>\n  );\n\n  renderTypeOption = ({ value }: { value: T.RuleType }) => {\n    return <TypeHelper type={value} />;\n  };\n\n  renderTypeField = () => (\n    <div className=\"modal-field flex-1 spacer-right\">\n      <label htmlFor=\"coding-rules-custom-rule-type\">{translate('type')}</label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-type\"\n        onChange={this.handleTypeChange}\n        optionRenderer={this.renderTypeOption}\n        options={RULE_TYPES.map(type => ({\n          label: translate('issue.type', type),\n          value: type\n        }))}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={this.renderTypeOption}\n      />\n    </div>\n  );\n\n  renderSeverityOption = ({ value }: { value: string }) => <SeverityHelper severity={value} />;\n\n  renderSeverityField = () => (\n    <div className=\"modal-field flex-1 spacer-right\">\n      <label htmlFor=\"coding-rules-custom-rule-severity\">{translate('severity')}</label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-severity\"\n        onChange={this.handleSeverityChange}\n        optionRenderer={this.renderSeverityOption}\n        options={SEVERITIES.map(severity => ({\n          label: translate('severity', severity),\n          value: severity\n        }))}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={this.renderSeverityOption}\n      />\n    </div>\n  );\n\n  renderStatusField = () => (\n    <div className=\"modal-field flex-1\">\n      <label htmlFor=\"coding-rules-custom-rule-status\">\n        {translate('coding_rules.filters.status')}\n      </label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-status\"\n        onChange={this.handleStatusChange}\n        options={RULE_STATUSES.map(status => ({\n          label: translate('rules.status', status),\n          value: status\n        }))}\n        searchable={false}\n        value={this.state.status}\n      />\n    </div>\n  );\n\n  renderParameterField = (param: T.RuleParameter) => (\n    <div className=\"modal-field\" key={param.key}>\n      <label className=\"capitalize\" htmlFor={param.key}>\n        {param.key}\n      </label>\n\n      {param.type === 'TEXT' ? (\n        <textarea\n          disabled={this.state.submitting}\n          id={param.key}\n          name={param.key}\n          onChange={this.handleParameterChange}\n          placeholder={param.defaultValue}\n          rows={3}\n          value={this.state.params[param.key] || ''}\n        />\n      ) : (\n        <input\n          disabled={this.state.submitting}\n          id={param.key}\n          name={param.key}\n          onChange={this.handleParameterChange}\n          placeholder={param.defaultValue}\n          type=\"text\"\n          value={this.state.params[param.key] || ''}\n        />\n      )}\n      <div\n        className=\"modal-field-description\"\n        dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n      />\n    </div>\n  );\n\n  renderSubmitButton = () => {\n    if (this.state.reactivating) {\n      return (\n        <SubmitButton\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-reactivate\">\n          {translate('coding_rules.reactivate')}\n        </SubmitButton>\n      );\n    } else {\n      return (\n        <SubmitButton\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-create\">\n          {translate(this.props.customRule ? 'save' : 'create')}\n        </SubmitButton>\n      );\n    }\n  };\n\n  render() {\n    const { customRule, templateRule } = this.props;\n    const { reactivating, submitting } = this.state;\n    const { params = [] } = templateRule;\n    const header = translate(\n      customRule ? 'coding_rules.update_custom_rule' : 'coding_rules.create_custom_rule'\n    );\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <div className=\"modal-body modal-container\">\n            {reactivating && (\n              <Alert variant=\"warning\">{translate('coding_rules.reactivate.help')}</Alert>\n            )}\n\n            {this.renderNameField()}\n            {this.renderKeyField()}\n            <div className=\"display-flex-space-between\">\n              {/* do not allow to change the type of existing rule */}\n              {!customRule && this.renderTypeField()}\n              {this.renderSeverityField()}\n              {this.renderStatusField()}\n            </div>\n            {this.renderDescriptionField()}\n            {params.map(this.renderParameterField)}\n          </div>\n\n          <div className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            {this.renderSubmitButton()}\n            <ResetButtonLink\n              disabled={submitting}\n              id=\"coding-rules-custom-rule-creation-cancel\"\n              onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </div>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleFormModal from './CustomRuleFormModal';\n\ninterface Props {\n  children: (props: { onClick: () => void }) => React.ReactNode;\n  customRule?: T.RuleDetails;\n  onDone: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: T.RuleDetails;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class CustomRuleButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleModalClose = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  handleDone = (newRuleDetails: T.RuleDetails) => {\n    this.handleModalClose();\n    this.props.onDone(newRuleDetails);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({ onClick: this.handleClick })}\n        {this.state.modal && (\n          <CustomRuleFormModal\n            customRule={this.props.customRule}\n            onClose={this.handleModalClose}\n            onDone={this.handleDone}\n            organization={this.props.organization}\n            templateRule={this.props.templateRule}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { sortBy } from 'lodash';\nimport CustomRuleButton from './CustomRuleButton';\nimport { searchRules, deleteRule } from '../../../api/rules';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getRuleUrl } from '../../../helpers/urls';\n\ninterface Props {\n  canChange?: boolean;\n  organization: string | undefined;\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n  rules?: T.Rule[];\n}\n\nexport default class RuleDetailsCustomRules extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRules();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchRules();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRules = () => {\n    this.setState({ loading: true });\n    searchRules({\n      f: 'name,severity,params',\n      organization: this.props.organization,\n      template_key: this.props.ruleDetails.key\n    }).then(\n      ({ rules }) => {\n        if (this.mounted) {\n          this.setState({ rules, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleRuleCreate = (newRuleDetails: T.RuleDetails) => {\n    if (this.mounted) {\n      this.setState(({ rules = [] }: State) => ({\n        rules: [...rules, newRuleDetails]\n      }));\n    }\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    return deleteRule({ key: ruleKey, organization: this.props.organization }).then(() => {\n      if (this.mounted) {\n        this.setState(({ rules = [] }) => ({\n          rules: rules.filter(rule => rule.key !== ruleKey)\n        }));\n      }\n    });\n  };\n\n  renderRule = (rule: T.Rule) => (\n    <tr data-rule={rule.key} key={rule.key}>\n      <td className=\"coding-rules-detail-list-name\">\n        <Link to={getRuleUrl(rule.key, this.props.organization)}>{rule.name}</Link>\n      </td>\n\n      <td className=\"coding-rules-detail-list-severity\">\n        <SeverityHelper className=\"display-flex-center\" severity={rule.severity} />\n      </td>\n\n      <td className=\"coding-rules-detail-list-parameters\">\n        {rule.params &&\n          rule.params.filter(param => param.defaultValue).map(param => (\n            <div className=\"coding-rules-detail-list-parameter\" key={param.key}>\n              <span className=\"key\">{param.key}</span>\n              <span className=\"sep\">:&nbsp;</span>\n              <span className=\"value\" title={param.defaultValue}>\n                {param.defaultValue}\n              </span>\n            </div>\n          ))}\n      </td>\n\n      {this.props.canChange && (\n        <td className=\"coding-rules-detail-list-actions\">\n          <ConfirmButton\n            confirmButtonText={translate('delete')}\n            confirmData={rule.key}\n            isDestructive={true}\n            modalBody={translateWithParameters('coding_rules.delete.custom.confirm', rule.name)}\n            modalHeader={translate('coding_rules.delete_rule')}\n            onConfirm={this.handleRuleDelete}>\n            {({ onClick }) => (\n              <Button className=\"button-red js-delete-custom-rule\" onClick={onClick}>\n                {translate('delete')}\n              </Button>\n            )}\n          </ConfirmButton>\n        </td>\n      )}\n    </tr>\n  );\n\n  render() {\n    const { loading, rules = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-custom-rules coding-rule-section\">\n        <div className=\"coding-rules-detail-custom-rules-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.custom_rules')}</h3>\n\n          {this.props.canChange && (\n            <CustomRuleButton\n              onDone={this.handleRuleCreate}\n              organization={this.props.organization}\n              templateRule={this.props.ruleDetails}>\n              {({ onClick }) => (\n                <Button className=\"js-create-custom-rule spacer-left\" onClick={onClick}>\n                  {translate('coding_rules.create')}\n                </Button>\n              )}\n            </CustomRuleButton>\n          )}\n\n          <DeferredSpinner className=\"spacer-left\" loading={loading}>\n            {rules.length > 0 && (\n              <table className=\"coding-rules-detail-list\" id=\"coding-rules-detail-custom-rules\">\n                <tbody>{sortBy(rules, rule => rule.name).map(this.renderRule)}</tbody>\n              </table>\n            )}\n          </DeferredSpinner>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { getFacet } from '../../../api/issues';\nimport { getIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate } from '../../../helpers/l10n';\nimport { withAppState } from '../../../components/hoc/withAppState';\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  organization: string | undefined;\n  ruleDetails: Pick<T.RuleDetails, 'key' | 'type'>;\n}\n\ninterface Project {\n  count: number;\n  key: string;\n  name: string;\n}\n\ninterface State {\n  loading: boolean;\n  projects?: Project[];\n  total?: number;\n}\n\nexport class RuleDetailsIssues extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIssues();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails !== this.props.ruleDetails) {\n      this.fetchIssues();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getBaseIssuesQuery = () => ({\n    resolved: 'false',\n    rules: this.props.ruleDetails.key,\n    types:\n      this.props.ruleDetails.type === 'SECURITY_HOTSPOT'\n        ? ['VULNERABILITY', 'SECURITY_HOTSPOT'].join()\n        : undefined\n  });\n\n  fetchIssues = () => {\n    this.setState({ loading: true });\n    getFacet(\n      { ...this.getBaseIssuesQuery(), organization: this.props.organization },\n      'projects'\n    ).then(\n      ({ facet, response }) => {\n        if (this.mounted) {\n          const { components = [], paging } = response;\n          const projects = [];\n          for (const item of facet) {\n            const project = components.find(component => component.key === item.val);\n            if (project) {\n              projects.push({ count: item.count, key: project.key, name: project.name });\n            }\n          }\n          this.setState({ projects, loading: false, total: paging.total });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderTotal = () => {\n    const { total } = this.state;\n    if (total === undefined) {\n      return null;\n    }\n    const path = getIssuesUrl(this.getBaseIssuesQuery(), this.props.organization);\n\n    const totalItem = (\n      <span className=\"little-spacer-left\">\n        {'('}\n        <Link to={path}>{total}</Link>\n        {')'}\n      </span>\n    );\n\n    if (!this.props.appState.branchesEnabled) {\n      return totalItem;\n    }\n\n    return (\n      <Tooltip overlay={translate('coding_rules.issues.only_main_branches')}>{totalItem}</Tooltip>\n    );\n  };\n\n  renderProject = (project: Project) => {\n    const path = getIssuesUrl(\n      { ...this.getBaseIssuesQuery(), projects: project.key },\n      this.props.organization\n    );\n    return (\n      <tr key={project.key}>\n        <td className=\"coding-rules-detail-list-name\">{project.name}</td>\n        <td className=\"coding-rules-detail-list-parameters\">\n          <Link to={path}>{formatMeasure(project.count, 'INT')}</Link>\n        </td>\n      </tr>\n    );\n  };\n\n  render() {\n    const { loading, projects = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-issues coding-rule-section\">\n        <div className=\"coding-rule-section-separator\" />\n\n        <DeferredSpinner loading={loading}>\n          <h3 className=\"coding-rules-detail-title\">\n            {translate('coding_rules.issues')}\n            {this.renderTotal()}\n          </h3>\n\n          {projects.length > 0 && (\n            <table className=\"coding-rules-detail-list coding-rules-most-violated-projects\">\n              <tbody>\n                <tr>\n                  <td className=\"coding-rules-detail-list-name\" colSpan={2}>\n                    {translate('coding_rules.most_violating_projects')}\n                  </td>\n                </tr>\n                {projects.map(this.renderProject)}\n              </tbody>\n            </table>\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n\nexport default withAppState(RuleDetailsIssues);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  params: T.RuleParameter[];\n}\n\nexport default class RuleDetailsParameters extends React.PureComponent<Props> {\n  renderParameter = (param: T.RuleParameter) => (\n    <tr className=\"coding-rules-detail-parameter\" key={param.key}>\n      <td className=\"coding-rules-detail-parameter-name\">{param.key}</td>\n      <td className=\"coding-rules-detail-parameter-description\">\n        <p dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }} />\n        {param.defaultValue !== undefined && (\n          <div className=\"note spacer-top\">\n            {translate('coding_rules.parameters.default_value')}\n            <br />\n            <span className=\"coding-rules-detail-parameter-value\">{param.defaultValue}</span>\n          </div>\n        )}\n      </td>\n    </tr>\n  );\n\n  render() {\n    return (\n      <div className=\"js-rule-parameters\">\n        <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.parameters')}</h3>\n        <table className=\"coding-rules-detail-parameters\">\n          <tbody>{this.props.params.map(this.renderParameter)}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationFormModal from './ActivationFormModal';\nimport { Profile as BaseProfile } from '../../../api/quality-profiles';\nimport { Button } from '../../../components/ui/buttons';\n\ninterface Props {\n  activation?: T.RuleActivation;\n  buttonText: string;\n  className?: string;\n  modalHeader: string;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: BaseProfile[];\n  rule: T.Rule | T.RuleDetails;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ActivationButton extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Button\n          className={this.props.className}\n          id=\"coding-rules-quality-profile-activate\"\n          onClick={this.handleButtonClick}>\n          {this.props.buttonText}\n        </Button>\n\n        {this.state.modal && (\n          <ActivationFormModal\n            activation={this.props.activation}\n            modalHeader={this.props.modalHeader}\n            onClose={this.handleCloseModal}\n            onDone={this.props.onDone}\n            organization={this.props.organization}\n            profiles={this.props.profiles}\n            rule={this.props.rule}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as theme from '../../../app/theme';\n\ninterface Props {\n  className?: string;\n  inheritance: T.RuleInheritance;\n}\n\nexport default function RuleInheritanceIcon({ className, inheritance, ...other }: Props) {\n  const fill = inheritance === 'OVERRIDES' ? theme.red : theme.baseFontColor;\n\n  return (\n    <svg\n      className={className}\n      height={16}\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={16}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      {...other}>\n      <path\n        d=\"M6.25 12.5a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm0-9a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm5 1a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm.75 0a1.5 1.5 0 0 1-.75 1.297c-.023 2.82-2.023 3.445-3.352 3.867-1.242.39-1.648.578-1.648 1.336v.203A1.5 1.5 0 1 1 4 12.5a1.5 1.5 0 0 1 .75-1.297V4.797A1.5 1.5 0 1 1 7 3.5a1.5 1.5 0 0 1-.75 1.297V8.68c.398-.196.82-.328 1.203-.446 1.453-.46 2.281-.804 2.297-2.437A1.5 1.5 0 1 1 12 4.5z\"\n        style={{ fill, fillRule: 'nonzero' }}\n      />\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { filter } from 'lodash';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport { Profile, deactivateRule, activateRule } from '../../../api/quality-profiles';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport BuiltInQualityProfileBadge from '../../quality-profiles/components/BuiltInQualityProfileBadge';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { getQualityProfileUrl } from '../../../helpers/urls';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  activations: T.RuleActivation[] | undefined;\n  canWrite: boolean | undefined;\n  onActivate: () => Promise<void>;\n  onDeactivate: () => Promise<void>;\n  organization: string | undefined;\n  referencedProfiles: { [profile: string]: Profile };\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RuleDetailsProfiles extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchProfiles();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchProfiles();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchProfiles = () => this.setState({ loading: true });\n\n  handleActivate = () => this.props.onActivate();\n\n  handleDeactivate = (key?: string) => {\n    if (key) {\n      deactivateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key\n      }).then(this.props.onDeactivate, () => {});\n    }\n  };\n\n  handleRevert = (key?: string) => {\n    if (key) {\n      activateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key,\n        reset: true\n      }).then(this.props.onActivate, () => {});\n    }\n  };\n\n  renderInheritedProfile = (activation: T.RuleActivation, profile: Profile) => {\n    if (!profile.parentName) {\n      return null;\n    }\n    const profilePath = getQualityProfileUrl(\n      profile.parentName,\n      profile.language,\n      this.props.organization\n    );\n    return (\n      <div className=\"coding-rules-detail-quality-profile-inheritance\">\n        {(activation.inherit === 'OVERRIDES' || activation.inherit === 'INHERITED') && (\n          <>\n            <RuleInheritanceIcon className=\"text-middle\" inheritance={activation.inherit} />\n            <Link className=\"link-base-color little-spacer-left text-middle\" to={profilePath}>\n              {profile.parentName}\n            </Link>\n          </>\n        )}\n      </div>\n    );\n  };\n\n  renderSeverity = (activation: T.RuleActivation, parentActivation?: T.RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-severity\">\n      <Tooltip overlay={translate('coding_rules.activation_severity')}>\n        <span>\n          <SeverityHelper className=\"display-inline-flex-center\" severity={activation.severity} />\n        </span>\n      </Tooltip>\n      {parentActivation !== undefined &&\n        activation.severity !== parentActivation.severity && (\n          <div className=\"coding-rules-detail-quality-profile-inheritance\">\n            {translate('coding_rules.original')} {translate('severity', parentActivation.severity)}\n          </div>\n        )}\n    </td>\n  );\n\n  renderParameter = (\n    param: { key: string; value: string },\n    parentActivation?: T.RuleActivation\n  ) => {\n    const originalParam =\n      parentActivation && parentActivation.params.find(p => p.key === param.key);\n    const originalValue = originalParam && originalParam.value;\n\n    return (\n      <div className=\"coding-rules-detail-quality-profile-parameter\" key={param.key}>\n        <span className=\"key\">{param.key}</span>\n        <span className=\"sep\">{': '}</span>\n        <span className=\"value\" title={param.value}>\n          {param.value}\n        </span>\n        {parentActivation &&\n          param.value !== originalValue && (\n            <div className=\"coding-rules-detail-quality-profile-inheritance\">\n              {translate('coding_rules.original')} <span className=\"value\">{originalValue}</span>\n            </div>\n          )}\n      </div>\n    );\n  };\n\n  renderParameters = (activation: T.RuleActivation, parentActivation?: T.RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-parameters\">\n      {activation.params.map(param => this.renderParameter(param, parentActivation))}\n    </td>\n  );\n\n  renderActions = (activation: T.RuleActivation, profile: Profile) => {\n    const canEdit = profile.actions && profile.actions.edit && !profile.isBuiltIn;\n    const { ruleDetails } = this.props;\n    const hasParent = activation.inherit !== 'NONE' && profile.parentKey;\n    return (\n      <td className=\"coding-rules-detail-quality-profile-actions\">\n        {canEdit && (\n          <>\n            {!ruleDetails.isTemplate && (\n              <ActivationButton\n                activation={activation}\n                buttonText={translate('change_verb')}\n                className=\"coding-rules-detail-quality-profile-change\"\n                modalHeader={translate('coding_rules.change_details')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[profile]}\n                rule={ruleDetails}\n              />\n            )}\n            {hasParent ? (\n              activation.inherit === 'OVERRIDES' &&\n              profile.parentName && (\n                <ConfirmButton\n                  confirmButtonText={translate('yes')}\n                  confirmData={profile.key}\n                  modalBody={translateWithParameters(\n                    'coding_rules.revert_to_parent_definition.confirm',\n                    profile.parentName\n                  )}\n                  modalHeader={translate('coding_rules.revert_to_parent_definition')}\n                  onConfirm={this.handleRevert}>\n                  {({ onClick }) => (\n                    <Button\n                      className=\"coding-rules-detail-quality-profile-revert button-red spacer-left\"\n                      onClick={onClick}>\n                      {translate('coding_rules.revert_to_parent_definition')}\n                    </Button>\n                  )}\n                </ConfirmButton>\n              )\n            ) : (\n              <ConfirmButton\n                confirmButtonText={translate('yes')}\n                confirmData={profile.key}\n                modalBody={translate('coding_rules.deactivate.confirm')}\n                modalHeader={translate('coding_rules.deactivate')}\n                onConfirm={this.handleDeactivate}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"coding-rules-detail-quality-profile-deactivate button-red spacer-left\"\n                    onClick={onClick}>\n                    {translate('coding_rules.deactivate')}\n                  </Button>\n                )}\n              </ConfirmButton>\n            )}\n          </>\n        )}\n      </td>\n    );\n  };\n\n  renderActivation = (activation: T.RuleActivation) => {\n    const { activations = [], ruleDetails } = this.props;\n    const profile = this.props.referencedProfiles[activation.qProfile];\n    if (!profile) {\n      return null;\n    }\n\n    const parentActivation = activations.find(x => x.qProfile === profile.parentKey);\n\n    return (\n      <tr data-profile={profile.key} key={profile.key}>\n        <td className=\"coding-rules-detail-quality-profile-name\">\n          <Link to={getQualityProfileUrl(profile.name, profile.language, this.props.organization)}>\n            {profile.name}\n          </Link>\n          {profile.isBuiltIn && <BuiltInQualityProfileBadge className=\"spacer-left\" />}\n          {this.renderInheritedProfile(activation, profile)}\n        </td>\n\n        {this.renderSeverity(activation, parentActivation)}\n        {!ruleDetails.templateKey && this.renderParameters(activation, parentActivation)}\n        {this.renderActions(activation, profile)}\n      </tr>\n    );\n  };\n\n  render() {\n    const { activations = [], referencedProfiles, ruleDetails } = this.props;\n    const canActivate = Object.values(referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit && profile.language === ruleDetails.lang)\n    );\n\n    return (\n      <div className=\"js-rule-profiles coding-rule-section\">\n        <div className=\"coding-rules-detail-quality-profiles-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">\n            <InstanceMessage message={translate('coding_rules.quality_profiles')} />\n          </h3>\n\n          {canActivate && (\n            <ActivationButton\n              buttonText={translate('coding_rules.activate')}\n              className=\"coding-rules-quality-profile-activate spacer-left\"\n              modalHeader={translate('coding_rules.activate_in_quality_profile')}\n              onDone={this.handleActivate}\n              organization={this.props.organization}\n              profiles={filter(\n                this.props.referencedProfiles,\n                profile => !activations.find(activation => activation.qProfile === profile.key)\n              )}\n              rule={ruleDetails}\n            />\n          )}\n\n          {activations.length > 0 && (\n            <table\n              className=\"coding-rules-detail-quality-profiles width-100\"\n              id=\"coding-rules-detail-quality-profiles\">\n              <tbody>{activations.map(this.renderActivation)}</tbody>\n            </table>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleButton from './CustomRuleButton';\nimport RuleDetailsCustomRules from './RuleDetailsCustomRules';\nimport RuleDetailsDescription from './RuleDetailsDescription';\nimport RuleDetailsIssues from './RuleDetailsIssues';\nimport RuleDetailsMeta from './RuleDetailsMeta';\nimport RuleDetailsParameters from './RuleDetailsParameters';\nimport RuleDetailsProfiles from './RuleDetailsProfiles';\nimport { Query, Activation } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport { getRuleDetails, deleteRule, updateRule } from '../../../api/rules';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  allowCustomRules?: boolean;\n  canWrite?: boolean;\n  hideQualityProfiles?: boolean;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onDelete: (rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  organization: string | undefined;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  ruleKey: string;\n  selectedProfile?: Profile;\n}\n\ninterface State {\n  actives?: T.RuleActivation[];\n  loading: boolean;\n  ruleDetails?: T.RuleDetails;\n}\n\nexport default class RuleDetails extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({ loading: true });\n    this.fetchRuleDetails();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleKey !== this.props.ruleKey) {\n      this.setState({ loading: true });\n      this.fetchRuleDetails();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRuleDetails = () =>\n    getRuleDetails({\n      actives: true,\n      key: this.props.ruleKey,\n      organization: this.props.organization\n    }).then(\n      ({ actives, rule }) => {\n        if (this.mounted) {\n          this.setState({ actives, loading: false, ruleDetails: rule });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n\n  handleRuleChange = (ruleDetails: T.RuleDetails) => {\n    if (this.mounted) {\n      this.setState({ ruleDetails });\n    }\n  };\n\n  handleTagsChange = (tags: string[]) => {\n    // optimistic update\n    const oldTags = this.state.ruleDetails && this.state.ruleDetails.tags;\n    this.setState(\n      state => (state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags } } : null)\n    );\n    updateRule({\n      key: this.props.ruleKey,\n      organization: this.props.organization,\n      tags: tags.join()\n    }).catch(() => {\n      if (this.mounted) {\n        this.setState(\n          state =>\n            state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags: oldTags } } : null\n        );\n      }\n    });\n  };\n\n  handleActivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        const active = this.state.actives.find(active => active.qProfile === selectedProfile.key);\n        if (active) {\n          this.props.onActivate(selectedProfile.key, ruleKey, active);\n        }\n      }\n    });\n\n  handleDeactivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        if (!this.state.actives.find(active => active.qProfile === selectedProfile.key)) {\n          this.props.onDeactivate(selectedProfile.key, ruleKey);\n        }\n      }\n    });\n\n  handleDelete = () =>\n    deleteRule({ key: this.props.ruleKey, organization: this.props.organization }).then(() =>\n      this.props.onDelete(this.props.ruleKey)\n    );\n\n  render() {\n    const { ruleDetails } = this.state;\n\n    if (!ruleDetails) {\n      return <div className=\"coding-rule-details\" />;\n    }\n\n    const {\n      allowCustomRules,\n      canWrite,\n      hideQualityProfiles,\n      organization,\n      referencedProfiles\n    } = this.props;\n    const { params = [] } = ruleDetails;\n\n    const isCustom = !!ruleDetails.templateKey;\n    const isEditable = canWrite && !!this.props.allowCustomRules && isCustom;\n\n    return (\n      <div className=\"coding-rule-details\">\n        <DeferredSpinner loading={this.state.loading}>\n          <RuleDetailsMeta\n            canWrite={canWrite}\n            onFilterChange={this.props.onFilterChange}\n            onTagsChange={this.handleTagsChange}\n            organization={organization}\n            referencedRepositories={this.props.referencedRepositories}\n            ruleDetails={ruleDetails}\n          />\n\n          <RuleDetailsDescription\n            canWrite={canWrite}\n            onChange={this.handleRuleChange}\n            organization={organization}\n            ruleDetails={ruleDetails}\n          />\n\n          {params.length > 0 && <RuleDetailsParameters params={params} />}\n\n          {isEditable && (\n            <div className=\"coding-rules-detail-description display-flex-center\">\n              {/* `templateRule` is used to get rule meta data, `customRule` is used to get parameter values */}\n              {/* it's expected to pass the same rule to both parameters */}\n              <CustomRuleButton\n                customRule={ruleDetails}\n                onDone={this.handleRuleChange}\n                organization={organization}\n                templateRule={ruleDetails}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"js-edit-custom\"\n                    id=\"coding-rules-detail-custom-rule-change\"\n                    onClick={onClick}>\n                    {translate('edit')}\n                  </Button>\n                )}\n              </CustomRuleButton>\n              <ConfirmButton\n                confirmButtonText={translate('delete')}\n                isDestructive={true}\n                modalBody={translateWithParameters(\n                  'coding_rules.delete.custom.confirm',\n                  ruleDetails.name\n                )}\n                modalHeader={translate('coding_rules.delete_rule')}\n                onConfirm={this.handleDelete}>\n                {({ onClick }) => (\n                  <>\n                    <Button\n                      className=\"button-red spacer-left js-delete\"\n                      id=\"coding-rules-detail-rule-delete\"\n                      onClick={onClick}>\n                      {translate('delete')}\n                    </Button>\n                    <DocTooltip\n                      className=\"spacer-left\"\n                      doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rule-removal.md')}\n                    />\n                  </>\n                )}\n              </ConfirmButton>\n            </div>\n          )}\n\n          {ruleDetails.isTemplate && (\n            <RuleDetailsCustomRules\n              canChange={allowCustomRules && canWrite}\n              organization={organization}\n              ruleDetails={ruleDetails}\n            />\n          )}\n\n          {!ruleDetails.isTemplate &&\n            !hideQualityProfiles && (\n              <RuleDetailsProfiles\n                activations={this.state.actives}\n                canWrite={canWrite}\n                onActivate={this.handleActivate}\n                onDeactivate={this.handleDeactivate}\n                organization={organization}\n                referencedProfiles={referencedProfiles}\n                ruleDetails={ruleDetails}\n              />\n            )}\n\n          {!ruleDetails.isTemplate && (\n            <RuleDetailsIssues organization={organization} ruleDetails={ruleDetails} />\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport SimilarRulesFilter from './SimilarRulesFilter';\nimport { Activation, Query } from '../query';\nimport { Profile, deactivateRule } from '../../../api/quality-profiles';\nimport { Button } from '../../../components/ui/buttons';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport SeverityIcon from '../../../components/icons-components/SeverityIcon';\nimport TagsList from '../../../components/tags/TagsList';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getRuleUrl } from '../../../helpers/urls';\n\ninterface Props {\n  activation?: Activation;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onOpen: (ruleKey: string) => void;\n  organization: string | undefined;\n  rule: T.Rule;\n  selected: boolean;\n  selectedProfile?: Profile;\n}\n\nexport default class RuleListItem extends React.PureComponent<Props> {\n  handleDeactivate = () => {\n    if (this.props.selectedProfile) {\n      const data = {\n        key: this.props.selectedProfile.key,\n        organization: this.props.organization,\n        rule: this.props.rule.key\n      };\n      deactivateRule(data).then(() => this.props.onDeactivate(data.key, data.rule), () => {});\n    }\n  };\n\n  handleActivate = (severity: string) => {\n    if (this.props.selectedProfile) {\n      this.props.onActivate(this.props.selectedProfile.key, this.props.rule.key, {\n        severity,\n        inherit: 'NONE'\n      });\n    }\n    return Promise.resolve();\n  };\n\n  handleNameClick = (event: React.MouseEvent) => {\n    // cmd(ctrl) + click should open a rule permalink in a new tab\n    const isLeftClickEvent = event.button === 0;\n    const isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n    if (isModifiedEvent || !isLeftClickEvent) {\n      return;\n    }\n\n    event.preventDefault();\n    this.props.onOpen(this.props.rule.key);\n  };\n\n  renderActivation = () => {\n    const { activation, selectedProfile } = this.props;\n    if (!activation) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation\">\n        <SeverityIcon severity={activation.severity} />\n        {selectedProfile &&\n          selectedProfile.parentName && (\n            <>\n              {activation.inherit === 'OVERRIDES' && (\n                <Tooltip\n                  overlay={translateWithParameters(\n                    'coding_rules.overrides',\n                    selectedProfile.name,\n                    selectedProfile.parentName\n                  )}>\n                  <RuleInheritanceIcon\n                    className=\"little-spacer-left\"\n                    inheritance={activation.inherit}\n                  />\n                </Tooltip>\n              )}\n              {activation.inherit === 'INHERITED' && (\n                <Tooltip\n                  overlay={translateWithParameters(\n                    'coding_rules.inherits',\n                    selectedProfile.name,\n                    selectedProfile.parentName\n                  )}>\n                  <RuleInheritanceIcon\n                    className=\"little-spacer-left\"\n                    inheritance={activation.inherit}\n                  />\n                </Tooltip>\n              )}\n            </>\n          )}\n      </td>\n    );\n  };\n\n  renderActions = () => {\n    const { activation, rule, selectedProfile } = this.props;\n    if (!selectedProfile) {\n      return null;\n    }\n\n    const canEdit = selectedProfile.actions && selectedProfile.actions.edit;\n    if (!canEdit || selectedProfile.isBuiltIn) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation-actions\">\n        {activation\n          ? this.renderDeactivateButton(activation.inherit)\n          : !rule.isTemplate && (\n              <ActivationButton\n                buttonText={translate('coding_rules.activate')}\n                className=\"coding-rules-detail-quality-profile-activate\"\n                modalHeader={translate('coding_rules.activate_in_quality_profile')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[selectedProfile]}\n                rule={rule}\n              />\n            )}\n      </td>\n    );\n  };\n\n  renderDeactivateButton = (inherit: string) => {\n    return inherit === 'NONE' ? (\n      <ConfirmButton\n        confirmButtonText={translate('yes')}\n        modalBody={translate('coding_rules.deactivate.confirm')}\n        modalHeader={translate('coding_rules.deactivate')}\n        onConfirm={this.handleDeactivate}>\n        {({ onClick }) => (\n          <Button\n            className=\"coding-rules-detail-quality-profile-deactivate button-red\"\n            onClick={onClick}>\n            {translate('coding_rules.deactivate')}\n          </Button>\n        )}\n      </ConfirmButton>\n    ) : (\n      <Tooltip overlay={translate('coding_rules.can_not_deactivate')}>\n        <Button className=\"coding-rules-detail-quality-profile-deactivate button-red disabled\">\n          {translate('coding_rules.deactivate')}\n        </Button>\n      </Tooltip>\n    );\n  };\n\n  render() {\n    const { rule, selected } = this.props;\n    const allTags = [...(rule.tags || []), ...(rule.sysTags || [])];\n    return (\n      <div className={classNames('coding-rule', { selected })} data-rule={rule.key}>\n        <table className=\"coding-rule-table\">\n          <tbody>\n            <tr>\n              {this.renderActivation()}\n\n              <td>\n                <div className=\"coding-rule-title\">\n                  <Link\n                    className=\"link-no-underline\"\n                    onClick={this.handleNameClick}\n                    to={getRuleUrl(rule.key, this.props.organization)}>\n                    {rule.name}\n                  </Link>\n                  {rule.isTemplate && (\n                    <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n                      <span className=\"outline-badge spacer-left\">\n                        {translate('coding_rules.rule_template')}\n                      </span>\n                    </Tooltip>\n                  )}\n                </div>\n              </td>\n\n              <td className=\"coding-rule-table-meta-cell\">\n                <div className=\"display-flex-center coding-rule-meta\">\n                  {rule.status !== 'READY' && (\n                    <span className=\"spacer-left badge badge-normal-size badge-tiny-height badge-danger-light\">\n                      {translate('rules.status', rule.status)}\n                    </span>\n                  )}\n                  <span className=\"spacer-left note\">{rule.langName}</span>\n                  <Tooltip overlay={translate('coding_rules.type.tooltip', rule.type)}>\n                    <span className=\"display-inline-flex-center spacer-left note\">\n                      <IssueTypeIcon className=\"little-spacer-right\" query={rule.type} />\n                      {translate('issue.type', rule.type)}\n                    </span>\n                  </Tooltip>\n                  {allTags.length > 0 && (\n                    <TagsList allowUpdate={false} className=\"note spacer-left\" tags={allTags} />\n                  )}\n                  <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={rule} />\n                </div>\n              </td>\n\n              {this.renderActions()}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport * as key from 'keymaster';\nimport { keyBy } from 'lodash';\nimport BulkChange from './BulkChange';\nimport FacetsList from './FacetsList';\nimport PageActions from './PageActions';\nimport RuleDetails from './RuleDetails';\nimport RuleListItem from './RuleListItem';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport {\n  Facets,\n  Query,\n  parseQuery,\n  serializeQuery,\n  areQueriesEqual,\n  shouldRequestFacet,\n  FacetKey,\n  OpenFacets,\n  getServerFacet,\n  getAppFacet,\n  Actives,\n  Activation,\n  getOpen\n} from '../query';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { searchRules, getRulesApp } from '../../../api/rules';\nimport { searchQualityProfiles, Profile } from '../../../api/quality-profiles';\nimport {\n  getCurrentUser,\n  getLanguages,\n  getMyOrganizations,\n  Store,\n  getAppState\n} from '../../../store/rootReducer';\nimport { translate } from '../../../helpers/l10n';\nimport { hasPrivateAccess } from '../../../helpers/organizations';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from '../../../helpers/pages';\nimport { RawQuery } from '../../../helpers/query';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport '../../../components/search-navigator.css';\nimport '../styles.css';\n\nconst PAGE_SIZE = 100;\nconst LIMIT_BEFORE_LOAD_MORE = 5;\n\ninterface StateToProps {\n  appState: T.AppState;\n  currentUser: T.CurrentUser;\n  languages: T.Languages;\n  userOrganizations: T.Organization[];\n}\n\ninterface OwnProps extends WithRouterProps {\n  organization: T.Organization | undefined;\n}\n\ntype Props = OwnProps & StateToProps;\n\ninterface State {\n  actives?: Actives;\n  canWrite?: boolean;\n  facets?: Facets;\n  loading: boolean;\n  openFacets: OpenFacets;\n  openRule?: T.Rule;\n  paging?: T.Paging;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  rules: T.Rule[];\n  selected?: string;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loading: true,\n      openFacets: { languages: true, types: true },\n      query: parseQuery(props.location.query),\n      referencedProfiles: {},\n      referencedRepositories: {},\n      rules: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchInitialData();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    this.setState(({ rules, selected }) => {\n      const openRule = this.getOpenRule(nextProps, rules);\n      return {\n        openRule,\n        query: parseQuery(nextProps.location.query),\n        selected: openRule ? openRule.key : selected\n      };\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (!areQueriesEqual(prevProps.location.query, this.props.location.query)) {\n      this.fetchFirstRules();\n    }\n    if (\n      !this.state.openRule &&\n      (prevState.selected !== this.state.selected || prevState.openRule)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedRule();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    key.setScope('coding-rules');\n    key('up', 'coding-rules', () => {\n      this.selectPreviousRule();\n      return false;\n    });\n    key('down', 'coding-rules', () => {\n      this.selectNextRule();\n      return false;\n    });\n    key('right', 'coding-rules', () => {\n      this.openSelectedRule();\n      return false;\n    });\n    key('left', 'coding-rules', () => {\n      this.closeRule();\n      return false;\n    });\n  };\n\n  detachShortcuts = () => key.deleteScope('coding-rules');\n\n  getOpenRule = (props: Props, rules: T.Rule[]) => {\n    const open = getOpen(props.location.query);\n    return open && rules.find(rule => rule.key === open);\n  };\n\n  getFacetsToFetch = () =>\n    Object.keys(this.state.openFacets)\n      .filter((facet: FacetKey) => this.state.openFacets[facet])\n      .filter((facet: FacetKey) => shouldRequestFacet(facet))\n      .map((facet: FacetKey) => getServerFacet(facet));\n\n  getFieldsToFetch = () => {\n    const fields = [\n      'isTemplate',\n      'name',\n      'lang',\n      'langName',\n      'severity',\n      'status',\n      'sysTags',\n      'tags',\n      'templateKey'\n    ];\n    if (this.state.query.profile) {\n      fields.push('actives', 'params');\n    }\n    return fields;\n  };\n\n  getSearchParameters = () => ({\n    f: this.getFieldsToFetch().join(),\n    facets: this.getFacetsToFetch().join(),\n    organization: this.props.organization && this.props.organization.key,\n    ps: PAGE_SIZE,\n    s: 'name',\n    ...serializeQuery(this.state.query)\n  });\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  fetchInitialData = () => {\n    this.setState({ loading: true });\n    const organization = this.props.organization && this.props.organization.key;\n    Promise.all([getRulesApp({ organization }), this.fetchQualityProfiles()]).then(\n      ([{ canWrite, repositories }, { profiles }]) => {\n        this.setState({\n          canWrite,\n          referencedProfiles: keyBy(profiles, 'key'),\n          referencedRepositories: keyBy(repositories, 'key')\n        });\n        this.fetchFirstRules();\n      },\n      this.stopLoading\n    );\n  };\n\n  makeFetchRequest = (query?: RawQuery) =>\n    searchRules({ ...this.getSearchParameters(), ...query }).then(\n      ({ actives: rawActives, facets: rawFacets, p, ps, rules, total }) => {\n        const actives = rawActives && parseActives(rawActives);\n        const facets = rawFacets && parseFacets(rawFacets);\n        const paging = { pageIndex: p, pageSize: ps, total };\n        return { actives, facets, paging, rules };\n      }\n    );\n\n  fetchFirstRules = (query?: RawQuery) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest(query).then(({ actives, facets, paging, rules }) => {\n      if (this.mounted) {\n        const openRule = this.getOpenRule(this.props, rules);\n        const selected = rules.length > 0 ? (openRule && openRule.key) || rules[0].key : undefined;\n        this.setState({ actives, facets, loading: false, openRule, paging, rules, selected });\n      }\n    }, this.stopLoading);\n  };\n\n  fetchMoreRules = () => {\n    const { paging } = this.state;\n    if (paging) {\n      this.setState({ loading: true });\n      const nextPage = paging.pageIndex + 1;\n      this.makeFetchRequest({ p: nextPage, facets: undefined }).then(\n        ({ actives, paging, rules }) => {\n          if (this.mounted) {\n            this.setState((state: State) => ({\n              actives: { ...state.actives, ...actives },\n              loading: false,\n              paging,\n              rules: [...state.rules, ...rules]\n            }));\n          }\n        },\n        this.stopLoading\n      );\n    }\n  };\n\n  fetchFacet = (facet: FacetKey) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest({ ps: 1, facets: getServerFacet(facet) }).then(({ facets }) => {\n      if (this.mounted) {\n        this.setState(state => ({ facets: { ...state.facets, ...facets }, loading: false }));\n      }\n    }, this.stopLoading);\n  };\n\n  fetchQualityProfiles = () => {\n    const { currentUser, organization, userOrganizations } = this.props;\n    if (hasPrivateAccess(currentUser, organization, userOrganizations)) {\n      return searchQualityProfiles({ organization: organization && organization.key });\n    }\n    return { profiles: [] };\n  };\n\n  getSelectedIndex = ({ selected, rules } = this.state) => {\n    const index = rules.findIndex(rule => rule.key === selected);\n    return index !== -1 ? index : undefined;\n  };\n\n  selectNextRule = () => {\n    const { rules, loading, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined) {\n      if (\n        selectedIndex > rules.length - LIMIT_BEFORE_LOAD_MORE &&\n        !loading &&\n        paging &&\n        rules.length < paging.total\n      ) {\n        this.fetchMoreRules();\n      }\n      if (rules && selectedIndex < rules.length - 1) {\n        if (this.state.openRule) {\n          this.openRule(rules[selectedIndex + 1].key);\n        } else {\n          this.setState({ selected: rules[selectedIndex + 1].key });\n        }\n      }\n    }\n  };\n\n  selectPreviousRule = () => {\n    const { rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (rules && selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openRule) {\n        this.openRule(rules[selectedIndex - 1].key);\n      } else {\n        this.setState({ selected: rules[selectedIndex - 1].key });\n      }\n    }\n  };\n\n  getRulePath = (rule: string) => ({\n    pathname: this.props.location.pathname,\n    query: { ...serializeQuery(this.state.query), open: rule }\n  });\n\n  openRule = (rule: string) => {\n    const path = this.getRulePath(rule);\n    if (this.state.openRule) {\n      this.props.router.replace(path);\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  openSelectedRule = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openRule(selected);\n    }\n  };\n\n  closeRule = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        open: undefined\n      }\n    });\n    this.scrollToSelectedRule(false);\n  };\n\n  scrollToSelectedRule = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-rule=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 150, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  getRuleActivation = (rule: string) => {\n    const { actives, query } = this.state;\n    if (actives && actives[rule] && query.profile) {\n      return actives[rule][query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  getSelectedProfile = () => {\n    const { query, referencedProfiles } = this.state;\n    if (query.profile) {\n      return referencedProfiles[query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  closeFacet = (facet: string) =>\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: false }\n    }));\n\n  handleRuleOpen = (ruleKey: string) => {\n    this.props.router.push(this.getRulePath(ruleKey));\n  };\n\n  handleBack = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.closeRule();\n  };\n\n  handleFilterChange = (changes: Partial<Query>) =>\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: serializeQuery({ ...this.state.query, ...changes })\n    });\n\n  handleFacetToggle = (facet: keyof Query) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: !state.openFacets[facet] }\n    }));\n    if (shouldRequestFacet(facet) && (!this.state.facets || !this.state.facets[facet])) {\n      this.fetchFacet(facet);\n    }\n  };\n\n  handleReload = () => this.fetchFirstRules();\n\n  handleReset = () => this.props.router.push({ pathname: this.props.location.pathname });\n\n  /** Tries to take rule by index, or takes the last one  */\n  pickRuleAround = (rules: T.Rule[], selectedIndex: number | undefined) => {\n    if (selectedIndex === undefined || rules.length === 0) {\n      return undefined;\n    }\n    if (selectedIndex >= 0 && selectedIndex < rules.length) {\n      return rules[selectedIndex].key;\n    }\n    return rules[rules.length - 1].key;\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    if (this.state.query.ruleKey === ruleKey) {\n      this.handleReset();\n    } else {\n      this.setState(state => {\n        const rules = state.rules.filter(rule => rule.key !== ruleKey);\n        const selectedIndex = this.getSelectedIndex(state);\n        const selected = this.pickRuleAround(rules, selectedIndex);\n        return { rules, selected };\n      });\n      this.closeRule();\n    }\n  };\n\n  handleRuleActivate = (profile: string, rule: string, activation: Activation) =>\n    this.setState((state: State) => {\n      const { actives = {} } = state;\n      if (!actives[rule]) {\n        return { actives: { ...actives, [rule]: { [profile]: activation } } };\n      }\n\n      return { actives: { ...actives, [rule]: { ...actives[rule], [profile]: activation } } };\n    });\n\n  handleRuleDeactivate = (profile: string, rule: string) =>\n    this.setState(state => {\n      const { actives } = state;\n      if (actives && actives[rule]) {\n        const newRule = { ...actives[rule] };\n        delete newRule[profile];\n        return { actives: { ...actives, [rule]: newRule } };\n      }\n      return null;\n    });\n\n  handleSearch = (searchQuery: string) => this.handleFilterChange({ searchQuery });\n\n  isFiltered = () => Object.keys(serializeQuery(this.state.query)).length > 0;\n\n  render() {\n    const { paging, rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const organization = this.props.organization && this.props.organization.key;\n    const hideQualityProfiles = !hasPrivateAccess(\n      this.props.currentUser,\n      this.props.organization,\n      this.props.userOrganizations\n    );\n    return (\n      <>\n        <Suggestions suggestions=\"coding_rules\" />\n        <Helmet title={translate('coding_rules.page')}>\n          <meta content=\"noindex\" name=\"robots\" />\n        </Helmet>\n        <div className=\"layout-page\" id=\"coding-rules-page\">\n          <ScreenPositionHelper className=\"layout-page-side-outer\">\n            {({ top }) => (\n              <div className=\"layout-page-side\" style={{ top }}>\n                <div className=\"layout-page-side-inner\">\n                  <div className=\"layout-page-filters\">\n                    <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n                    <SearchBox\n                      className=\"spacer-bottom\"\n                      id=\"coding-rules-search\"\n                      minLength={2}\n                      onChange={this.handleSearch}\n                      placeholder={translate('search.search_for_rules')}\n                      value={this.state.query.searchQuery || ''}\n                    />\n                    <FacetsList\n                      facets={this.state.facets}\n                      hideProfileFacet={hideQualityProfiles}\n                      onFacetToggle={this.handleFacetToggle}\n                      onFilterChange={this.handleFilterChange}\n                      openFacets={this.state.openFacets}\n                      organization={organization}\n                      organizationsEnabled={this.props.appState.organizationsEnabled}\n                      query={this.state.query}\n                      referencedProfiles={this.state.referencedProfiles}\n                      referencedRepositories={this.state.referencedRepositories}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n          </ScreenPositionHelper>\n\n          <div className=\"layout-page-main\">\n            <div className=\"layout-page-header-panel layout-page-main-header\">\n              <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n                <div className=\"layout-page-main-inner\">\n                  {this.state.openRule ? (\n                    <a className=\"js-back\" href=\"#\" onClick={this.handleBack}>\n                      {translate('coding_rules.return_to_list')}\n                    </a>\n                  ) : (\n                    this.state.paging && (\n                      <BulkChange\n                        languages={this.props.languages}\n                        organization={organization}\n                        query={this.state.query}\n                        referencedProfiles={this.state.referencedProfiles}\n                        total={this.state.paging.total}\n                      />\n                    )\n                  )}\n                  <PageActions\n                    loading={this.state.loading}\n                    onReload={this.handleReload}\n                    paging={paging}\n                    selectedIndex={selectedIndex}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"layout-page-main-inner\">\n              {this.state.openRule ? (\n                <RuleDetails\n                  allowCustomRules={!this.props.appState.organizationsEnabled}\n                  canWrite={this.state.canWrite}\n                  hideQualityProfiles={hideQualityProfiles}\n                  onActivate={this.handleRuleActivate}\n                  onDeactivate={this.handleRuleDeactivate}\n                  onDelete={this.handleRuleDelete}\n                  onFilterChange={this.handleFilterChange}\n                  organization={organization}\n                  referencedProfiles={this.state.referencedProfiles}\n                  referencedRepositories={this.state.referencedRepositories}\n                  ruleKey={this.state.openRule.key}\n                  selectedProfile={this.getSelectedProfile()}\n                />\n              ) : (\n                <>\n                  {rules.map(rule => (\n                    <RuleListItem\n                      activation={this.getRuleActivation(rule.key)}\n                      key={rule.key}\n                      onActivate={this.handleRuleActivate}\n                      onDeactivate={this.handleRuleDeactivate}\n                      onFilterChange={this.handleFilterChange}\n                      onOpen={this.handleRuleOpen}\n                      organization={organization}\n                      rule={rule}\n                      selected={rule.key === this.state.selected}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  ))}\n                  {paging !== undefined && (\n                    <ListFooter\n                      count={rules.length}\n                      loadMore={this.fetchMoreRules}\n                      ready={!this.state.loading}\n                      total={paging.total}\n                    />\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nfunction parseActives(rawActives: { [rule: string]: T.RuleActivation[] }) {\n  const actives: Actives = {};\n  for (const [rule, activations] of Object.entries(rawActives)) {\n    actives[rule] = {};\n    for (const { inherit, qProfile, severity } of activations) {\n      actives[rule][qProfile] = { inherit, severity };\n    }\n  }\n  return actives;\n}\n\nfunction parseFacets(rawFacets: { property: string; values: { count: number; val: string }[] }[]) {\n  const facets: Facets = {};\n  for (const rawFacet of rawFacets) {\n    const values: { [value: string]: number } = {};\n    for (const rawValue of rawFacet.values) {\n      values[rawValue.val] = rawValue.count;\n    }\n    facets[getAppFacet(rawFacet.property)] = values;\n  }\n  return facets;\n}\n\nconst mapStateToProps = (state: Store) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state),\n  languages: getLanguages(state),\n  userOrganizations: getMyOrganizations(state)\n});\n\nexport default withRouter(connect(mapStateToProps)(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal, { ModalProps } from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props extends ModalProps {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    const { children, header, onClose, onSubmit, ...modalProps } = this.props;\n    return (\n      <Modal contentLabel={header} onRequestClose={onClose} {...modalProps}>\n        {children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName(WrappedComponent: React.ComponentType, hocName: string) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nconst CLASS_SIDEBAR_PAGE = 'sidebar-page';\nconst CLASS_WHITE_PAGE = 'white-page';\n\nexport function addSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\n\nexport function addWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\n\nexport function removeSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\n\nexport function removeWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\n\nfunction toggleBodyClass(className: string, force?: boolean) {\n  document.body.classList.toggle(className, force);\n  if (document.documentElement) {\n    document.documentElement.classList.toggle(className, force);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport { csvEscape } from '../helpers/csv';\nimport {\n  request,\n  checkStatus,\n  parseJSON,\n  getJSON,\n  post,\n  postJSON,\n  RequestData\n} from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ProfileActions {\n  associateProjects?: boolean;\n  copy?: boolean;\n  delete?: boolean;\n  edit?: boolean;\n  setAsDefault?: boolean;\n}\n\nexport interface Actions {\n  create?: boolean;\n}\n\nexport interface Profile {\n  actions?: ProfileActions;\n  key: string;\n  name: string;\n  language: string;\n  languageName: string;\n  isInherited?: boolean;\n  parentKey?: string;\n  parentName?: string;\n  isDefault?: boolean;\n  activeRuleCount: number;\n  activeDeprecatedRuleCount: number;\n  rulesUpdatedAt?: string;\n  lastUsed?: string;\n  userUpdatedAt?: string;\n  organization: string;\n  isBuiltIn?: boolean;\n  projectCount?: number;\n}\n\nexport interface SearchQualityProfilesParameters {\n  defaults?: boolean;\n  language?: string;\n  organization?: string;\n  project?: string;\n  qualityProfile?: string;\n}\n\nexport interface SearchQualityProfilesResponse {\n  actions?: Actions;\n  profiles: Profile[];\n}\n\nexport function searchQualityProfiles(\n  parameters: SearchQualityProfilesParameters\n): Promise<SearchQualityProfilesResponse> {\n  return getJSON('/api/qualityprofiles/search', parameters).catch(throwGlobalError);\n}\n\nexport function getQualityProfile(data: {\n  compareToSonarWay?: boolean;\n  profile: string;\n}): Promise<any> {\n  return getJSON('/api/qualityprofiles/show', data);\n}\n\nexport function createQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/create')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(throwGlobalError);\n}\n\nexport function restoreQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/restore')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(throwGlobalError);\n}\n\nexport interface ProfileProject {\n  id: number;\n  key: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getProfileProjects(\n  data: RequestData\n): Promise<{ more: boolean; paging: T.Paging; results: ProfileProject[] }> {\n  return getJSON('/api/qualityprofiles/projects', data).catch(throwGlobalError);\n}\n\nexport function getProfileInheritance(profileKey: string): Promise<any> {\n  return getJSON('/api/qualityprofiles/inheritance', { profileKey }).catch(throwGlobalError);\n}\n\nexport function setDefaultProfile(profileKey: string): Promise<void> {\n  return post('/api/qualityprofiles/set_default', { profileKey });\n}\n\nexport function renameProfile(key: string, name: string) {\n  return post('/api/qualityprofiles/rename', { key, name }).catch(throwGlobalError);\n}\n\nexport function copyProfile(fromKey: string, toName: string): Promise<any> {\n  return postJSON('/api/qualityprofiles/copy', { fromKey, toName }).catch(throwGlobalError);\n}\n\nexport function deleteProfile(profileKey: string) {\n  return post('/api/qualityprofiles/delete', { profileKey }).catch(throwGlobalError);\n}\n\nexport function changeProfileParent(profileKey: string, parentKey: string) {\n  return post('/api/qualityprofiles/change_parent', { profileKey, parentKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getImporters(): Promise<\n  Array<{ key: string; languages: Array<string>; name: string }>\n> {\n  return getJSON('/api/qualityprofiles/importers').then(r => r.importers, throwGlobalError);\n}\n\nexport function getExporters(): Promise<any> {\n  return getJSON('/api/qualityprofiles/exporters').then(r => r.exporters);\n}\n\nexport function getProfileChangelog(data: RequestData): Promise<any> {\n  return getJSON('/api/qualityprofiles/changelog', data);\n}\n\nexport interface CompareResponse {\n  left: { name: string };\n  right: { name: string };\n  inLeft: Array<{ key: string; name: string; severity: string }>;\n  inRight: Array<{ key: string; name: string; severity: string }>;\n  modified: Array<{\n    key: string;\n    name: string;\n    left: { params: { [p: string]: string }; severity: string };\n    right: { params: { [p: string]: string }; severity: string };\n  }>;\n}\n\nexport function compareProfiles(leftKey: string, rightKey: string): Promise<CompareResponse> {\n  return getJSON('/api/qualityprofiles/compare', { leftKey, rightKey });\n}\n\nexport function associateProject(key: string, project: string) {\n  return post('/api/qualityprofiles/add_project', { key, project }).catch(throwGlobalError);\n}\n\nexport function dissociateProject(key: string, project: string) {\n  return post('/api/qualityprofiles/remove_project', { key, project }).catch(throwGlobalError);\n}\n\nexport interface SearchUsersGroupsParameters {\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n  q?: string;\n  selected?: 'all' | 'selected' | 'deselected';\n}\n\nexport interface SearchUsersResponse {\n  users: Array<{\n    avatar?: string;\n    login: string;\n    name: string;\n    selected?: boolean;\n  }>;\n  paging: T.Paging;\n}\n\nexport function searchUsers(parameters: SearchUsersGroupsParameters): Promise<SearchUsersResponse> {\n  return getJSON('/api/qualityprofiles/search_users', parameters).catch(throwGlobalError);\n}\n\nexport interface SearchGroupsResponse {\n  groups: Array<{ name: string }>;\n  paging: T.Paging;\n}\n\nexport function searchGroups(\n  parameters: SearchUsersGroupsParameters\n): Promise<SearchGroupsResponse> {\n  return getJSON('/api/qualityprofiles/search_groups', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveUserParameters {\n  language: string;\n  login: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_user', parameters).catch(throwGlobalError);\n}\n\nexport function removeUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_user', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveGroupParameters {\n  group: string;\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_group', parameters).catch(throwGlobalError);\n}\n\nexport function removeGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_group', parameters).catch(throwGlobalError);\n}\n\nexport interface BulkActivateParameters {\n  activation?: boolean;\n  active_severities?: string;\n  asc?: boolean;\n  available_since?: string;\n  compareToProfile?: string;\n  inheritance?: string;\n  is_template?: string;\n  languages?: string;\n  organization: string | undefined;\n  q?: string;\n  qprofile?: string;\n  repositories?: string;\n  rule_key?: string;\n  s?: string;\n  severities?: string;\n  statuses?: string;\n  tags?: string;\n  targetKey: string;\n  targetSeverity?: string;\n  template_key?: string;\n  types?: string;\n}\n\nexport function bulkActivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/activate_rules', data);\n}\n\nexport function bulkDeactivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/deactivate_rules', data);\n}\n\nexport function activateRule(data: {\n  key: string;\n  organization: string | undefined;\n  params?: { [key: string]: string };\n  reset?: boolean;\n  rule: string;\n  severity?: string;\n}) {\n  const params =\n    data.params && map(data.params, (value, key) => `${key}=${csvEscape(value)}`).join(';');\n  return post('/api/qualityprofiles/activate_rule', { ...data, params }).catch(throwGlobalError);\n}\n\nexport function deactivateRule(data: {\n  key: string;\n  organization: string | undefined;\n  rule: string;\n}) {\n  return post('/api/qualityprofiles/deactivate_rule', data).catch(throwGlobalError);\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ModalProps } from './Modal';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { SubmitButton, ResetButtonLink } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\nexport interface ConfirmModalProps<T> extends ModalProps {\n  cancelButtonText?: string;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  isDestructive?: boolean;\n  onConfirm: (data?: T) => void | Promise<void | Response>;\n}\n\ninterface Props<T> extends ConfirmModalProps<T> {\n  header: string;\n  headerDescription?: React.ReactNode;\n  onClose: () => void;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {});\n    } else {\n      this.props.onClose();\n      return undefined;\n    }\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const {\n      children,\n      confirmButtonText,\n      confirmDisable,\n      header,\n      headerDescription,\n      isDestructive,\n      cancelButtonText = translate('cancel')\n    } = this.props;\n    return (\n      <form onSubmit={onFormSubmit}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n          {headerDescription}\n        </header>\n        <div className=\"modal-body\">{children}</div>\n        <footer className=\"modal-foot\">\n          <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n          <SubmitButton\n            autoFocus={true}\n            className={isDestructive ? 'button-red' : undefined}\n            disabled={submitting || confirmDisable}>\n            {confirmButtonText}\n          </SubmitButton>\n          <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n            {cancelButtonText}\n          </ResetButtonLink>\n        </footer>\n      </form>\n    );\n  };\n\n  render() {\n    const { header, onClose, noBackdrop, size } = this.props;\n    const modalProps = { header, onClose, noBackdrop, size };\n    return (\n      <SimpleModal onSubmit={this.handleSubmit} {...modalProps}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConfirmModal, { ConfirmModalProps } from './ConfirmModal';\nimport ModalButton, { ChildrenProps, ModalProps } from './ModalButton';\n\ninterface Props<T> extends ConfirmModalProps<T> {\n  children: (props: ChildrenProps) => React.ReactNode;\n  modalBody: React.ReactNode;\n  modalHeader: string;\n  modalHeaderDescription?: React.ReactNode;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ConfirmButton<T> extends React.PureComponent<Props<T>, State> {\n  renderConfirmModal = ({ onClose }: ModalProps) => {\n    const {\n      children,\n      modalBody,\n      modalHeader,\n      modalHeaderDescription,\n      ...confirmModalProps\n    } = this.props;\n    return (\n      <ConfirmModal\n        header={modalHeader}\n        headerDescription={modalHeaderDescription}\n        onClose={onClose}\n        {...confirmModalProps}>\n        {modalBody}\n      </ConfirmModal>\n    );\n  };\n\n  render() {\n    return <ModalButton modal={this.renderConfirmModal}>{this.props.children}</ModalButton>;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface ChildrenProps {\n  onClick: () => void;\n  onFormSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n}\n\nexport interface ModalProps {\n  onClose: () => void;\n}\n\nexport interface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  modal: (props: ModalProps) => React.ReactNode;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ModalButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleFormSubmit = (event?: React.FormEvent<HTMLFormElement>) => {\n    if (event) {\n      event.preventDefault();\n    }\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({\n          onClick: this.handleButtonClick,\n          onFormSubmit: this.handleFormSubmit\n        })}\n        {this.state.modal && this.props.modal({ onClose: this.handleCloseModal })}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: { [rule: string]: T.RuleActivation[] };\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: T.Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    error => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (error && error.response && error.response.status === 409) {\n        return Promise.reject(error.response);\n      } else {\n        return throwGlobalError(error);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function csvEscape(value: string): string {\n  const escaped = value.replace(/\"/g, '\\\\\"');\n  return `\"${escaped}\"`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from '../icons-components/OpenCloseIcon';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { Button } from '../ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  clearLabel?: string;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge badge-secondary is-rounded text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate(this.props.clearLabel || 'clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function FacetItemsList(props: Props) {\n  return <div className=\"search-navigator-facet-list\">{props.children}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/*\n * Latinize string by removing all diacritics\n * From http://stackoverflow.com/questions/990904/javascript-remove-accents-in-strings\n */\nconst defaultDiacriticsRemovalap = [\n  {\n    base: 'A',\n    letters:\n      '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'\n  },\n  {\n    base: 'AA',\n    letters: '\\uA732'\n  },\n  {\n    base: 'AE',\n    letters: '\\u00C6\\u01FC\\u01E2'\n  },\n  {\n    base: 'AO',\n    letters: '\\uA734'\n  },\n  {\n    base: 'AU',\n    letters: '\\uA736'\n  },\n  {\n    base: 'AV',\n    letters: '\\uA738\\uA73A'\n  },\n  {\n    base: 'AY',\n    letters: '\\uA73C'\n  },\n  {\n    base: 'B',\n    letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'\n  },\n  {\n    base: 'C',\n    letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'\n  },\n  {\n    base: 'D',\n    letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'\n  },\n  {\n    base: 'DZ',\n    letters: '\\u01F1\\u01C4'\n  },\n  {\n    base: 'Dz',\n    letters: '\\u01F2\\u01C5'\n  },\n  {\n    base: 'E',\n    letters:\n      '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'\n  },\n  {\n    base: 'F',\n    letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'\n  },\n  {\n    base: 'G',\n    letters:\n      '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'\n  },\n  {\n    base: 'H',\n    letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'\n  },\n  {\n    base: 'I',\n    letters:\n      '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'\n  },\n  {\n    base: 'J',\n    letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248'\n  },\n  {\n    base: 'K',\n    letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'\n  },\n  {\n    base: 'L',\n    letters:\n      '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'\n  },\n  {\n    base: 'LJ',\n    letters: '\\u01C7'\n  },\n  {\n    base: 'Lj',\n    letters: '\\u01C8'\n  },\n  {\n    base: 'M',\n    letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'\n  },\n  {\n    base: 'N',\n    letters:\n      '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'\n  },\n  {\n    base: 'NJ',\n    letters: '\\u01CA'\n  },\n  {\n    base: 'Nj',\n    letters: '\\u01CB'\n  },\n  {\n    base: 'O',\n    letters:\n      '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'\n  },\n  {\n    base: 'OI',\n    letters: '\\u01A2'\n  },\n  {\n    base: 'OO',\n    letters: '\\uA74E'\n  },\n  {\n    base: 'OU',\n    letters: '\\u0222'\n  },\n  {\n    base: 'OE',\n    letters: '\\u008C\\u0152'\n  },\n  {\n    base: 'oe',\n    letters: '\\u009C\\u0153'\n  },\n  {\n    base: 'P',\n    letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'\n  },\n  {\n    base: 'Q',\n    letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'\n  },\n  {\n    base: 'R',\n    letters:\n      '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'\n  },\n  {\n    base: 'S',\n    letters:\n      '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'\n  },\n  {\n    base: 'T',\n    letters:\n      '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'\n  },\n  {\n    base: 'TZ',\n    letters: '\\uA728'\n  },\n  {\n    base: 'U',\n    letters:\n      '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'\n  },\n  {\n    base: 'V',\n    letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'\n  },\n  {\n    base: 'VY',\n    letters: '\\uA760'\n  },\n  {\n    base: 'W',\n    letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'\n  },\n  {\n    base: 'X',\n    letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'\n  },\n  {\n    base: 'Y',\n    letters:\n      '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'\n  },\n  {\n    base: 'Z',\n    letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'\n  },\n  {\n    base: 'a',\n    letters:\n      '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'\n  },\n  {\n    base: 'aa',\n    letters: '\\uA733'\n  },\n  {\n    base: 'ae',\n    letters: '\\u00E6\\u01FD\\u01E3'\n  },\n  {\n    base: 'ao',\n    letters: '\\uA735'\n  },\n  {\n    base: 'au',\n    letters: '\\uA737'\n  },\n  {\n    base: 'av',\n    letters: '\\uA739\\uA73B'\n  },\n  {\n    base: 'ay',\n    letters: '\\uA73D'\n  },\n  {\n    base: 'b',\n    letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'\n  },\n  {\n    base: 'c',\n    letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'\n  },\n  {\n    base: 'd',\n    letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'\n  },\n  {\n    base: 'dz',\n    letters: '\\u01F3\\u01C6'\n  },\n  {\n    base: 'e',\n    letters:\n      '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'\n  },\n  {\n    base: 'f',\n    letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'\n  },\n  {\n    base: 'g',\n    letters:\n      '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'\n  },\n  {\n    base: 'h',\n    letters:\n      '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'\n  },\n  {\n    base: 'hv',\n    letters: '\\u0195'\n  },\n  {\n    base: 'i',\n    letters:\n      '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'\n  },\n  {\n    base: 'j',\n    letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'\n  },\n  {\n    base: 'k',\n    letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'\n  },\n  {\n    base: 'l',\n    letters:\n      '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'\n  },\n  {\n    base: 'lj',\n    letters: '\\u01C9'\n  },\n  {\n    base: 'm',\n    letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'\n  },\n  {\n    base: 'n',\n    letters:\n      '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'\n  },\n  {\n    base: 'nj',\n    letters: '\\u01CC'\n  },\n  {\n    base: 'o',\n    letters:\n      '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'\n  },\n  {\n    base: 'oi',\n    letters: '\\u01A3'\n  },\n  {\n    base: 'ou',\n    letters: '\\u0223'\n  },\n  {\n    base: 'oo',\n    letters: '\\uA74F'\n  },\n  {\n    base: 'p',\n    letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'\n  },\n  {\n    base: 'q',\n    letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'\n  },\n  {\n    base: 'r',\n    letters:\n      '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'\n  },\n  {\n    base: 's',\n    letters:\n      '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'\n  },\n  {\n    base: 't',\n    letters:\n      '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'\n  },\n  {\n    base: 'tz',\n    letters: '\\uA729'\n  },\n  {\n    base: 'u',\n    letters:\n      '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'\n  },\n  {\n    base: 'v',\n    letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'\n  },\n  {\n    base: 'vy',\n    letters: '\\uA761'\n  },\n  {\n    base: 'w',\n    letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'\n  },\n  {\n    base: 'x',\n    letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'\n  },\n  {\n    base: 'y',\n    letters:\n      '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'\n  },\n  {\n    base: 'z',\n    letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'\n  }\n];\n\nconst diacriticsMap: { [x: string]: string } = {};\ndefaultDiacriticsRemovalap.forEach(defaultDiacritic =>\n  defaultDiacritic.letters.split('').forEach(letter => {\n    diacriticsMap[letter] = defaultDiacritic.base;\n  })\n);\n\n// \"what?\" version ... http://jsperf.com/diacritics/12\nexport function latinize(str: string): string {\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/[^\\u0000-\\u007E]/g, a => diacriticsMap[a] || a);\n}\n\n// Inspired from https://github.com/SonarSource/sonar-enterprise/blob/master/sonar-core/src/main/java/org/sonar/core/util/Slug.java\nexport function slugify(text: string) {\n  return latinize(text.trim().toLowerCase())\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w-]+/g, '-') // Replace all non-word chars with dash\n    .replace(/\\s+/g, '-') // Replace whitespaces with dash\n    .replace(/[·/_,:;]/g, '-') // Replace special chars with dash\n    .replace(/--+/g, '-') // Replace multiple dash with single dash\n    .replace(/^-+/, '') // Remove heading dash\n    .replace(/-+$/, ''); // Remove trailing dash\n}\n\nexport function decodeJwt(token: string) {\n  const segments = token.split('.');\n  const base64Url = segments.length > 1 ? segments[1] : segments[0];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  return JSON.parse(window.atob(base64));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightcon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...props }: Props) {\n  return open ? <ChevronDownIcon {...props} /> : <ChevronRightIcon {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess &&\n          allShown && (\n            <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n              {translate('show_less')}\n            </a>\n          )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\nimport { Alert } from '../ui/Alert';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport ListFooter from '../controls/ListFooter';\nimport SearchBox from '../controls/SearchBox';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\nimport { queriesEqual, RawQuery } from '../../helpers/query';\nimport { translate } from '../../helpers/l10n';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<{ [x: string]: number }>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: { [x: string]: string | string[] }) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: { [x: string]: number } | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: { [key: string]: number };\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else this.props.onChange({ [this.props.property]: [] });\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(Object.keys(stats), key => -stats[key], key => this.props.getFacetItemText(key));\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\">⋯</div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults &&\n          this.state.showFullList && (\n            <Alert className=\"spacer-top\" variant=\"warning\">\n              {translate('facet_might_have_more_results')}\n            </Alert>\n          )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open &&\n          !disabled && (\n            <>\n              {this.renderSearch()}\n              {showList ? this.renderList() : this.renderSearchResults()}\n              <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n            </>\n          )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getWrappedDisplayName } from './utils';\nimport { Store, getAppState } from '../../store/rootReducer';\n\nexport function withAppState<P>(\n  WrappedComponent: React.ComponentClass<P & { appState: Partial<T.AppState> }>\n) {\n  class Wrapper extends React.Component<P & { appState: T.AppState }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withAppState');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { appState: getAppState(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport function highlightTerm(str: string, term: string) {\n  const pos = str.toLowerCase().indexOf(term.toLowerCase());\n  return pos !== -1 ? (\n    <>\n      {pos > 0 && str.substring(0, pos)}\n      <mark>{str.substr(pos, term.length)}</mark>\n      {pos + term.length < str.length && str.substring(pos + term.length)}\n    </>\n  ) : (\n    str\n  );\n}\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n/* TODO this file is HUGE and should be cut into smaller components */\\n\\n.search-navigator.sticky .search-navigator-workspace-header {\\n  position: fixed;\\n  z-index: 50;\\n  top: 0;\\n  left: 300px;\\n  right: 0;\\n}\\n\\n.search-navigator.sticky .search-navigator-workspace-list,\\n.search-navigator.sticky .search-navigator-workspace-details {\\n  padding-top: 43px;\\n}\\n\\n.search-navigator-facet-box {\\n  background-color: #f3f3f3;\\n  font-size: 13px;\\n}\\n\\n.search-navigator-facet-box.leak-facet-box {\\n  background-color: #fbf3d5;\\n  border: 1px solid #eae3c7;\\n}\\n\\n.search-navigator-facet-box.is-inner {\\n  margin-left: 8px;\\n  padding-left: 12px;\\n  border-left: 1px solid #e6e6e6;\\n}\\n\\n.search-navigator-facet-box.is-inner .search-navigator-facet-header {\\n  padding-top: 6px;\\n  padding-bottom: 6px;\\n}\\n\\n.leak-facet-box:not(.hidden) + .leak-facet-box {\\n  border-top: none;\\n}\\n\\n.search-navigator-facet-box-forbidden {\\n  background-color: transparent;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-list,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-empty,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-container {\\n  display: none;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  cursor: default;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box > .spinner {\\n  float: right;\\n  margin-top: -24px;\\n}\\n\\n.search-navigator-facet {\\n  position: relative;\\n  display: inline-flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  width: 100%;\\n  height: 24px;\\n  margin: 0 0 1px 0;\\n  padding: 0 6px;\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n  white-space: normal;\\n  opacity: 0.3;\\n  cursor: not-allowed;\\n  transition: none;\\n}\\n\\na.search-navigator-facet {\\n  opacity: 1;\\n  cursor: pointer;\\n}\\n\\na.search-navigator-facet .facet-name {\\n  color: #444;\\n}\\n\\na.search-navigator-facet:hover,\\na.search-navigator-facet:focus,\\n.search-navigator-facet.active {\\n  border-color: #4b9fd5;\\n}\\n\\n.search-navigator-facet.facet-category {\\n  opacity: 1;\\n  cursor: default;\\n}\\n\\n.search-navigator-facet.facet-category .facet-name {\\n  color: #777;\\n}\\n\\n.search-navigator-facet .facet-name {\\n  flex: 1 1 auto;\\n  min-width: 0;\\n  line-height: 16px;\\n  padding: 1px 0; /* needed to fit small ratings and levels */\\n  color: #777;\\n  font-size: 12px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.search-navigator-facet .facet-stat {\\n  display: flex;\\n  align-items: center;\\n  margin-left: 8px;\\n  color: #777;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-facet .facet-toggle {\\n  display: none;\\n  float: left;\\n  height: 16px;\\n  line-height: 16px;\\n  margin-top: -1px;\\n  padding: 0 5px;\\n  border-radius: 2px;\\n  font-size: 11px;\\n  text-transform: lowercase;\\n}\\n\\n.search-navigator-facet .facet-toggle:hover {\\n  color: #444;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-red {\\n  background-color: #d4333f;\\n  color: #ffffff;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-name {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat:before {\\n  background-image: linear-gradient(to right, rgba(251, 243, 213, 0), #fbf3d5 75%);\\n}\\n\\n.search-navigator-facet.active {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet.active .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-red {\\n  background-color: transparent;\\n  color: #777;\\n}\\n\\n.search-navigator-facet-half {\\n  width: 45%;\\n}\\n\\n.search-navigator-facet-half:nth-child(odd) {\\n  margin-right: 10%;\\n}\\n\\n.search-navigator-facet-highlight-under-container {\\n  margin-bottom: 1px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet {\\n  margin-bottom: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active {\\n  border-bottom: none;\\n  padding-bottom: 1px;\\n  border-radius: 2px 2px 0 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  border-top: none;\\n  border-bottom: none;\\n  border-left-color: #4b9fd5;\\n  border-right-color: #4b9fd5;\\n  border-radius: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet:last-of-type,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 0 0 2px 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet.active {\\n  border-top: 1px solid #4b9fd5;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet {\\n  background-color: #a1cde8;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  .facet-toggle,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-header {\\n  display: block;\\n  flex-shrink: 0;\\n  padding: 8px 0;\\n  color: #444;\\n  font-weight: 600;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-header > a {\\n  border-bottom: none;\\n  color: #444;\\n}\\n\\n.search-navigator-facet-header > a:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-header > .note {\\n  font-weight: 400;\\n}\\n\\n.search-navigator-facet-header-value {\\n  display: block;\\n  overflow: hidden;\\n}\\n\\n.search-navigator-facet-header-value > .badge {\\n  display: block;\\n}\\n\\n.search-navigator-facet-header-button {\\n  flex-shrink: 0;\\n  margin-left: auto;\\n}\\n\\n.search-navigator-facet-header-wrapper {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.search-navigator-facet-list {\\n  padding-bottom: 8px;\\n  font-size: 0;\\n}\\n\\n.search-navigator-facet-empty {\\n  margin: 0 0 0 0;\\n  padding: 0 10px 10px;\\n  color: #444;\\n  font-size: 12px;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-footer {\\n  display: block;\\n  padding-bottom: 8px;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-facet-container {\\n  margin-top: 6px;\\n  padding: 0 10px 16px;\\n}\\n\\n.search-navigator-date-facet-selection {\\n  position: relative;\\n  padding-left: 8px;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-date-facet-selection:before,\\n.search-navigator-date-facet-selection:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-date-facet-selection:after {\\n  clear: both;\\n}\\n\\n.search-navigator-date-facet-selection .date-input-control-input {\\n  width: 115px !important;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-left {\\n  float: left;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-right {\\n  float: right;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-input-left {\\n  position: absolute;\\n  left: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection-input-right {\\n  position: absolute;\\n  right: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection\\n  .date-input-control:not(:nth-of-type(1))\\n  .date-input-calendar {\\n  left: auto;\\n  right: 0;\\n}\\n\\n.search-navigator-filters {\\n  position: relative;\\n  padding: 5px 10px;\\n  background-color: #f3f3f3;\\n}\\n\\n.search-navigator-filters:before,\\n.search-navigator-filters:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-filters:after {\\n  clear: both;\\n}\\n\\n.search-navigator-filters-header {\\n  margin-bottom: 12px;\\n  padding-bottom: 11px;\\n  border-bottom: 1px solid #e6e6e6;\\n}\\n.search-navigator-intro {\\n  width: 500px;\\n  margin: 0 auto;\\n  padding-top: 100px;\\n}\\n\", \"\"]);\n\n// exports\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  tooltip?: boolean;\n}\n\nexport default function BuiltInQualityProfileBadge({ className, tooltip = true }: Props) {\n  const badge = (\n    <div className={classNames('outline-badge', className)}>\n      {translate('quality_profiles.built_in')}\n    </div>\n  );\n\n  if (tooltip) {\n    return (\n      <DocTooltip\n        doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/quality-profiles/built-in-quality-profile.md')}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n  return badge;\n}\n","module.exports = \"Built-in profiles are provided directly by the language analyzers and may be updated with each new analyzer version. They represent best-practice, minimum rule sets.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Query } from '../query';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport { translate } from '../../../helpers/l10n';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport FilterIcon from '../../../components/icons-components/FilterIcon';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\n\ninterface Props {\n  onFilterChange: (changes: Partial<Query>) => void;\n  rule: T.Rule;\n}\n\nexport default class SimilarRulesFilter extends React.PureComponent<Props> {\n  handleLanguageClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.lang) {\n      this.props.onFilterChange({ languages: [this.props.rule.lang] });\n    }\n  };\n\n  handleTypeClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onFilterChange({ types: [this.props.rule.type] });\n  };\n\n  handleSeverityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.severity) {\n      this.props.onFilterChange({ severities: [this.props.rule.severity] });\n    }\n  };\n\n  handleTagClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { tag } = event.currentTarget.dataset;\n    if (tag) {\n      this.props.onFilterChange({ tags: [tag] });\n    }\n  };\n\n  render() {\n    const { rule } = this.props;\n    const { tags = [], sysTags = [], severity } = rule;\n    const allTags = [...tags, ...sysTags];\n\n    return (\n      <Dropdown\n        className=\"display-inline-block\"\n        overlay={\n          <>\n            <ul className=\"menu\">\n              <li className=\"menu-header\">{translate('coding_rules.filter_similar_rules')}</li>\n              <li>\n                <a data-field=\"language\" href=\"#\" onClick={this.handleLanguageClick}>\n                  {rule.langName}\n                </a>\n              </li>\n\n              <li>\n                <a data-field=\"type\" href=\"#\" onClick={this.handleTypeClick}>\n                  {translate('issue.type', rule.type)}\n                </a>\n              </li>\n\n              {severity && (\n                <li>\n                  <a data-field=\"severity\" href=\"#\" onClick={this.handleSeverityClick}>\n                    <SeverityHelper severity={rule.severity} />\n                  </a>\n                </li>\n              )}\n\n              {allTags.length > 0 && (\n                <>\n                  <li className=\"divider\" />\n                  {allTags.map(tag => (\n                    <li key={tag}>\n                      <a data-field=\"tag\" data-tag={tag} href=\"#\" onClick={this.handleTagClick}>\n                        <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                        <span className=\"text-middle\">{tag}</span>\n                      </a>\n                    </li>\n                  ))}\n                </>\n              )}\n            </ul>\n          </>\n        }>\n        <a\n          className=\"js-rule-filter link-no-underline spacer-left dropdown-toggle\"\n          href=\"#\"\n          title={translate('coding_rules.filter_similar_rules')}>\n          <FilterIcon className=\"icon-half-transparent\" />\n          <DropdownIcon className=\"icon-half-transparent\" />\n        </a>\n      </Dropdown>\n    );\n  }\n}\n"],"sourceRoot":""}
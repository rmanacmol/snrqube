{"version":3,"sources":["webpack:///./src/main/js/apps/permissions/project/components/ApplyTemplate.tsx","webpack:///./src/main/js/apps/projectsManagement/CreateProjectForm.tsx","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./src/main/js/apps/projectsManagement/ChangeDefaultVisibilityForm.tsx","webpack:///./src/main/js/apps/projectsManagement/Header.tsx","webpack:///./src/main/js/apps/projectsManagement/BulkApplyTemplateModal.tsx","webpack:///./src/main/js/apps/projectsManagement/DeleteModal.tsx","webpack:///./src/main/js/apps/projectsManagement/Search.tsx","webpack:///./src/main/js/apps/projectsManagement/RestoreAccessModal.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRowActions.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.tsx","webpack:///./src/main/js/apps/projectsManagement/Projects.tsx","webpack:///./src/main/js/apps/projectsManagement/App.tsx","webpack:///./src/main/js/apps/projectsManagement/AppContainer.tsx","webpack:///./src/main/js/components/hoc/utils.ts","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/helpers/almIntegrations.ts","webpack:///./node_modules/lodash/_baseInRange.js","webpack:///./node_modules/lodash/inRange.js","webpack:///./src/main/js/components/hoc/withCurrentUser.tsx","webpack:///./src/main/js/apps/create/organization/utils.ts","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/helpers/strings.ts","webpack:///./src/main/js/api/permissions.ts","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationAdvantages.tsx","webpack:///./src/main/js/components/icons-components/RecommendedIcon.tsx","webpack:///./src/main/js/components/controls/RadioCard.tsx","webpack:///./src/main/js/components/controls/RadioCard.css?7682","webpack:///./src/main/js/components/controls/RadioCard.css","webpack:///./src/main/js/api/billing.ts","webpack:///./src/main/js/api/nav.ts","webpack:///./src/main/js/apps/organizations/forSingleOrganization.tsx","webpack:///./src/main/js/components/icons-components/VisibleIcon.tsx","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./src/main/js/apps/create/components/BillingFormShim.tsx","webpack:///../sonar-docs/src/tooltips/project/visibility-private.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public.md","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationModal.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationBox.tsx","webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./src/main/js/components/intl/DateTooltipFormatter.tsx","webpack:///./node_modules/process/browser.js"],"names":["ApplyTemplate","_super","_this","apply","this","arguments","mounted","state","done","loading","fetchPermissionTemplates","Object","_api_permissions__WEBPACK_IMPORTED_MODULE_1__","props","organization","then","_a","permissionTemplates","setState","handleSubmit","permissionTemplate","projectKey","project","key","templateId","onApply","Promise","reject","undefined","handlePermissionTemplateChange","value","__extends","prototype","componentDidMount","componentWillUnmount","render","header","_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","name","react__WEBPACK_IMPORTED_MODULE_0__","_components_controls_SimpleModal__WEBPACK_IMPORTED_MODULE_3__","onClose","onSubmit","size","onCloseClick","onFormSubmit","submitting","id","className","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_7__","variant","htmlFor","_components_controls_Select__WEBPACK_IMPORTED_MODULE_4__","clearable","onChange","options","map","label","_components_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_5__","disabled","onClick","CreateProjectForm","call","handleInputChange","event","_b","currentTarget","handleVisibilityChange","visibility","handleFormSubmit","preventDefault","data","_api_components__WEBPACK_IMPORTED_MODULE_3__","response","createdProject","onProjectCreated","projectVisibility","componentDidUpdate","setImmediate","closeButton","focus","_components_controls_Modal__WEBPACK_IMPORTED_MODULE_6__","contentLabel","onRequestClose","_helpers_l10n__WEBPACK_IMPORTED_MODULE_8__","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_10__","react_intl__WEBPACK_IMPORTED_MODULE_2__","defaultMessage","values","react_router__WEBPACK_IMPORTED_MODULE_1__","to","_helpers_urls__WEBPACK_IMPORTED_MODULE_9__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_7__","innerRef","node","autoFocus","maxLength","required","type","_components_common_VisibilitySelector__WEBPACK_IMPORTED_MODULE_5__","canTurnToPrivate","canUpdateProjectsVisibilityToPrivate","actions","admin","_create_components_UpgradeOrganizationBox__WEBPACK_IMPORTED_MODULE_4__","insideModal","onOrganizationUpgrade","Function","Timeout","clearFn","_id","_clearFn","exports","setTimeout","window","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","__webpack_require__","clearImmediate","global","process","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","toString","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","Math","random","source","indexOf","slice","length","addEventListener","attachEvent","callback","args","Array","i","task","run","self","ChangeDefaultVisibilityForm","handleConfirmClick","onConfirm","handleVisibilityClick","blur","dataset","index_js_exposed","Modal","l10n","data-visibility","href","classnames","is-checked","style","paddingLeft","Alert","buttons","Header","visibilityForm","handleChangeVisibilityClick","closeVisiblityForm","Header_extends","system","hasProvisionPermission","onProjectCreate","projectsManagement_ChangeDefaultVisibilityForm","onVisibilityChange","BulkApplyTemplateModal","analyzedBefore","parameters","selection","projects","join","dates","onProvisionedOnly","provisioned","qualifiers","qualifier","q","query","permissions","renderWarning","total","renderSelect","Select","t","BulkApplyTemplateModal_extends","loadPermissionTemplates","DeleteModal","components","DeleteModal_extends","QUALIFIERS_ORDER","Search","bulkApplyTemplateModal","deleteModal","getQualifierOptions","topLevelQualifiers","sortBy_default","option","onCheck","checked","onAllSelected","onAllDeselected","handleDeleteClick","closeDeleteModal","handleDeleteConfirm","onDeleteProjects","handleBulkApplyTemplateClick","closeBulkApplyTemplateModal","handleQualifierChange","onQualifierChanged","onVisibilityChanged","renderCheckbox","isAllChecked","thirdState","Checkbox","renderQualifierOption","QualifierIcon","renderQualifierFilter","ready","optionRenderer","searchable","valueRenderer","renderVisibilityFilter","renderTypeFilter","onProvisionedChanged","HelpTooltip","overlay","renderDateFilter","DateInput","inputClassName","onDateChanged","placeholder","Search_extends","SearchBox","minLength","onSearch","projectsManagement_BulkApplyTemplateModal","projectsManagement_DeleteModal","RestoreAccessModal","all","grantPermission","onRestoreAccess","permission","login","currentUser","RestoreAccessModal_extends","index_es","browse","administer","ProjectRowActions","applyTemplateModal","restoreAccessModal","fetchPermissions","nav","component","navResponse","hasAccess","Boolean","configuration","showPermissions","handleDropdownOpen","handleApplyTemplateClick","handleApplyTemplateClose","handleRestoreAccessClick","handleRestoreAccessClose","handleRestoreAccessDone","ProjectRowActions_extends","ActionsDropdown","onOpen","urls","projectsManagement_RestoreAccessModal","ProjectRow","handleProjectCheck","onProjectCheck","ProjectRow_extends","selected","react_router_es","pathname","PrivacyBadgeContainer","tooltipProps","lastAnalysisDate","DateTooltipFormatter","date","projectsManagement_ProjectRowActions","Projects","onProjectSelected","onProjectDeselected","Projects_extends","new-loading","projectsManagement_ProjectRow","includes","PAGE_SIZE","App","requestProjects","p","page","ps","r","concat","paging","loadMore","newQualifier","newVisibility","handleDateChanged","uniq_default","without_default","openCreateProjectForm","createProjectForm","closeCreateProjectForm","debounce_default","App_extends","Suggestions","suggestions","Helmet_default","a","title","projectsManagement_Header","projectsManagement_Search","projectsManagement_Projects","ListFooter","count","AppContainer_AppContainer","AppContainer","handleOrganizationUpgrade","fetchOrganization","AppContainer_extends","appState","defaultOrganization","isDefault","projectsManagement_App","provision","__webpack_exports__","forSingleOrganization","es","ownProps","rootReducer","dispatch","rootActions","currentVisibility","organizations","__assign","catch","_onVisibilityChange","getWrappedDisplayName","WrappedComponent","hocName","displayName","d","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","e","bind","DocTooltip","open","content","default","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","children","getAlmMembersUrl","getUserAlmKey","hasAdvancedALMIntegration","isBitbucket","isGithub","isVSTS","isPersonal","sanitizeAlmId","_users__WEBPACK_IMPORTED_MODULE_0__","url","endsWith","replace","user","externalProvider","almKey","startsWith","personal","nativeMax","max","nativeMin","min","module","number","start","end","baseInRange","toFinite","toNumber","withCurrentUser","Wrapper","_utils__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","Step","ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP","ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP","BIND_ORGANIZATION_KEY","BIND_ORGANIZATION_REDIRECT_TO_ORG_TIMESTAMP","formatPrice","price","noSign","priceFormatted","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","parseQuery","lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default","urlQuery","almInstallId","_helpers_query__WEBPACK_IMPORTED_MODULE_3__","jwt","_helpers_strings__WEBPACK_IMPORTED_MODULE_5__","iss","serializeQuery","installation_id","_helpers_almIntegrations__WEBPACK_IMPORTED_MODULE_4__","clientKey","isPaidOrganization","hasPrivateAccess","isCurrentUserMemberOf","subscription","userOrganizations","some","org","latinize","slugify","decodeJwt","diacriticsMap","str","text","trim","toLowerCase","token","segments","split","base64","JSON","parse","atob","base","letters","forEach","defaultDiacritic","letter","grantPermissionToUser","revokePermissionFromUser","grantPermissionToGroup","revokePermissionFromGroup","getPermissionTemplates","createPermissionTemplate","updatePermissionTemplate","deletePermissionTemplate","setDefaultPermissionTemplate","applyTemplateToProject","bulkApplyTemplate","grantTemplatePermissionToUser","revokeTemplatePermissionFromUser","grantTemplatePermissionToGroup","revokeTemplatePermissionFromGroup","addProjectCreatorToTemplate","removeProjectCreatorFromTemplate","getPermissionsUsersForComponent","getPermissionsGroupsForComponent","getGlobalPermissionsUsers","getGlobalPermissionsGroups","getPermissionTemplateUsers","getPermissionTemplateGroups","changeProjectVisibility","changeProjectDefaultVisibility","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","assign","users","groups","UpgradeOrganizationAdvantages","_components_icons_components_CheckIcon__WEBPACK_IMPORTED_MODULE_1__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","_app_theme__WEBPACK_IMPORTED_MODULE_3__","TRIAL_DURATION_DAYS","Advantage","fill","RecommendedIcon","Icon","RadioCard_RadioCard","recommended","titleInfo","isActionable","aria-checked","radio-card-actionable","role","tabIndex","hmr","transform","insertInto","locals","push","getSubscriptionPlans","giveDowngradeFeedback","subscriptionPlans","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","ComposedComponent","ForSingleOrganization","customOrganizations","router","other","__rest","params","organizationKey","_components_hoc_utils__WEBPACK_IMPORTED_MODULE_4__","react_router__WEBPACK_IMPORTED_MODULE_2__","VisibleIcon","onSonarCloud","icon","theme","badge","badge-info","badge-icon","getDoc","Tooltip","resolve","BillingFormShim","BillingForm","SonarBilling","UpgradeOrganizationModal","utils","noBackdrop","shouldCloseOnOverlayClick","onCommit","onUpgradeDone","processingUpgrade","renderFormFields","renderNextCharge","renderRecap","renderSubmitButton","DeferredSpinner","UpgradeOrganizationBox_UpgradeOrganizationBox","UpgradeOrganizationBox","upgradeOrganizationModal","fetchSubscriptionPlans","billing","handleUpgradeClick","handleUpgradeOrganizationModalClose","UpgradeOrganizationBox_extends","startingPrice","RadioCard","organization_utils","target","components_UpgradeOrganizationModal","VisibilitySelector","handlePublicClick","handlePrivateClick","classnames__WEBPACK_IMPORTED_MODULE_1__","showDetails","_DateFormatter__WEBPACK_IMPORTED_MODULE_1__","_DateTimeFormatter__WEBPACK_IMPORTED_MODULE_2__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_3__","_helpers_dates__WEBPACK_IMPORTED_MODULE_4__","parsedDate","long","formattedDate","mouseEnterDelay","dateTime","toISOString","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","len","marker","runClearTimeout","Item","array","noop","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask"],"mappings":"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IACNC,QACE,+CAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,MAEX,CACED,KAAM,KACNC,QAAS,MAEX,CACED,KAAM,IACNC,QAAS,cAEX,CACED,KAAM,IACNC,QAAS,UAEX,CACED,KAAM,IACNC,QACE,qBAEJ,CACED,KAAM,IACNC,QACE,qBAEJ,CACED,KAAM,IACNC,QACE,mBAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QACE,sCAEJ,CACED,KAAM,IACNC,QAAS,YAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QAAS,cAEX,CACED,KAAM,IACNC,QAAS,SAEX,CACED,KAAM,IACNC,QACE,mBAEJ,CACED,KAAM,IACNC,QAAS,kBAEX,CACED,KAAM,IACNC,QACE,uCAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,OAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,MAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QAAS,aAEX,CACED,KAAM,IACNC,QAAS,iBAEX,CACED,KAAM,IACNC,QAAS,kBAEX,CACED,KAAM,KACNC,QAAS,MAEX,CACED,KAAM,IACNC,QACE,mCAEJ,CACED,KAAM,IACNC,QAAS,UAEX,CACED,KAAM,IACNC,QACE,mBAEJ,CACED,KAAM,IACNC,QACE,mBAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QACE,wBAEJ,CACED,KAAM,IACNC,QAAS,UAEX,CACED,KAAM,IACNC,QAAS,kBAEX,CACED,KAAM,IACNC,QACE,uBAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QAAS,YAEX,CACED,KAAM,IACNC,QACE,qBAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QACE,+CAEJ,CACED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","file":"js/12.1553004420962.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, applyTemplateToProject } from '../../../../api/permissions';\nimport DeferredSpinner from '../../../../components/common/DeferredSpinner';\nimport SimpleModal from '../../../../components/controls/SimpleModal';\nimport Select from '../../../../components/controls/Select';\nimport { SubmitButton, ResetButtonLink } from '../../../../components/ui/buttons';\nimport { translateWithParameters, translate } from '../../../../helpers/l10n';\nimport { Alert } from '../../../../components/ui/Alert';\n\ninterface Props {\n  onApply?: () => void;\n  onClose: () => void;\n  organization: string | undefined;\n  project: { key: string; name: string };\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n}\n\nexport default class ApplyTemplate extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissionTemplates = () => {\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, permissionTemplates });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleSubmit = () => {\n    if (this.state.permissionTemplate) {\n      return applyTemplateToProject({\n        organization: this.props.organization,\n        projectKey: this.props.project.key,\n        templateId: this.state.permissionTemplate\n      }).then(() => {\n        if (this.mounted) {\n          if (this.props.onApply) {\n            this.props.onApply();\n          }\n          this.setState({ done: true });\n        }\n      });\n    } else {\n      return Promise.reject(undefined);\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  render() {\n    const header = translateWithParameters(\n      'projects_role.apply_template_to_xxx',\n      this.props.project.name\n    );\n\n    return (\n      <SimpleModal\n        header={header}\n        onClose={this.props.onClose}\n        onSubmit={this.handleSubmit}\n        size=\"small\">\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form id=\"project-permissions-apply-template-form\" onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              {this.state.done ? (\n                <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n              ) : (\n                <>\n                  {this.state.loading ? (\n                    <i className=\"spinner\" />\n                  ) : (\n                    <div className=\"modal-field\">\n                      <label htmlFor=\"project-permissions-template\">\n                        {translate('template')}\n                        <em className=\"mandatory\">*</em>\n                      </label>\n                      {this.state.permissionTemplates && (\n                        <Select\n                          clearable={false}\n                          id=\"project-permissions-template\"\n                          onChange={this.handlePermissionTemplateChange}\n                          options={this.state.permissionTemplates.map(permissionTemplate => ({\n                            label: permissionTemplate.name,\n                            value: permissionTemplate.id\n                          }))}\n                          value={this.state.permissionTemplate}\n                        />\n                      )}\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n              {!this.state.done && (\n                <SubmitButton disabled={submitting || !this.state.permissionTemplate}>\n                  {translate('apply')}\n                </SubmitButton>\n              )}\n              <ResetButtonLink onClick={onCloseClick}>\n                {translate(this.state.done ? 'close' : 'cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport { createProject } from '../../api/components';\nimport UpgradeOrganizationBox from '../create/components/UpgradeOrganizationBox';\nimport VisibilitySelector from '../../components/common/VisibilitySelector';\nimport Modal from '../../components/controls/Modal';\nimport { SubmitButton, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { getProjectUrl } from '../../helpers/urls';\nimport { Alert } from '../../components/ui/Alert';\n\ninterface Props {\n  onClose: () => void;\n  onProjectCreated: () => void;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  createdProject?: { key: string; name: string };\n  key: string;\n  loading: boolean;\n  name: string;\n  visibility?: T.Visibility;\n  // add index declaration to be able to do `this.setState({ [name]: value });`\n  [x: string]: any;\n}\n\nexport default class CreateProjectForm extends React.PureComponent<Props, State> {\n  closeButton?: HTMLElement | null;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      key: '',\n      loading: false,\n      name: '',\n      visibility: props.organization.projectVisibility\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate() {\n    // wrap with `setImmediate` because of https://github.com/reactjs/react-modal/issues/338\n    setImmediate(() => {\n      if (this.closeButton) {\n        this.closeButton.focus();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleInputChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    this.setState({ visibility });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const data = {\n      name: this.state.name,\n      organization: this.props.organization && this.props.organization.key,\n      project: this.state.key,\n      visibility: this.state.visibility\n    };\n\n    this.setState({ loading: true });\n    createProject(data).then(\n      response => {\n        if (this.mounted) {\n          this.setState({ createdProject: response.project, loading: false });\n          this.props.onProjectCreated();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { organization } = this.props;\n    const { createdProject } = this.state;\n\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        {createdProject ? (\n          <div>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <Alert variant=\"success\">\n                <FormattedMessage\n                  defaultMessage={translate(\n                    'projects_management.project_has_been_successfully_created'\n                  )}\n                  id=\"projects_management.project_has_been_successfully_created\"\n                  values={{\n                    project: (\n                      <Link to={getProjectUrl(createdProject.key)}>{createdProject.name}</Link>\n                    )\n                  }}\n                />\n              </Alert>\n            </div>\n\n            <footer className=\"modal-foot\">\n              <ResetButtonLink\n                id=\"create-project-close\"\n                innerRef={node => (this.closeButton = node)}\n                onClick={this.props.onClose}>\n                {translate('close')}\n              </ResetButtonLink>\n            </footer>\n          </div>\n        ) : (\n          <form id=\"create-project-form\" onSubmit={this.handleFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-name\">\n                  {translate('name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  autoFocus={true}\n                  id=\"create-project-name\"\n                  maxLength={2000}\n                  name=\"name\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.name}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-key\">\n                  {translate('key')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  id=\"create-project-key\"\n                  maxLength={400}\n                  name=\"key\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.key}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label>{translate('visibility')}</label>\n                <VisibilitySelector\n                  canTurnToPrivate={organization.canUpdateProjectsVisibilityToPrivate}\n                  className=\"little-spacer-top\"\n                  onChange={this.handleVisibilityChange}\n                  visibility={this.state.visibility}\n                />\n              </div>\n              {organization.actions &&\n                organization.actions.admin &&\n                !organization.canUpdateProjectsVisibilityToPrivate && (\n                  <div className=\"spacer-top\">\n                    <UpgradeOrganizationBox\n                      className=\"width-100\"\n                      insideModal={true}\n                      onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n                      organization={organization}\n                    />\n                  </div>\n                )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              {this.state.loading && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={this.state.loading} id=\"create-project-submit\">\n                {translate('create')}\n              </SubmitButton>\n              <ResetButtonLink id=\"create-project-cancel\" onClick={this.props.onClose}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </Modal>\n    );\n  }\n}\n","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Modal from '../../components/controls/Modal';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { Alert } from '../../components/ui/Alert';\n\nexport interface Props {\n  onClose: () => void;\n  onConfirm: (visiblity: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibility: T.Visibility;\n}\n\nexport default class ChangeDefaultVisibilityForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { visibility: props.organization.projectVisibility as T.Visibility };\n  }\n\n  handleConfirmClick = () => {\n    this.props.onConfirm(this.state.visibility);\n    this.props.onClose();\n  };\n\n  handleVisibilityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const visibility = event.currentTarget.dataset.visibility as T.Visibility;\n    this.setState({ visibility });\n  };\n\n  render() {\n    const { organization } = this.props;\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{translate('organization.change_visibility_form.header')}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {['public', 'private'].map(visibility => (\n            <div className=\"big-spacer-bottom\" key={visibility}>\n              <p>\n                {visibility === 'private' && !organization.canUpdateProjectsVisibilityToPrivate ? (\n                  <span className=\"text-muted cursor-not-allowed\">\n                    <i\n                      className={classNames('icon-radio', 'spacer-right', {\n                        'is-checked': this.state.visibility === visibility\n                      })}\n                    />\n                    {translate('visibility', visibility)}\n                  </span>\n                ) : (\n                  <a\n                    className=\"link-base-color link-no-underline\"\n                    data-visibility={visibility}\n                    href=\"#\"\n                    onClick={this.handleVisibilityClick}>\n                    <i\n                      className={classNames('icon-radio', 'spacer-right', {\n                        'is-checked': this.state.visibility === visibility\n                      })}\n                    />\n                    {translate('visibility', visibility)}\n                  </a>\n                )}\n              </p>\n              <p className=\"text-muted spacer-top\" style={{ paddingLeft: 22 }}>\n                {translate('visibility', visibility, 'description.short')}\n              </p>\n            </div>\n          ))}\n\n          {organization.canUpdateProjectsVisibilityToPrivate && (\n            <Alert variant=\"warning\">\n              {translate('organization.change_visibility_form.warning')}\n            </Alert>\n          )}\n        </div>\n\n        <footer className=\"modal-foot\">\n          <Button className=\"js-confirm\" onClick={this.handleConfirmClick}>\n            {translate('organization.change_visibility_form.submit')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChangeDefaultVisibilityForm from './ChangeDefaultVisibilityForm';\nimport { EditButton, Button } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\n\nexport interface Props {\n  hasProvisionPermission?: boolean;\n  onProjectCreate: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibilityForm: boolean;\n}\n\nexport default class Header extends React.PureComponent<Props, State> {\n  state: State = { visibilityForm: false };\n\n  handleChangeVisibilityClick = () => {\n    this.setState({ visibilityForm: true });\n  };\n\n  closeVisiblityForm = () => {\n    this.setState({ visibilityForm: false });\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('projects_management')}</h1>\n\n        <div className=\"page-actions\">\n          {!isSonarCloud() &&\n            organization.projectVisibility && (\n              <span className=\"big-spacer-right\">\n                <span className=\"text-middle\">\n                  {translate('organization.default_visibility_of_new_projects')}{' '}\n                  <strong>{translate('visibility', organization.projectVisibility)}</strong>\n                </span>\n                <EditButton\n                  className=\"js-change-visibility spacer-left button-small\"\n                  onClick={this.handleChangeVisibilityClick}\n                />\n              </span>\n            )}\n          {this.props.hasProvisionPermission && (\n            <Button id=\"create-project\" onClick={this.props.onProjectCreate}>\n              {translate('qualifiers.create.TRK')}\n            </Button>\n          )}\n        </div>\n\n        <p className=\"page-description\">{translate('projects_management.page.description')}</p>\n\n        {!isSonarCloud() &&\n          this.state.visibilityForm && (\n            <ChangeDefaultVisibilityForm\n              onClose={this.closeVisiblityForm}\n              onConfirm={this.props.onVisibilityChange}\n              organization={organization}\n            />\n          )}\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, bulkApplyTemplate } from '../../api/permissions';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport Modal from '../../components/controls/Modal';\nimport Select from '../../components/controls/Select';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { Alert } from '../../components/ui/Alert';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n  submitting: boolean;\n}\n\nexport default class BulkApplyTemplateModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true, submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadPermissionTemplates() {\n    this.setState({ loading: true });\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            permissionTemplate:\n              permissionTemplates.length > 0 ? permissionTemplates[0].id : undefined,\n            permissionTemplates\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  handleConfirmClick = () => {\n    const { analyzedBefore } = this.props;\n    const { permissionTemplate } = this.state;\n    if (permissionTemplate) {\n      this.setState({ submitting: true });\n      const parameters = this.props.selection.length\n        ? {\n            organization: this.props.organization,\n            projects: this.props.selection.join(),\n            templateId: permissionTemplate\n          }\n        : {\n            analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n            onProvisionedOnly: this.props.provisioned || undefined,\n            organization: this.props.organization,\n            qualifiers: this.props.qualifier,\n            q: this.props.query || undefined,\n            templateId: permissionTemplate\n          };\n      bulkApplyTemplate(parameters).then(\n        () => {\n          if (this.mounted) {\n            this.setState({ done: true, submitting: false });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_selected',\n            this.props.selection.length\n          )\n        : translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_all',\n            this.props.total\n          )}\n    </Alert>\n  );\n\n  renderSelect = () => (\n    <div className=\"modal-field\">\n      <label>\n        {translate('template')}\n        <em className=\"mandatory\">*</em>\n      </label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        onChange={this.handlePermissionTemplateChange}\n        options={this.state.permissionTemplates!.map(t => ({ label: t.name, value: t.id }))}\n        value={this.state.permissionTemplate}\n      />\n    </div>\n  );\n\n  render() {\n    const { done, loading, permissionTemplates, submitting } = this.state;\n    const header = translate('permission_templates.bulk_apply_permission_template');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {done && (\n            <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n          )}\n\n          {loading && <i className=\"spinner\" />}\n\n          {!loading && !done && permissionTemplates && this.renderWarning()}\n          {!loading && !done && permissionTemplates && this.renderSelect()}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          {!loading &&\n            !done &&\n            permissionTemplates && (\n              <Button disabled={submitting} onClick={this.handleConfirmClick}>\n                {translate('apply')}\n              </Button>\n            )}\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {done ? translate('close') : translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { bulkDeleteProjects } from '../../api/components';\nimport Modal from '../../components/controls/Modal';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { Alert } from '../../components/ui/Alert';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  onConfirm: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class DeleteModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleConfirmClick = () => {\n    this.setState({ loading: true });\n    const { analyzedBefore } = this.props;\n    const parameters = this.props.selection.length\n      ? {\n          organization: this.props.organization,\n          projects: this.props.selection.join()\n        }\n      : {\n          analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n          onProvisionedOnly: this.props.provisioned || undefined,\n          organization: this.props.organization,\n          qualifiers: this.props.qualifier,\n          q: this.props.query || undefined\n        };\n    bulkDeleteProjects(parameters).then(\n      () => {\n        if (this.mounted) {\n          this.props.onConfirm();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'projects_management.delete_selected_warning',\n            this.props.selection.length\n          )\n        : translateWithParameters('projects_management.delete_all_warning', this.props.total)}\n    </Alert>\n  );\n\n  render() {\n    const header = translate('qualifiers.delete', this.props.qualifier);\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {this.renderWarning()}\n          {translate('qualifiers.delete_confirm', this.props.qualifier)}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {this.state.loading && <i className=\"spinner spacer-right\" />}\n          <Button\n            className=\"button-red\"\n            disabled={this.state.loading}\n            onClick={this.handleConfirmClick}>\n            {translate('delete')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport BulkApplyTemplateModal from './BulkApplyTemplateModal';\nimport DeleteModal from './DeleteModal';\nimport Checkbox from '../../components/controls/Checkbox';\nimport QualifierIcon from '../../components/icons-components/QualifierIcon';\nimport HelpTooltip from '../../components/controls/HelpTooltip';\nimport DateInput from '../../components/controls/DateInput';\nimport Select from '../../components/controls/Select';\nimport SearchBox from '../../components/controls/SearchBox';\nimport { Button } from '../../components/ui/buttons';\nimport { Project } from '../../api/components';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onAllDeselected: () => void;\n  onAllSelected: () => void;\n  onDateChanged: (analyzedBefore: Date | undefined) => void;\n  onDeleteProjects: () => void;\n  onProvisionedChanged: (provisioned: boolean) => void;\n  onQualifierChanged: (qualifier: string) => void;\n  onVisibilityChanged: (qualifier: string) => void;\n  onSearch: (query: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: any[];\n  topLevelQualifiers: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\ninterface State {\n  bulkApplyTemplateModal: boolean;\n  deleteModal: boolean;\n}\n\nconst QUALIFIERS_ORDER = ['TRK', 'VW', 'APP'];\n\nexport default class Search extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { bulkApplyTemplateModal: false, deleteModal: false };\n\n  getQualifierOptions = () => {\n    const options = this.props.topLevelQualifiers.map(q => ({\n      label: translate('qualifiers', q),\n      value: q\n    }));\n    return sortBy(options, option => QUALIFIERS_ORDER.indexOf(option.value));\n  };\n\n  onCheck = (checked: boolean) => {\n    if (checked) {\n      this.props.onAllSelected();\n    } else {\n      this.props.onAllDeselected();\n    }\n  };\n\n  handleDeleteClick = () => {\n    this.setState({ deleteModal: true });\n  };\n\n  closeDeleteModal = () => {\n    this.setState({ deleteModal: false });\n  };\n\n  handleDeleteConfirm = () => {\n    this.closeDeleteModal();\n    this.props.onDeleteProjects();\n  };\n\n  handleBulkApplyTemplateClick = () => {\n    this.setState({ bulkApplyTemplateModal: true });\n  };\n\n  closeBulkApplyTemplateModal = () => {\n    this.setState({ bulkApplyTemplateModal: false });\n  };\n\n  handleQualifierChange = ({ value }: { value: string }) => this.props.onQualifierChanged(value);\n\n  handleVisibilityChange = ({ value }: { value: string }) => this.props.onVisibilityChanged(value);\n\n  renderCheckbox = () => {\n    const isAllChecked =\n      this.props.projects.length > 0 && this.props.selection.length === this.props.projects.length;\n    const thirdState =\n      this.props.projects.length > 0 &&\n      this.props.selection.length > 0 &&\n      this.props.selection.length < this.props.projects.length;\n    const checked = isAllChecked || thirdState;\n    return (\n      <Checkbox\n        checked={checked}\n        id=\"projects-selection\"\n        onCheck={this.onCheck}\n        thirdState={thirdState}\n      />\n    );\n  };\n\n  renderQualifierOption = (option: { label: string; value: string }) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier={option.value} />\n      {option.label}\n    </span>\n  );\n\n  renderQualifierFilter = () => {\n    const options = this.getQualifierOptions();\n    if (options.length < 2) {\n      return null;\n    }\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-qualifier\"\n          onChange={this.handleQualifierChange}\n          optionRenderer={this.renderQualifierOption}\n          options={this.getQualifierOptions()}\n          searchable={false}\n          value={this.props.qualifiers}\n          valueRenderer={this.renderQualifierOption}\n        />\n      </td>\n    );\n  };\n\n  renderVisibilityFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-small\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-visibility\"\n          onChange={this.handleVisibilityChange}\n          options={[\n            { value: 'all', label: translate('visibility.both') },\n            { value: 'public', label: translate('visibility.public') },\n            { value: 'private', label: translate('visibility.private') }\n          ]}\n          searchable={false}\n          value={this.props.visibility || 'all'}\n        />\n      </td>\n    );\n  };\n\n  renderTypeFilter = () =>\n    this.props.qualifiers === 'TRK' ? (\n      <td className=\"thin nowrap text-middle\">\n        <Checkbox\n          checked={this.props.provisioned}\n          className=\"link-checkbox-control\"\n          id=\"projects-provisioned\"\n          onCheck={this.props.onProvisionedChanged}>\n          <span className=\"text-middle little-spacer-left\">\n            {translate('provisioning.only_provisioned')}\n          </span>\n        </Checkbox>\n        <HelpTooltip\n          className=\"spacer-left\"\n          overlay={translate('provisioning.only_provisioned.tooltip')}\n        />\n      </td>\n    ) : null;\n\n  renderDateFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <DateInput\n          inputClassName=\"input-medium\"\n          name=\"analyzed-before\"\n          onChange={this.props.onDateChanged}\n          placeholder={translate('last_analysis_before')}\n          value={this.props.analyzedBefore}\n        />\n      </td>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <table className=\"data\">\n          <tbody>\n            <tr>\n              <td className=\"thin text-middle\">\n                {this.props.ready ? this.renderCheckbox() : <i className=\"spinner\" />}\n              </td>\n              {this.renderQualifierFilter()}\n              {this.renderDateFilter()}\n              {this.renderVisibilityFilter()}\n              {this.renderTypeFilter()}\n              <td className=\"text-middle\">\n                <SearchBox\n                  minLength={3}\n                  onChange={this.props.onSearch}\n                  placeholder={translate('search.search_by_name_or_key')}\n                  value={this.props.query}\n                />\n              </td>\n              <td className=\"thin nowrap text-middle\">\n                <Button\n                  className=\"js-bulk-apply-permission-template\"\n                  disabled={this.props.total === 0}\n                  onClick={this.handleBulkApplyTemplateClick}>\n                  {translate('permission_templates.bulk_apply_permission_template')}\n                </Button>\n                {this.props.qualifiers === 'TRK' && (\n                  <Button\n                    className=\"js-delete spacer-left button-red\"\n                    disabled={this.props.total === 0}\n                    onClick={this.handleDeleteClick}>\n                    {translate('delete')}\n                  </Button>\n                )}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        {this.state.bulkApplyTemplateModal && (\n          <BulkApplyTemplateModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeBulkApplyTemplateModal}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n\n        {this.state.deleteModal && (\n          <DeleteModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeDeleteModal}\n            onConfirm={this.handleDeleteConfirm}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { grantPermissionToUser } from '../../api/permissions';\nimport Modal from '../../components/controls/Modal';\nimport { SubmitButton, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { Project } from '../../api/components';\n\ninterface Props {\n  currentUser: { login: string };\n  onClose: () => void;\n  onRestoreAccess: () => void;\n  project: Project;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RestoreAccessModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ loading: true });\n    Promise.all([this.grantPermission('user'), this.grantPermission('admin')]).then(\n      this.props.onRestoreAccess,\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  grantPermission = (permission: string) =>\n    grantPermissionToUser({\n      projectKey: this.props.project.key,\n      login: this.props.currentUser.login,\n      permission,\n      organization: this.props.project.organization\n    });\n\n  render() {\n    const header = translate('global_permissions.restore_access');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            <FormattedMessage\n              defaultMessage={translate('global_permissions.restore_access.message')}\n              id=\"global_permissions.restore_access.message\"\n              values={{\n                browse: <strong>{translate('projects_role.user')}</strong>,\n                administer: <strong>{translate('projects_role.admin')}</strong>\n              }}\n            />\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.loading && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={this.state.loading}>{translate('restore')}</SubmitButton>\n            <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RestoreAccessModal from './RestoreAccessModal';\nimport ApplyTemplate from '../permissions/project/components/ApplyTemplate';\nimport { getComponentShow, Project } from '../../api/components';\nimport { getComponentNavigation } from '../../api/nav';\nimport ActionsDropdown, { ActionsDropdownItem } from '../../components/controls/ActionsDropdown';\nimport { translate } from '../../helpers/l10n';\nimport { getComponentPermissionsUrl } from '../../helpers/urls';\n\nexport interface Props {\n  currentUser: { login: string };\n  organization: string | undefined;\n  project: Project;\n}\n\ninterface State {\n  applyTemplateModal: boolean;\n  hasAccess?: boolean;\n  loading: boolean;\n  restoreAccessModal: boolean;\n}\n\nexport default class ProjectRowActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { applyTemplateModal: false, loading: false, restoreAccessModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissions = () => {\n    this.setState({ loading: false });\n    // call `getComponentNavigation` to check if user has the \"Administer\" permission\n    // call `getComponentShow` to check if user has the \"Browse\" permission\n    Promise.all([\n      getComponentNavigation({ component: this.props.project.key }),\n      getComponentShow({ component: this.props.project.key })\n    ]).then(\n      ([navResponse]) => {\n        if (this.mounted) {\n          const hasAccess = Boolean(\n            navResponse.configuration && navResponse.configuration.showPermissions\n          );\n          this.setState({ hasAccess, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ hasAccess: false, loading: false });\n        }\n      }\n    );\n  };\n\n  handleDropdownOpen = () => {\n    if (this.state.hasAccess === undefined && !this.state.loading) {\n      this.fetchPermissions();\n    }\n  };\n\n  handleApplyTemplateClick = () => {\n    this.setState({ applyTemplateModal: true });\n  };\n\n  handleApplyTemplateClose = () => {\n    if (this.mounted) {\n      this.setState({ applyTemplateModal: false });\n    }\n  };\n\n  handleRestoreAccessClick = () => {\n    this.setState({ restoreAccessModal: true });\n  };\n\n  handleRestoreAccessClose = () => this.setState({ restoreAccessModal: false });\n\n  handleRestoreAccessDone = () => {\n    this.setState({ hasAccess: true, restoreAccessModal: false });\n  };\n\n  render() {\n    const { hasAccess } = this.state;\n\n    return (\n      <>\n        <ActionsDropdown onOpen={this.handleDropdownOpen}>\n          {hasAccess === true && (\n            <ActionsDropdownItem to={getComponentPermissionsUrl(this.props.project.key)}>\n              {translate('edit_permissions')}\n            </ActionsDropdownItem>\n          )}\n\n          {hasAccess === false && (\n            <ActionsDropdownItem\n              className=\"js-restore-access\"\n              onClick={this.handleRestoreAccessClick}>\n              {translate('global_permissions.restore_access')}\n            </ActionsDropdownItem>\n          )}\n\n          <ActionsDropdownItem\n            className=\"js-apply-template\"\n            onClick={this.handleApplyTemplateClick}>\n            {translate('projects_role.apply_template')}\n          </ActionsDropdownItem>\n        </ActionsDropdown>\n\n        {this.state.restoreAccessModal && (\n          <RestoreAccessModal\n            currentUser={this.props.currentUser}\n            onClose={this.handleRestoreAccessClose}\n            onRestoreAccess={this.handleRestoreAccessDone}\n            project={this.props.project}\n          />\n        )}\n\n        {this.state.applyTemplateModal && (\n          <ApplyTemplate\n            onClose={this.handleApplyTemplateClose}\n            organization={this.props.organization}\n            project={this.props.project}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ProjectRowActions from './ProjectRowActions';\nimport PrivacyBadgeContainer from '../../components/common/PrivacyBadgeContainer';\nimport Checkbox from '../../components/controls/Checkbox';\nimport QualifierIcon from '../../components/icons-components/QualifierIcon';\nimport DateTooltipFormatter from '../../components/intl/DateTooltipFormatter';\nimport { Project } from '../../api/components';\n\ninterface Props {\n  currentUser: { login: string };\n  onProjectCheck: (project: Project, checked: boolean) => void;\n  organization: string | undefined;\n  project: Project;\n  selected: boolean;\n}\n\nexport default class ProjectRow extends React.PureComponent<Props> {\n  handleProjectCheck = (checked: boolean) => {\n    this.props.onProjectCheck(this.props.project, checked);\n  };\n\n  render() {\n    const { organization, project, selected } = this.props;\n\n    return (\n      <tr>\n        <td className=\"thin\">\n          <Checkbox checked={selected} onCheck={this.handleProjectCheck} />\n        </td>\n\n        <td className=\"nowrap\">\n          <Link\n            className=\"link-with-icon\"\n            to={{ pathname: '/dashboard', query: { id: project.key } }}>\n            <QualifierIcon qualifier={project.qualifier} /> <span>{project.name}</span>\n          </Link>\n        </td>\n\n        <td className=\"thin nowrap\">\n          <PrivacyBadgeContainer\n            organization={organization}\n            qualifier={project.qualifier}\n            tooltipProps={{ projectKey: project.key }}\n            visibility={project.visibility}\n          />\n        </td>\n\n        <td className=\"nowrap\">\n          <span className=\"note\">{project.key}</span>\n        </td>\n\n        <td className=\"thin nowrap text-right\">\n          {project.lastAnalysisDate ? (\n            <DateTooltipFormatter date={project.lastAnalysisDate} />\n          ) : (\n            <span className=\"note\"></span>\n          )}\n        </td>\n\n        <td className=\"thin nowrap\">\n          <ProjectRowActions\n            currentUser={this.props.currentUser}\n            organization={organization}\n            project={project}\n          />\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ProjectRow from './ProjectRow';\nimport { translate } from '../../helpers/l10n';\nimport { Project } from '../../api/components';\n\ninterface Props {\n  currentUser: { login: string };\n  onProjectDeselected: (project: string) => void;\n  onProjectSelected: (project: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  ready?: boolean;\n  selection: string[];\n}\n\nexport default class Projects extends React.PureComponent<Props> {\n  onProjectCheck = (project: Project, checked: boolean) => {\n    if (checked) {\n      this.props.onProjectSelected(project.key);\n    } else {\n      this.props.onProjectDeselected(project.key);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"boxed-group boxed-group-inner\">\n        <table\n          className={classNames('data', 'zebra', { 'new-loading': !this.props.ready })}\n          id=\"projects-management-page-projects\">\n          <thead>\n            <tr>\n              <th />\n              <th>{translate('name')}</th>\n              <th />\n              <th>{translate('key')}</th>\n              <th className=\"thin nowrap text-right\">{translate('last_analysis')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            {this.props.projects.map(project => (\n              <ProjectRow\n                currentUser={this.props.currentUser}\n                key={project.key}\n                onProjectCheck={this.onProjectCheck}\n                organization={this.props.organization && this.props.organization.key}\n                project={project}\n                selected={this.props.selection.includes(project.key)}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { debounce, uniq, without } from 'lodash';\nimport Header from './Header';\nimport Search from './Search';\nimport Projects from './Projects';\nimport CreateProjectForm from './CreateProjectForm';\nimport ListFooter from '../../components/controls/ListFooter';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport { getComponents, Project } from '../../api/components';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  currentUser: { login: string };\n  hasProvisionPermission?: boolean;\n  onOrganizationUpgrade: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n  topLevelQualifiers: string[];\n}\n\ninterface State {\n  analyzedBefore?: Date;\n  createProjectForm: boolean;\n  page: number;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\nconst PAGE_SIZE = 50;\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      createProjectForm: false,\n      ready: false,\n      projects: [],\n      provisioned: false,\n      total: 0,\n      page: 1,\n      query: '',\n      qualifiers: 'TRK',\n      selection: []\n    };\n    this.requestProjects = debounce(this.requestProjects, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.requestProjects();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  requestProjects = () => {\n    const { analyzedBefore } = this.state;\n    const parameters = {\n      analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n      onProvisionedOnly: this.state.provisioned || undefined,\n      organization: this.props.organization.key,\n      p: this.state.page !== 1 ? this.state.page : undefined,\n      ps: PAGE_SIZE,\n      q: this.state.query || undefined,\n      qualifiers: this.state.qualifiers,\n      visibility: this.state.visibility\n    };\n    getComponents(parameters).then(\n      r => {\n        if (this.mounted) {\n          let projects: Project[] = r.components;\n          if (this.state.page > 1) {\n            projects = [...this.state.projects, ...projects];\n          }\n          this.setState({ ready: true, projects, selection: [], total: r.paging.total });\n        }\n      },\n      () => {}\n    );\n  };\n\n  loadMore = () => {\n    this.setState(({ page }) => ({ ready: false, page: page + 1 }), this.requestProjects);\n  };\n\n  onSearch = (query: string) => {\n    this.setState({ ready: false, page: 1, query, selection: [] }, this.requestProjects);\n  };\n\n  onProvisionedChanged = (provisioned: boolean) => {\n    this.setState(\n      { ready: false, page: 1, query: '', provisioned, qualifiers: 'TRK', selection: [] },\n      this.requestProjects\n    );\n  };\n\n  onQualifierChanged = (newQualifier: string) => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        qualifiers: newQualifier,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  onVisibilityChanged = (newVisibility: T.Visibility | 'all') => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        visibility: newVisibility === 'all' ? undefined : newVisibility,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  handleDateChanged = (analyzedBefore: Date | undefined) =>\n    this.setState({ ready: false, page: 1, analyzedBefore }, this.requestProjects);\n\n  onProjectSelected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: uniq([...selection, project]) }));\n  };\n\n  onProjectDeselected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: without(selection, project) }));\n  };\n\n  onAllSelected = () => {\n    this.setState(({ projects }) => ({ selection: projects.map(project => project.key) }));\n  };\n\n  onAllDeselected = () => {\n    this.setState({ selection: [] });\n  };\n\n  openCreateProjectForm = () => {\n    this.setState({ createProjectForm: true });\n  };\n\n  closeCreateProjectForm = () => {\n    this.setState({ createProjectForm: false });\n  };\n\n  render() {\n    return (\n      <div className=\"page page-limited\" id=\"projects-management-page\">\n        <Suggestions suggestions=\"projects_management\" />\n        <Helmet title={translate('projects_management')} />\n\n        <Header\n          hasProvisionPermission={this.props.hasProvisionPermission}\n          onProjectCreate={this.openCreateProjectForm}\n          onVisibilityChange={this.props.onVisibilityChange}\n          organization={this.props.organization}\n        />\n\n        <Search\n          analyzedBefore={this.state.analyzedBefore}\n          onAllDeselected={this.onAllDeselected}\n          onAllSelected={this.onAllSelected}\n          onDateChanged={this.handleDateChanged}\n          onDeleteProjects={this.requestProjects}\n          onProvisionedChanged={this.onProvisionedChanged}\n          onQualifierChanged={this.onQualifierChanged}\n          onSearch={this.onSearch}\n          onVisibilityChanged={this.onVisibilityChanged}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          provisioned={this.state.provisioned}\n          qualifiers={this.state.qualifiers}\n          query={this.state.query}\n          ready={this.state.ready}\n          selection={this.state.selection}\n          topLevelQualifiers={this.props.topLevelQualifiers}\n          total={this.state.total}\n          visibility={this.state.visibility}\n        />\n\n        <Projects\n          currentUser={this.props.currentUser}\n          onProjectDeselected={this.onProjectDeselected}\n          onProjectSelected={this.onProjectSelected}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          ready={this.state.ready}\n          selection={this.state.selection}\n        />\n\n        <ListFooter\n          count={this.state.projects.length}\n          loadMore={this.loadMore}\n          ready={this.state.ready}\n          total={this.state.total}\n        />\n\n        {this.state.createProjectForm && (\n          <CreateProjectForm\n            onClose={this.closeCreateProjectForm}\n            onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n            onProjectCreated={this.requestProjects}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport App from './App';\nimport forSingleOrganization from '../organizations/forSingleOrganization';\nimport { getAppState, getOrganizationByKey, getCurrentUser, Store } from '../../store/rootReducer';\nimport { receiveOrganizations } from '../../store/organizations';\nimport { changeProjectDefaultVisibility } from '../../api/permissions';\nimport { fetchOrganization } from '../../store/rootActions';\n\ninterface StateProps {\n  appState: { defaultOrganization: string; qualifiers: string[] };\n  currentUser: T.LoggedInUser;\n  organization?: T.Organization;\n}\n\ninterface DispatchProps {\n  fetchOrganization: (organization: string) => void;\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) => void;\n}\n\ninterface OwnProps {\n  onRequestFail: (error: any) => void;\n  organization: T.Organization;\n}\n\nclass AppContainer extends React.PureComponent<OwnProps & StateProps & DispatchProps> {\n  componentDidMount() {\n    // if there is no organization, that means we are in the global scope\n    // let's fetch defails for the default organization in this case\n    if (!this.props.organization || !this.props.organization.projectVisibility) {\n      this.props.fetchOrganization(this.props.appState.defaultOrganization);\n    }\n  }\n\n  handleOrganizationUpgrade = () => {\n    this.props.fetchOrganization(this.props.organization.key);\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    if (this.props.organization) {\n      this.props.onVisibilityChange(this.props.organization, visibility);\n    }\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    if (!organization) {\n      return null;\n    }\n\n    const topLevelQualifiers = organization.isDefault ? this.props.appState.qualifiers : ['TRK'];\n    const { actions = {} } = organization;\n\n    return (\n      <App\n        currentUser={this.props.currentUser}\n        hasProvisionPermission={actions.provision}\n        onOrganizationUpgrade={this.handleOrganizationUpgrade}\n        onVisibilityChange={this.handleVisibilityChange}\n        organization={organization}\n        topLevelQualifiers={topLevelQualifiers}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state) as T.LoggedInUser,\n  organization:\n    ownProps.organization || getOrganizationByKey(state, getAppState(state).defaultOrganization)\n});\n\nconst onVisibilityChange = (organization: T.Organization, visibility: T.Visibility) => (\n  dispatch: Function\n) => {\n  const currentVisibility = organization.projectVisibility;\n  dispatch(receiveOrganizations([{ ...organization, projectVisibility: visibility }]));\n  changeProjectDefaultVisibility(organization.key, visibility).catch(() => {\n    dispatch(receiveOrganizations([{ ...organization, projectVisibility: currentVisibility }]));\n  });\n};\n\nconst mapDispatchToProps = (dispatch: Function) => ({\n  fetchOrganization: (key: string) => dispatch(fetchOrganization(key)),\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) =>\n    dispatch(onVisibilityChange(organization, visibility))\n});\n\nexport default forSingleOrganization(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(AppContainer)\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getWrappedDisplayName(WrappedComponent: React.ComponentType, hocName: string) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return `${hocName}(${wrappedDisplayName})`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function getAlmMembersUrl(key: string, url: string): string {\n  if (!url.endsWith('/')) {\n    url += '/';\n  }\n  if (isGithub(key)) {\n    return url.replace('github.com/', 'github.com/orgs/') + 'people';\n  }\n  return url + 'profile/members';\n}\n\nexport function getUserAlmKey(user: T.CurrentUser) {\n  return isLoggedIn(user) && user.externalProvider\n    ? sanitizeAlmId(user.externalProvider)\n    : undefined;\n}\n\nexport function hasAdvancedALMIntegration(user: T.CurrentUser) {\n  return (\n    isLoggedIn(user) && (isBitbucket(user.externalProvider) || isGithub(user.externalProvider))\n  );\n}\n\nexport function isBitbucket(almKey?: string) {\n  return almKey && almKey.startsWith('bitbucket');\n}\n\nexport function isGithub(almKey?: string) {\n  return almKey === 'github';\n}\n\nexport function isVSTS(almKey?: string) {\n  return almKey === 'microsoft';\n}\n\nexport function isPersonal(organization?: T.AlmOrganization) {\n  return Boolean(organization && organization.personal);\n}\n\nexport function sanitizeAlmId(almKey: string) {\n  if (isBitbucket(almKey)) {\n    return 'bitbucket';\n  }\n  return almKey;\n}\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nmodule.exports = baseInRange;\n","var baseInRange = require('./_baseInRange'),\n    toFinite = require('./toFinite'),\n    toNumber = require('./toNumber');\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nmodule.exports = inRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getWrappedDisplayName } from './utils';\nimport { Store, getCurrentUser } from '../../store/rootReducer';\n\nexport function withCurrentUser<P>(\n  WrappedComponent: React.ComponentType<P & { currentUser: T.CurrentUser }>\n) {\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withCurrentUser');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { currentUser: getCurrentUser(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { memoize } from 'lodash';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport {\n  RawQuery,\n  parseAsOptionalString,\n  cleanQuery,\n  serializeString\n} from '../../../helpers/query';\nimport { isBitbucket, isGithub } from '../../../helpers/almIntegrations';\nimport { decodeJwt } from '../../../helpers/strings';\n\nexport const ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP =\n  'sonarcloud.import_org.binding_in_progress';\n\nexport const ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP =\n  'sonarcloud.import_org.redirect_to_projects';\n\nexport const BIND_ORGANIZATION_KEY = 'sonarcloud.bind_org.key';\n\nexport const BIND_ORGANIZATION_REDIRECT_TO_ORG_TIMESTAMP = 'sonarcloud.bind_org.redirect_to_org';\n\nexport enum Step {\n  OrganizationDetails,\n  Plan\n}\n\nexport function formatPrice(price?: number, noSign?: boolean) {\n  const priceFormatted = formatMeasure(price, 'FLOAT')\n    .replace(/[.|,]0$/, '')\n    .replace(/([.|,]\\d)$/, '$10');\n  return noSign ? priceFormatted : translateWithParameters('billing.price_format', priceFormatted);\n}\n\nexport interface Query {\n  almInstallId?: string;\n  almKey?: string;\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: RawQuery = {}): Query => {\n    let almInstallId = undefined;\n    let almKey = undefined;\n\n    if (urlQuery['installation_id']) {\n      almKey = 'github';\n      almInstallId = parseAsOptionalString(urlQuery['installation_id']);\n    } else if (urlQuery['clientKey']) {\n      almKey = 'bitbucket';\n      almInstallId = parseAsOptionalString(urlQuery['clientKey']);\n    } else if (urlQuery['jwt']) {\n      const jwt = decodeJwt(urlQuery['jwt']);\n      if (jwt && jwt.iss) {\n        almKey = 'bitbucket';\n        almInstallId = jwt.iss;\n      }\n    }\n    return { almInstallId, almKey };\n  }\n);\n\nexport const serializeQuery = (query: Query): RawQuery =>\n  cleanQuery({\n    installation_id: isGithub(query.almKey) ? serializeString(query.almInstallId) : undefined,\n    clientKey: isBitbucket(query.almKey) ? serializeString(query.almInstallId) : undefined\n  });\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/*\n * Latinize string by removing all diacritics\n * From http://stackoverflow.com/questions/990904/javascript-remove-accents-in-strings\n */\nconst defaultDiacriticsRemovalap = [\n  {\n    base: 'A',\n    letters:\n      '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'\n  },\n  {\n    base: 'AA',\n    letters: '\\uA732'\n  },\n  {\n    base: 'AE',\n    letters: '\\u00C6\\u01FC\\u01E2'\n  },\n  {\n    base: 'AO',\n    letters: '\\uA734'\n  },\n  {\n    base: 'AU',\n    letters: '\\uA736'\n  },\n  {\n    base: 'AV',\n    letters: '\\uA738\\uA73A'\n  },\n  {\n    base: 'AY',\n    letters: '\\uA73C'\n  },\n  {\n    base: 'B',\n    letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'\n  },\n  {\n    base: 'C',\n    letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'\n  },\n  {\n    base: 'D',\n    letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'\n  },\n  {\n    base: 'DZ',\n    letters: '\\u01F1\\u01C4'\n  },\n  {\n    base: 'Dz',\n    letters: '\\u01F2\\u01C5'\n  },\n  {\n    base: 'E',\n    letters:\n      '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'\n  },\n  {\n    base: 'F',\n    letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'\n  },\n  {\n    base: 'G',\n    letters:\n      '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'\n  },\n  {\n    base: 'H',\n    letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'\n  },\n  {\n    base: 'I',\n    letters:\n      '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'\n  },\n  {\n    base: 'J',\n    letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248'\n  },\n  {\n    base: 'K',\n    letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'\n  },\n  {\n    base: 'L',\n    letters:\n      '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'\n  },\n  {\n    base: 'LJ',\n    letters: '\\u01C7'\n  },\n  {\n    base: 'Lj',\n    letters: '\\u01C8'\n  },\n  {\n    base: 'M',\n    letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'\n  },\n  {\n    base: 'N',\n    letters:\n      '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'\n  },\n  {\n    base: 'NJ',\n    letters: '\\u01CA'\n  },\n  {\n    base: 'Nj',\n    letters: '\\u01CB'\n  },\n  {\n    base: 'O',\n    letters:\n      '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'\n  },\n  {\n    base: 'OI',\n    letters: '\\u01A2'\n  },\n  {\n    base: 'OO',\n    letters: '\\uA74E'\n  },\n  {\n    base: 'OU',\n    letters: '\\u0222'\n  },\n  {\n    base: 'OE',\n    letters: '\\u008C\\u0152'\n  },\n  {\n    base: 'oe',\n    letters: '\\u009C\\u0153'\n  },\n  {\n    base: 'P',\n    letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'\n  },\n  {\n    base: 'Q',\n    letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'\n  },\n  {\n    base: 'R',\n    letters:\n      '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'\n  },\n  {\n    base: 'S',\n    letters:\n      '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'\n  },\n  {\n    base: 'T',\n    letters:\n      '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'\n  },\n  {\n    base: 'TZ',\n    letters: '\\uA728'\n  },\n  {\n    base: 'U',\n    letters:\n      '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'\n  },\n  {\n    base: 'V',\n    letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'\n  },\n  {\n    base: 'VY',\n    letters: '\\uA760'\n  },\n  {\n    base: 'W',\n    letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'\n  },\n  {\n    base: 'X',\n    letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'\n  },\n  {\n    base: 'Y',\n    letters:\n      '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'\n  },\n  {\n    base: 'Z',\n    letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'\n  },\n  {\n    base: 'a',\n    letters:\n      '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'\n  },\n  {\n    base: 'aa',\n    letters: '\\uA733'\n  },\n  {\n    base: 'ae',\n    letters: '\\u00E6\\u01FD\\u01E3'\n  },\n  {\n    base: 'ao',\n    letters: '\\uA735'\n  },\n  {\n    base: 'au',\n    letters: '\\uA737'\n  },\n  {\n    base: 'av',\n    letters: '\\uA739\\uA73B'\n  },\n  {\n    base: 'ay',\n    letters: '\\uA73D'\n  },\n  {\n    base: 'b',\n    letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'\n  },\n  {\n    base: 'c',\n    letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'\n  },\n  {\n    base: 'd',\n    letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'\n  },\n  {\n    base: 'dz',\n    letters: '\\u01F3\\u01C6'\n  },\n  {\n    base: 'e',\n    letters:\n      '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'\n  },\n  {\n    base: 'f',\n    letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'\n  },\n  {\n    base: 'g',\n    letters:\n      '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'\n  },\n  {\n    base: 'h',\n    letters:\n      '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'\n  },\n  {\n    base: 'hv',\n    letters: '\\u0195'\n  },\n  {\n    base: 'i',\n    letters:\n      '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'\n  },\n  {\n    base: 'j',\n    letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'\n  },\n  {\n    base: 'k',\n    letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'\n  },\n  {\n    base: 'l',\n    letters:\n      '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'\n  },\n  {\n    base: 'lj',\n    letters: '\\u01C9'\n  },\n  {\n    base: 'm',\n    letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'\n  },\n  {\n    base: 'n',\n    letters:\n      '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'\n  },\n  {\n    base: 'nj',\n    letters: '\\u01CC'\n  },\n  {\n    base: 'o',\n    letters:\n      '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'\n  },\n  {\n    base: 'oi',\n    letters: '\\u01A3'\n  },\n  {\n    base: 'ou',\n    letters: '\\u0223'\n  },\n  {\n    base: 'oo',\n    letters: '\\uA74F'\n  },\n  {\n    base: 'p',\n    letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'\n  },\n  {\n    base: 'q',\n    letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'\n  },\n  {\n    base: 'r',\n    letters:\n      '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'\n  },\n  {\n    base: 's',\n    letters:\n      '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'\n  },\n  {\n    base: 't',\n    letters:\n      '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'\n  },\n  {\n    base: 'tz',\n    letters: '\\uA729'\n  },\n  {\n    base: 'u',\n    letters:\n      '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'\n  },\n  {\n    base: 'v',\n    letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'\n  },\n  {\n    base: 'vy',\n    letters: '\\uA761'\n  },\n  {\n    base: 'w',\n    letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'\n  },\n  {\n    base: 'x',\n    letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'\n  },\n  {\n    base: 'y',\n    letters:\n      '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'\n  },\n  {\n    base: 'z',\n    letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'\n  }\n];\n\nconst diacriticsMap: { [x: string]: string } = {};\ndefaultDiacriticsRemovalap.forEach(defaultDiacritic =>\n  defaultDiacritic.letters.split('').forEach(letter => {\n    diacriticsMap[letter] = defaultDiacritic.base;\n  })\n);\n\n// \"what?\" version ... http://jsperf.com/diacritics/12\nexport function latinize(str: string): string {\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/[^\\u0000-\\u007E]/g, a => diacriticsMap[a] || a);\n}\n\n// Inspired from https://github.com/SonarSource/sonar-enterprise/blob/master/sonar-core/src/main/java/org/sonar/core/util/Slug.java\nexport function slugify(text: string) {\n  return latinize(text.trim().toLowerCase())\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w-]+/g, '-') // Replace all non-word chars with dash\n    .replace(/\\s+/g, '-') // Replace whitespaces with dash\n    .replace(/[/_,:;]/g, '-') // Replace special chars with dash\n    .replace(/--+/g, '-') // Replace multiple dash with single dash\n    .replace(/^-+/, '') // Remove heading dash\n    .replace(/-+$/, ''); // Remove trailing dash\n}\n\nexport function decodeJwt(token: string) {\n  const segments = token.split('.');\n  const base64Url = segments.length > 1 ? segments[1] : segments[0];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  return JSON.parse(window.atob(base64));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { BaseSearchProjectsParameters } from './components';\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nconst PAGE_SIZE = 100;\n\nexport function grantPermissionToUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_user', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_user', data).catch(throwGlobalError);\n}\n\nexport function grantPermissionToGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_group', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_group', data).catch(throwGlobalError);\n}\n\ninterface GetPermissionTemplatesResponse {\n  permissionTemplates: T.PermissionTemplate[];\n  defaultTemplates: Array<{ templateId: string; qualifier: string }>;\n  permissions: Array<{ key: string; name: string; description: string }>;\n}\n\nexport function getPermissionTemplates(\n  organization?: string\n): Promise<GetPermissionTemplatesResponse> {\n  const url = '/api/permissions/search_templates';\n  return organization ? getJSON(url, { organization }) : getJSON(url);\n}\n\nexport function createPermissionTemplate(data: RequestData) {\n  return postJSON('/api/permissions/create_template', data);\n}\n\nexport function updatePermissionTemplate(data: RequestData): Promise<void> {\n  return post('/api/permissions/update_template', data);\n}\n\nexport function deletePermissionTemplate(data: RequestData) {\n  return post('/api/permissions/delete_template', data).catch(throwGlobalError);\n}\n\n/**\n * Set default permission template for a given qualifier\n */\nexport function setDefaultPermissionTemplate(templateId: string, qualifier: string): Promise<void> {\n  return post('/api/permissions/set_default_template', { templateId, qualifier });\n}\n\nexport function applyTemplateToProject(data: RequestData) {\n  return post('/api/permissions/apply_template', data).catch(throwGlobalError);\n}\n\nexport function bulkApplyTemplate(data: BaseSearchProjectsParameters): Promise<void> {\n  return post('/api/permissions/bulk_apply_template', data);\n}\n\nexport function grantTemplatePermissionToUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/add_user_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/remove_user_from_template', data);\n}\n\nexport function grantTemplatePermissionToGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/add_group_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/remove_group_from_template', data);\n}\n\nexport function addProjectCreatorToTemplate(templateId: string, permission: string): Promise<void> {\n  return post('/api/permissions/add_project_creator_to_template', { templateId, permission });\n}\n\nexport function removeProjectCreatorFromTemplate(\n  templateId: string,\n  permission: string\n): Promise<void> {\n  return post('/api/permissions/remove_project_creator_from_template', { templateId, permission });\n}\n\nexport function getPermissionsUsersForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data).catch(throwGlobalError);\n}\n\nexport function getPermissionsGroupsForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data).catch(throwGlobalError);\n}\n\nexport function getGlobalPermissionsUsers(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data);\n}\n\nexport function getGlobalPermissionsGroups(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data);\n}\n\nexport function getPermissionTemplateUsers(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_users', data).then(r => r.users);\n}\n\nexport function getPermissionTemplateGroups(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_groups', data).then(r => r.groups);\n}\n\nexport function changeProjectVisibility(\n  project: string,\n  visibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_visibility', { project, visibility }).catch(throwGlobalError);\n}\n\nexport function changeProjectDefaultVisibility(\n  organization: string,\n  projectVisibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_default_visibility', { organization, projectVisibility }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CheckIcon from '../../../components/icons-components/CheckIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport * as theme from '../../../app/theme';\n\nconst TRIAL_DURATION_DAYS = 14;\n\nexport default function UpgradeOrganizationAdvantages() {\n  return (\n    <ul className=\"note\">\n      <Advantage>{translate('billing.upgrade_box.unlimited_private_projects')}</Advantage>\n      <Advantage>{translate('billing.upgrade_box.strict_control_private_data')}</Advantage>\n      <Advantage>{translate('billing.upgrade_box.cancel_anytime')}</Advantage>\n      <Advantage>\n        <strong>\n          {translateWithParameters('billing.upgrade_box.free_trial_x', TRIAL_DURATION_DAYS)}\n        </strong>\n      </Advantage>\n    </ul>\n  );\n}\n\nexport function Advantage({ children }: { children: React.ReactNode }) {\n  return (\n    <li className=\"display-flex-center little-spacer-bottom\">\n      <CheckIcon className=\"spacer-right\" fill={theme.lightGreen} />\n      {children}\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function RecommendedIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M15.089 13.199l-1.742-3.736c-0.962 1.401-2.464 2.398-4.203 2.701l1.459 3.128c0.186 0.4 0.764 0.373 0.914-0.040l0.748-2.054 0.154-0.072 2.054 0.748c0.412 0.151 0.804-0.276 0.618-0.675zM8.040 0.384c-3.003 0-5.446 2.443-5.446 5.446s2.443 5.446 5.446 5.446c3.003 0 5.446-2.443 5.446-5.446s-2.443-5.446-5.446-5.446zM10.689 5.429l-0.966 0.941 0.228 1.33c0.070 0.406-0.358 0.711-0.718 0.522l-1.194-0.628-1.194 0.628c-0.363 0.19-0.788-0.118-0.718-0.522l0.228-1.33-0.966-0.941c-0.293-0.286-0.131-0.786 0.274-0.844l1.335-0.194 0.597-1.209c0.181-0.367 0.707-0.368 0.888 0l0.597 1.209 1.335 0.194c0.405 0.059 0.568 0.558 0.274 0.844zM2.732 9.463l-1.742 3.736c-0.187 0.4 0.208 0.825 0.618 0.674l2.054-0.748 0.154 0.072 0.748 2.054c0.15 0.412 0.727 0.441 0.914 0.040l1.459-3.128c-1.739-0.302-3.241-1.3-4.203-2.701z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport RecommendedIcon from '../icons-components/RecommendedIcon';\nimport { translate } from '../../helpers/l10n';\nimport './RadioCard.css';\n\nexport interface RadioCardProps {\n  className?: string;\n  disabled?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n}\n\ninterface Props extends RadioCardProps {\n  children: React.ReactNode;\n  recommended?: string;\n  title: React.ReactNode;\n  titleInfo?: React.ReactNode;\n}\n\nexport default function RadioCard(props: Props) {\n  const { className, disabled, onClick, recommended, selected, titleInfo } = props;\n  const isActionable = Boolean(onClick);\n  return (\n    <div\n      aria-checked={selected}\n      className={classNames(\n        'radio-card',\n        { 'radio-card-actionable': isActionable, disabled, selected },\n        className\n      )}\n      onClick={isActionable && !disabled ? onClick : undefined}\n      role=\"radio\"\n      tabIndex={0}>\n      <h2 className=\"radio-card-header big-spacer-bottom\">\n        <span className=\"display-flex-center\">\n          {isActionable && (\n            <i className={classNames('icon-radio', 'spacer-right', { 'is-checked': selected })} />\n          )}\n          {props.title}\n        </span>\n        {titleInfo}\n      </h2>\n      <div className=\"radio-card-body\">{props.children}</div>\n      {recommended && (\n        <div className=\"radio-card-recommended\">\n          <RecommendedIcon className=\"spacer-right\" />\n          <FormattedMessage\n            defaultMessage={recommended}\n            id={recommended}\n            values={{ recommended: <strong>{translate('recommended')}</strong> }}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./RadioCard.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./RadioCard.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./RadioCard.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.radio-card {\\n  display: flex;\\n  flex-direction: column;\\n  width: 450px;\\n  min-height: 210px;\\n  background-color: #fff;\\n  border: solid 1px #e6e6e6;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  margin-right: 16px;\\n  transition: all 0.2s ease;\\n}\\n\\n.radio-card.animated {\\n  height: 0;\\n  border-width: 0;\\n  overflow: hidden;\\n}\\n\\n.radio-card.animated.open {\\n  height: 210px;\\n  border-width: 1px;\\n}\\n\\n.radio-card.highlight {\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\\n}\\n\\n.radio-card:last-child {\\n  margin-right: 0;\\n}\\n\\n.radio-card:focus {\\n  outline: none;\\n}\\n\\n.radio-card-actionable {\\n  cursor: pointer;\\n}\\n\\n.radio-card-actionable:not(.disabled):hover {\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\\n  transform: translateY(-2px);\\n}\\n\\n.radio-card-actionable.selected {\\n  border-color: #236a97;\\n}\\n\\n.radio-card-actionable.selected .radio-card-recommended {\\n  border: solid 1px #236a97;\\n  border-top: none;\\n}\\n\\n.radio-card-actionable.disabled {\\n  cursor: not-allowed;\\n  background-color: #ebebeb;\\n  border-color: #ddd;\\n}\\n\\n.radio-card-actionable.disabled h2,\\n.radio-card-actionable.disabled ul {\\n  color: #bbb;\\n}\\n\\n.radio-card-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 16px 16px 0;\\n}\\n\\n.radio-card-body {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  padding: 0 16px 16px;\\n}\\n\\n.radio-card-body .alert {\\n  margin-bottom: 0;\\n}\\n\\n.radio-card-recommended {\\n  position: relative;\\n  padding: 6px 16px;\\n  left: -1px;\\n  bottom: -1px;\\n  width: 450px;\\n  color: #fff;\\n  background-color: #4b9fd5;\\n  border-radius: 0 0 3px 3px;\\n  box-sizing: border-box;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getSubscriptionPlans(): Promise<T.SubscriptionPlan[]> {\n  return getJSON('/api/billing/show_subscription_plans').then(\n    ({ subscriptionPlans }) => subscriptionPlans,\n    throwGlobalError\n  );\n}\n\nexport function giveDowngradeFeedback(data: {\n  organization: string;\n  feedback: string;\n  additionalFeedback?: string;\n}): Promise<void> {\n  return post('/api/billing/send_feedback', data);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getGlobalNavigation(): Promise<T.AppState> {\n  return getJSON('/api/navigation/global');\n}\n\nexport function getComponentNavigation(\n  data: { component: string } & T.BranchParameters\n): Promise<any> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { areThereCustomOrganizations, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from '../../components/hoc/utils';\n\ntype ReactComponent<P> = React.ComponentClass<P> | React.StatelessComponent<P>;\n\nexport default function forSingleOrganization<P>(ComposedComponent: ReactComponent<P>) {\n  interface StateProps {\n    customOrganizations: boolean | undefined;\n  }\n\n  class ForSingleOrganization extends React.Component<StateProps & WithRouterProps> {\n    static displayName = getWrappedDisplayName(\n      ComposedComponent as React.ComponentClass,\n      'forSingleOrganization'\n    );\n\n    render() {\n      const { customOrganizations, router, ...other } = this.props;\n\n      if (!other.params.organizationKey && customOrganizations) {\n        router.replace('/not_found');\n        return null;\n      }\n\n      return <ComposedComponent {...other} />;\n    }\n  }\n\n  const mapStateToProps = (state: Store) => ({\n    customOrganizations: areThereCustomOrganizations(state)\n  });\n\n  return connect(mapStateToProps)(withRouter(ForSingleOrganization));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function VisibleIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M13.524 8.403q-1.093-1.697-2.74-2.539 0.439 0.748 0.439 1.618 0 1.331-0.946 2.276t-2.276 0.946-2.276-0.946-0.946-2.276q0-0.87 0.439-1.618-1.647 0.842-2.74 2.539 0.957 1.474 2.399 2.348t3.125 0.874 3.125-0.874 2.399-2.348zM8.345 5.641q0-0.144-0.101-0.245t-0.245-0.101q-0.899 0-1.543 0.644t-0.644 1.543q0 0.144 0.101 0.245t0.245 0.101 0.245-0.101 0.101-0.245q0-0.619 0.439-1.057t1.057-0.439q0.144 0 0.245-0.101t0.101-0.245zM14.444 8.403q0 0.245-0.144 0.496-1.007 1.654-2.708 2.65t-3.593 0.996-3.593-1-2.708-2.647q-0.144-0.252-0.144-0.496t0.144-0.496q1.007-1.647 2.708-2.647t3.593-1 3.593 1 2.708 2.647q0.144 0.252 0.144 0.496z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport * as theme from '../../app/theme';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isCurrentUserMemberOf, isPaidOrganization } from '../../helpers/organizations';\nimport {\n  getCurrentUser,\n  getOrganizationByKey,\n  getMyOrganizations,\n  Store\n} from '../../store/rootReducer';\nimport VisibleIcon from '../icons-components/VisibleIcon';\nimport DocTooltip from '../docs/DocTooltip';\n\ninterface StateToProps {\n  currentUser: T.CurrentUser;\n  organization?: T.Organization;\n  userOrganizations: T.Organization[];\n}\n\ninterface OwnProps {\n  className?: string;\n  organization: T.Organization | string | undefined;\n  qualifier: string;\n  tooltipProps?: { projectKey: string };\n  visibility: T.Visibility;\n}\n\ninterface Props extends OwnProps, StateToProps {\n  organization: T.Organization | undefined;\n}\n\nexport function PrivacyBadge({\n  className,\n  currentUser,\n  organization,\n  qualifier,\n  userOrganizations,\n  tooltipProps,\n  visibility\n}: Props) {\n  const onSonarCloud = isSonarCloud();\n  if (\n    visibility !== 'private' &&\n    (!onSonarCloud || !isCurrentUserMemberOf(currentUser, organization, userOrganizations))\n  ) {\n    return null;\n  }\n\n  let icon = null;\n  if (isPaidOrganization(organization) && visibility === 'public') {\n    icon = <VisibleIcon className=\"little-spacer-right\" fill={theme.blue} />;\n  }\n\n  const badge = (\n    <div\n      className={classNames('outline-badge', className, {\n        'badge-info': Boolean(icon),\n        'badge-icon': Boolean(icon)\n      })}>\n      {icon}\n      {translate('visibility', visibility)}\n    </div>\n  );\n\n  if (onSonarCloud && organization) {\n    return (\n      <DocTooltip\n        className={className}\n        doc={getDoc(visibility, icon, organization)}\n        overlayProps={{ ...tooltipProps, organization: organization.key }}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      {badge}\n    </Tooltip>\n  );\n}\n\nconst mapStateToProps = (state: Store, { organization }: OwnProps) => {\n  if (typeof organization === 'string') {\n    organization = getOrganizationByKey(state, organization);\n  }\n  return {\n    currentUser: getCurrentUser(state),\n    organization,\n    userOrganizations: getMyOrganizations(state)\n  };\n};\n\nexport default connect(mapStateToProps)(PrivacyBadge);\n\nfunction getDoc(visibility: T.Visibility, icon: JSX.Element | null, organization: T.Organization) {\n  let doc;\n  const { actions = {} } = organization;\n  if (visibility === 'private') {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-private.md');\n  } else if (icon) {\n    if (actions.admin) {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org-admin.md');\n    } else {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org.md');\n    }\n  } else if (actions.admin) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-admin.md');\n  } else {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public.md');\n  }\n  return doc;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface ChildrenProps {\n  onSubmit: React.FormEventHandler;\n  processingUpgrade: boolean;\n  renderFormFields: () => React.ReactNode;\n  renderNextCharge: (className?: string) => React.ReactNode;\n  renderRecap: () => React.ReactNode;\n  renderSubmitButton: (submitText?: string) => React.ReactNode;\n  renderSubmitGroup: (submitText?: string) => React.ReactNode;\n}\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  initialCountry?: string;\n  currentUser: T.CurrentUser;\n  onCommit: () => void | Promise<void>;\n  onFailToUpgrade?: () => void;\n  organizationKey: string | (() => Promise<string>);\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\nexport default class BillingFormShim extends React.Component<Props> {\n  render() {\n    const { BillingForm } = (window as any).SonarBilling;\n    return <BillingForm {...this.props} />;\n  }\n}\n","module.exports = \"This project is private. Only the members of this organization are able to browse it and its source code.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Go to your project's [Administration > Permissions](/#sonarcloud#/project_roles?id=#projectKey#) to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the project administrator to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Subscribe to a paid plan to get unlimited private projects in [Administration > Billing](/#sonarcloud#/organizations/#organization#/extension/billing/billing).\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the organization administrator if you want to make it private.\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport BillingFormShim from './BillingFormShim';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Modal from '../../../components/controls/Modal';\nimport { ResetButtonLink } from '../../../components/ui/buttons';\nimport { getExtensionStart } from '../../../app/components/extensions/utils';\nimport { translate } from '../../../helpers/l10n';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\n\nconst BillingForm = withCurrentUser(BillingFormShim);\n\ninterface Props {\n  insideModal?: boolean;\n  onUpgradeDone: () => void;\n  onClose: () => void;\n  organization: T.Organization;\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\ninterface State {\n  ready: boolean;\n}\n\nexport default class UpgradeOrganizationModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { ready: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    getExtensionStart('billing/billing').then(\n      () => {\n        if (this.mounted) {\n          this.setState({ ready: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const header = translate('billing.upgrade_box.upgrade_to_paid_plan');\n\n    if (!this.state.ready) {\n      return null;\n    }\n\n    return (\n      <Modal\n        contentLabel={header}\n        noBackdrop={this.props.insideModal}\n        onRequestClose={this.props.onClose}\n        shouldCloseOnOverlayClick={false}\n        size={'medium'}>\n        <div className=\"modal-head\">\n          <h2>{header}</h2>\n        </div>\n        <BillingForm\n          onCommit={this.props.onUpgradeDone}\n          organizationKey={this.props.organization.key}\n          subscriptionPlans={this.props.subscriptionPlans}>\n          {({\n            onSubmit,\n            processingUpgrade,\n            renderFormFields,\n            renderNextCharge,\n            renderRecap,\n            renderSubmitButton\n          }) => (\n            <form id=\"organization-paid-plan-form\" onSubmit={onSubmit}>\n              <div className=\"modal-body modal-container\">\n                <div className=\"huge-spacer-bottom\">\n                  <p className=\"spacer-bottom\">\n                    <FormattedMessage\n                      defaultMessage={translate('billing.upgrade.org_x_advantages')}\n                      id=\"billing.coupon.description\"\n                      values={{\n                        org: <strong>{this.props.organization.name}</strong>\n                      }}\n                    />\n                  </p>\n                  <UpgradeOrganizationAdvantages />\n                </div>\n                {renderFormFields()}\n                <div className=\"big-spacer-top\">{renderRecap()}</div>\n              </div>\n              <footer className=\"modal-foot display-flex-center display-flex-space-between\">\n                {renderNextCharge() || <span />}\n                <div>\n                  <DeferredSpinner loading={processingUpgrade} />\n                  {renderSubmitButton()}\n                  <ResetButtonLink onClick={this.props.onClose}>\n                    {translate('cancel')}\n                  </ResetButtonLink>\n                </div>\n              </footer>\n            </form>\n          )}\n        </BillingForm>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport UpgradeOrganizationModal from './UpgradeOrganizationModal';\nimport RadioCard from '../../../components/controls/RadioCard';\nimport { Button } from '../../../components/ui/buttons';\nimport { formatPrice } from '../organization/utils';\nimport { getSubscriptionPlans } from '../../../api/billing';\nimport { translate, hasMessage } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  insideModal?: boolean;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  subscriptionPlans: T.SubscriptionPlan[];\n  upgradeOrganizationModal: boolean;\n}\n\nexport default class UpgradeOrganizationBox extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { subscriptionPlans: [], upgradeOrganizationModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchSubscriptionPlans();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchSubscriptionPlans = () => {\n    return getSubscriptionPlans().then(subscriptionPlans => {\n      if (this.mounted) {\n        this.setState({ subscriptionPlans });\n      }\n    });\n  };\n\n  handleUpgradeClick = () => {\n    this.setState({ upgradeOrganizationModal: true });\n  };\n\n  handleUpgradeOrganizationModalClose = () => {\n    if (this.mounted) {\n      this.setState({ upgradeOrganizationModal: false });\n    }\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.onOrganizationUpgrade();\n    this.handleUpgradeOrganizationModalClose();\n  };\n\n  render() {\n    if (!hasMessage('billing.upgrade_box.header')) {\n      return null;\n    }\n\n    const { subscriptionPlans, upgradeOrganizationModal } = this.state;\n    const startingPrice = subscriptionPlans[0] && subscriptionPlans[0].price;\n\n    return (\n      <>\n        <RadioCard\n          className={this.props.className}\n          title={translate('billing.upgrade_box.header')}\n          titleInfo={\n            startingPrice !== undefined && (\n              <FormattedMessage\n                defaultMessage={translate('billing.price_from_x')}\n                id=\"billing.price_from_x\"\n                values={{\n                  price: <span className=\"big\">{formatPrice(startingPrice)}</span>\n                }}\n              />\n            )\n          }>\n          <>\n            <UpgradeOrganizationAdvantages />\n            <div className=\"big-spacer-left\">\n              <Button className=\"js-upgrade-organization\" onClick={this.handleUpgradeClick}>\n                {translate('billing.paid_plan.upgrade')}\n              </Button>\n              <Link className=\"spacer-left\" target=\"_blank\" to=\"/about/pricing\">\n                {translate('billing.pricing.learn_more')}\n              </Link>\n            </div>\n          </>\n        </RadioCard>\n        {upgradeOrganizationModal && (\n          <UpgradeOrganizationModal\n            insideModal={this.props.insideModal}\n            onClose={this.handleUpgradeOrganizationModalClose}\n            onUpgradeDone={this.handleOrganizationUpgrade}\n            organization={this.props.organization}\n            subscriptionPlans={subscriptionPlans}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: T.Visibility) => void;\n  showDetails?: boolean;\n  visibility?: T.Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  handlePublicClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('public');\n  };\n\n  handlePrivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('private');\n  };\n\n  render() {\n    return (\n      <div className={classNames('visibility-select', this.props.className)}>\n        <a\n          className=\"link-base-color link-no-underline visibility-select-option\"\n          href=\"#\"\n          id=\"visibility-public\"\n          onClick={this.handlePublicClick}>\n          <i\n            className={classNames('icon-radio', {\n              'is-checked': this.props.visibility === 'public'\n            })}\n          />\n          <span className=\"spacer-left\">{translate('visibility.public')}</span>\n        </a>\n        {this.props.showDetails && (\n          <span className=\"visibility-details note\">\n            {translate('visibility.public.description.long')}\n          </span>\n        )}\n\n        {this.props.canTurnToPrivate ? (\n          <>\n            <a\n              className=\"link-base-color link-no-underline huge-spacer-left visibility-select-option\"\n              href=\"#\"\n              id=\"visibility-private\"\n              onClick={this.handlePrivateClick}>\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </a>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        ) : (\n          <>\n            <span\n              className=\"huge-spacer-left text-muted cursor-not-allowed visibility-select-option\"\n              id=\"visibility-private\">\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </span>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DateFormatter from './DateFormatter';\nimport DateTimeFormatter from './DateTimeFormatter';\nimport Tooltip from '../controls/Tooltip';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  className?: string;\n  date: Date | string | number;\n}\n\nexport default function DateTooltipFormatter({ className, date }: Props) {\n  const parsedDate = parseDate(date);\n  return (\n    <DateFormatter date={parsedDate} long={true}>\n      {formattedDate => (\n        <Tooltip mouseEnterDelay={0.5} overlay={<DateTimeFormatter date={parsedDate} />}>\n          <time className={className} dateTime={parsedDate.toISOString()}>\n            {formattedDate}\n          </time>\n        </Tooltip>\n      )}\n    </DateFormatter>\n  );\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"],"sourceRoot":""}